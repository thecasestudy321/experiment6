webpackJsonp([95,218],{169:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){for(var o=new PIXI.Container,a=new PIXI.filters.ColorMatrixFilter,r=n||!1,h=i||{addArrow:!1,type:"horizontal",scale:1},s=new PIXI.Container,d=0;d<3;++d){var l=d+1,p=PIXI.Sprite.fromFrame("TAP_1"+l);p.x=-p.width/2,p.y=-p.height/2;var c=new PIXI.Container;c.addChild(p),s.addChild(c)}var m=0;if(h.direction)switch(h.direction){case"top":m=-Math.PI/2;break;case"bottom":m=Math.PI/2;break;case"left":m=Math.PI;break;case"right":m=0;break;default:m=0}s.filters=[a];for(var v=0;v<s.children.length;v++){var f=s.children[v];f.scale.x=f.scale.y=2,v<2&&C(f,.75*v)}if(o.addChild(s),h.addArrow){var T,u;if(h.direction){T=PIXI.Sprite.fromFrame("oneArrow"),u=new PIXI.extras.MovieClip([T]);var N=h.scale?h.scale:1;u.scale.x=u.scale.y=N,u.pivot={x:0,y:u.height/2},u.rotation=m}else{T=PIXI.Sprite.fromFrame("NBarrow"),(u=new PIXI.extras.MovieClip([T])).pivot={x:u.width/2,y:u.height/2};var x=h.scale?h.scale:1;u.scale.x=u.scale.y=x,"horizontal"!==(h.type?h.type:"horizontal")&&(u.rotation=Math.PI/2)}o.addChild(u),o.arrow=u,o.addEventListener("hideArrow",function(){u.alpha=0,u.visible=!1}),o.addEventListener("showArrow",function(){u.alpha=1,u.visible=!0})}s.alpha=.4;var w=new PIXI.Graphics;function C(t,e){TweenMax.to(t,1.5,{delay:e,alpha:0,repeat:-1}),TweenMax.to(t.scale,1.5,{x:5,y:5,delay:e,repeat:-1})}return w.beginFill(16776960,0),w.drawRect(-50,-50,100,100),o.addChild(w),o.addEventListener(MouseEvent.MOUSE_OVER,function(){s.alpha=.6}),o.addEventListener(MouseEvent.MOUSE_OUT,function(){s.alpha=.4}),o.addEventListener(TouchEvent.TOUCH_BEGIN,function(){o.emit(o.event.TAP),!r&&o.parent&&o.parent.removeChild(o)}),o.x=t,o.y=e,o.setColor=function(t){var e=t>>16,n=t>>8&255,i=255&t;a._loadMatrix([e,0,0,0,0,0,n,0,0,0,0,0,i,0,0,0,0,0,255,0],!1),s.filters=[a]},o.setRotation=function(t){o.rotation=t},o.showAllDir=function(){if(h.direction)for(var t=0;t<3;t++){var e=new PIXI.Container;e.addChild(PIXI.Sprite.fromFrame("oneArrow")),o.addChild(e),e.pivot={x:0,y:u.height/2},e.rotation=Math.PI/2*(t+1)}else{var n=new PIXI.Container;n.addChild(PIXI.Sprite.fromFrame("NBarrow")),o.addChild(n),n.pivot={x:u.width/2,y:u.height/2},n.rotation=o.rotation+Math.PI/2}},o.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&o.scale.set(.6,.6),o}},242:function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(n(169));nb.substance0041=extendsClass(ScienceMain,{frame0:function(){var t=this,e=new nb.SimpleElecPlugin(this);window.elec=e,this.l0.setAnchorOffset(0,-80),this.l1.setAnchorOffset(0,80);var n=(0,i.default)(-50,-20,!0);this.pin.addChild(n),this.pin.Point=n;var o=(0,i.default)(0,0,!0),a=(0,i.default)(0,0,!0);t.boardpin.pinHit.alpha=0,this.boardpin.visible=!1,this.boardpin.follow.alpha=0,e.disConnectNode(t.node2,t.node3),this.onUpdate=function(){t.setChildIndex(t.boardpin,t.children.length-1),e.render();var n=t.l0.bottom.hitTest(t.node0)&&t.l0.top.hitTest(t.node1),i=t.l0.bottom.hitTest(t.node1)&&t.l0.top.hitTest(t.node0),o=t.l1.bottom.hitTest(t.node0)&&t.l1.top.hitTest(t.node1),a=t.l1.bottom.hitTest(t.node1)&&t.l1.top.hitTest(t.node0);e.checkConnect(t.node0,t.node1)&&t.flag?(t.light.alpha=1,t.complete=!0):(n||i||o||a)&&e.checkConnect(t.node0,t.node1)?(t.light.alpha=1,t.complete=!0):t.light.alpha=0},NBDrag.addDrag(this.pin),this.pin.addEventListener(NBDrag.event.STOP_DRAG,function(){this.hitTest(t.board)?(NBDrag.removeDrag(this),this.visible=!1,t.boardpin.visible=!0,t.pin.isHit=!0,e.disConnectNode(t.node2,t.node3),NBGesture.addGesture(t.boardpin,NBGesture.gesture.TAP,function(){t.boardpin.removeChild(t.boardpin.boardpin),c(),t.boardpin.pinHit.hitTest(t.node2)?(t.flag=!1,TweenMax.to(t.boardpin,.5,{rotation:0}),e.disConnectNode(t.node2,t.node3)):TweenMax.to(t.boardpin,.5,{rotation:-24.7/180*Math.PI,onComplete:function(){t.setChildIndex(t.boardpin,t.children.length-1),e.connectNode(t.node2,t.node3),t.flag=!0}})})):t.pin.addChild(n),m()}),this.pin.addEventListener(NBDrag.event.START_DRAG,function(){t.pin.removeChild(n),c()});for(var r=[t.tool,t.l0,t.l1,t.board],h=0;h<r.length-1;h++){var s=r[h];s.addEventListener(TouchEvent.TOUCH_BEGIN,c),s.addEventListener(TouchEvent.TOUCH_END,m),s.addEventListener(TouchEvent.TOUCH_OUTSIDE,m)}for(var d=[t.l0.top,t.l0.bottom,t.l1.top,t.l1.bottom],l=0;l<4;l++){var p=d[l];p.addEventListener(NBDrag.event.START_DRAG,function(){c(),this.Point&&this.removeChild(this.Point)}),p.addEventListener(NBDrag.event.STOP_DRAG,m)}function c(){instance.NBDownTip.hideTip()}function m(){if(t.pin.isHit)if(e.checkConnect(t.node1,t.node2)&&e.checkConnect(t.node0,t.node3)||e.checkConnect(t.node1,t.node3)&&e.checkConnect(t.node0,t.node2)||t.complete){if(!e.connectNode(t.node2,t.node3)&&!t.complete){instance.NBDownTip.showTip("闭合开关观察现象");var n=(0,i.default)(-60,-30,!0);t.boardpin.addChild(n),t.boardpin.boardpin=n}}else{var r=t.l0.top.isMoveOk&&t.l0.bottom.isMoveOk,h=t.l0.top.isMoveOk&&t.l1.bottom.isMoveOk,s=t.l1.top.isMoveOk&&t.l0.bottom.isMoveOk,d=t.l1.top.isMoveOk&&t.l1.bottom.isMoveOk;r||h||s||d?instance.NBDownTip.showTip("用导线连接开关、灯泡、电池"):(instance.NBDownTip.showTip("用导线连接开关、灯泡、电池"),t.l0.top.isMoveOk||t.l1.top.isMoveOk?t.l0.bottom.isMoveOk||t.l1.bottom.isMoveOk||(t.l0.bottom.addChild(a),t.l0.bottom.Point=a):(t.l0.top.addChild(o),t.l0.top.Point=o))}else instance.NBDownTip.showTip("将回形针放置到钉有大头针的木板上")}},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.showExperimentImport(this.info.experimentImport),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"开关是电路的重要组成部分,开关可以用来连通或断开电路，控制电路中电器元件的工作状态。",labName:"做个小开关",title0:"组成简易电路",CONCLUSION:"接通电路的部分需要用导体来做，手要接触的地方必须用绝缘体来做。开关闭合接通电路，开关中的导体部分让电流通过。"},const:{},event:{}}),nb.elecWire=function(){var t=this,e=[10624275,11814208,13402495,14462125],n=this.top,i=this.bottom;n.groupNode=i;var o=n.showNode,a=[];n.hideNode=o,o=i.showNode,i.hideNode=o,i.groupNode=n;var r={x:n.x+i.x>>1,y:n.y+i.y>>1},h={x:.01,y:0},s=new PIXI.Graphics;this.addChildAt(s,0),this.graphics=s;var d=0,l=Math.atan2(n.y-i.y,n.x-i.x);function p(t){if(!1!==nb.elecWire.allowDragWire){t.stopPropagation();var e=!1;null==n.bind&&null==i.bind||(e=!1);var o={x:t.data.global.x,y:t.data.global.y},a=function(t){if(e){var a={x:t.data.global.x-o.x,y:t.data.global.y-o.y};n.x+=a.x,n.y+=a.y,i.x+=a.x,i.y+=a.y}else{var r={x:t.data.global.x-o.x,y:t.data.global.y-o.y},s=NBMath.rotaPoint(r,{x:0,y:0},-d);h.x+=s.x,h.y+=s.y}o.x=t.data.global.x,o.y=t.data.global.y},r=function t(){s.removeListener(TouchEvent.TOUCH_MOVE,a),s.removeListener(TouchEvent.TOUCH_END,t),s.removeListener(TouchEvent.TOUCH_END_OUDSIDE,t)};this.addEventListener(TouchEvent.TOUCH_MOVE,a),this.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,r),this.addEventListener(TouchEvent.TOUCH_END,r)}}function c(e){var n=e.target;n.parent.emit("nodeStartDrag"),n.clearBind(),this.parent.parent&&this.parent.parent.addChild(this.parent),function(){for(var e=t.core.nodeAry,n=0;n<e.length;n++)e[n].showHint()}(),this.Point&&(this.removeChild(this.Point),this.Point=null)}this.setAnchorOffset=function(t,e){h.x=t,h.y=e},this.excludeNodes=function(t){for(var e=0;e<t.length;e++)a.push(t[e])},s.addEventListener(TouchEvent.TOUCH_BEGIN,p),this.removeGraphicsEvent=function(){s.removeListener(TouchEvent.TOUCH_BEGIN,p)},NBDrag.addDrag(n),NBDrag.addDrag(i),n.addEventListener(NBDrag.event.START_DRAG,c),n.addEventListener(NBDrag.event.DRAG_MOVE,v),n.addEventListener(NBDrag.event.STOP_DRAG,f),i.addEventListener(NBDrag.event.START_DRAG,c),i.addEventListener(NBDrag.event.DRAG_MOVE,v),i.addEventListener(NBDrag.event.STOP_DRAG,f);var m=!1;function v(e){for(var n=e.target,i=t.core.nodeAry,o=this.toGlobal({x:0,y:0}),r=0;r<i.length;r++){m=!1;var h=i[r];if(!h.isFull()&&-1===a.indexOf(h)){var s=h.toGlobal({x:0,y:0});if(NBPoint.distance(s,o)<$s(40)){m=!0;var d=this.parent.toLocal(s,instance.stage);return this.x=d.x,this.y=d.y,void(n._node=h)}}}n._node=null}function f(e){var n=e.target;n.parent.emit("nodeStopDrag",{isConnected:m}),n._node&&(n._node.bind(n),n.getChildAt(0).alpha=0),function(){for(var e=t.core.nodeAry,n=0;n<e.length;n++)e[n].hideHint()}(),this.isMoveOk=!0}var T={x:0,y:0};this.render=function(){if(n.bindData.length>0){var t=n.bindData[0].toGlobal({x:0,y:0});t=this.toLocal(t,instance.stage),n.x=t.x,n.y=t.y}if(i.bindData.length>0){var o=i.bindData[0].toGlobal({x:0,y:0});o=this.toLocal(o,instance.stage),i.x=o.x,i.y=o.y}s.clear();var a=Math.atan2(n.y-i.y,n.x-i.x);d=a-l;var p=NBMath.rotaPoint(h,{x:0,y:0},d),c=e.length,m={x:(n.x+i.x>>1)+p.x,y:(n.y+i.y>>1)+p.y},v=.05*(m.x-r.x),f=.05*(m.y-r.y);T.x+=v,T.y+=f,r.x+=T.x,r.y+=T.y,T.x*=.92,T.y*=.92;for(var u=0;u<c;u++)s.lineStyle(2*(c-u-1)-1,e[u],1),s.moveTo(n.x,n.y),s.bezierCurveTo(n.x,n.y,r.x,r.y,i.x,i.y);s.lineStyle(1,0,0),s.beginFill(16711680,0);var N={x:n.x,y:n.y},x=NBPoint.interpolate(r,N,1),w=NBMath.rotaPoint(x,N,Math.PI/2),C=NBMath.rotaPoint(x,N,-Math.PI/2);c=$s(50),w=NBPoint.interpolate(w,N,c/NBPoint.distance(w,N)),C=NBPoint.interpolate(C,N,c/NBPoint.distance(C,N)),N={x:i.x,y:i.y},x=NBPoint.interpolate(r,N,1);var b=NBMath.rotaPoint(x,N,Math.PI/2),y=NBMath.rotaPoint(x,N,-Math.PI/2),g=NBPoint.interpolate(b,N,c/NBPoint.distance(b,N)),D=NBPoint.interpolate(y,N,c/NBPoint.distance(y,N)),B={x:n.x+i.x>>1,y:n.y+i.y>>1},E=NBPoint.interpolate(B,m,c/NBPoint.distance(m,B)),P=NBPoint.interpolate(B,m,-c/NBPoint.distance(m,B));if(h.x<0){var A=E;E=P,P=A}s.moveTo(w.x,w.y),s.bezierCurveTo(w.x,w.y,E.x,E.y,D.x,D.y),s.lineTo(g.x,g.y),s.bezierCurveTo(g.x,g.y,P.x,P.y,C.x,C.y)}},nb.SimpleElecPlugin=function(t,e){this.connectNode=function(t,e){t.groupNode=e,e.groupNode=t},this.disConnectNode=function(t,e){delete t.groupNode,delete e.groupNode},t.core=this,this.config=e||{};var n=[],i=[];this.nodeAry=i,function t(e){for(var o=0;o<e.children.length;o++){var a=e.children[o];t.apply(this,[a]);var r=a.linkageClassName;if(r&&(0===r.indexOf("nb.elecWire")?(n.push(a),a.core=this):0===r.indexOf("nb.elecLamp")?(this.connectNode(a.nodeLeft,a.nodeRight),a.nodeLeft.lamp=a,a.nodeRight.lamp=a):0===r.indexOf("nb.elecPower")&&(this.connectNode(a.nodeLeft,a.nodeRight),a.nodeLeft.power=a,a.nodeRight.power=a)),void 0!==a.elecType)switch(a.elecType){case nb.elecType.BLACK_WIRE_NODE:case nb.elecType.RED_WIRE_NODE:i.push(a),a.core=this}}}.apply(this,[t]),this.render=function(){for(var t=n.length,e=0;e<t;e++)n[e].render()},this.checkConnect=function(t,e,n){for(var i=t,o=[t],a=[],r=[],h=[],s=[];;){var d=i.bindData[0];if(-1!==o.indexOf(d)&&(d=i.groupNode,-1!==o.indexOf(d)))return!1;if(!d)return!1;if(void 0!==d.lamp?-1===a.indexOf(d.lamp)?a.push(d.lamp):r.push(d.lamp):void 0!==d.power&&(-1===h.indexOf(d.power)?h.push(d.power):s.push(d.power)),o.push(d),(i=d)===e)return n&&(n.lampAry=r,n.powerAry=s),!0}},this.pointConnect=function(t,e){return!!t.hitTest(e)}},nb.elecNode=function(){this.bindData=[],this.showNode=function(){this.getChildAt(0).alpha=1},this.hideNode=function(){this.getChildAt(0).alpha=0},this.showHint=function(){if(this.core.config.useNodeHint&&void 0===this.hint){var t=new PIXI.Graphics;t.lineStyle($s(6),16777215,.5),t.drawCircle(0,0,$s(20)),this.hint=t,this.hint.visible=!1,this.addChild(t)}this.hint&&(this.hint.visible=!0)},this.hideHint=function(){this.hint&&(this.hint.visible=!1)},this.bind=function(t){this.bindData.push(t),t.bindData.push(this),this.showNode()},this.clearBind=function(){var t=this.bindData.pop();t&&(t.removeBind(this),this.removeBind(t),this.hideNode())},this.removeBind=function(t){var e=this.bindData.indexOf(t);-1!==e&&(this.bindData.splice(e,1),this.hideNode())},this.isFull=function(){return this.bindData.length>=1}},nb.elecBlackNode=function(){this.elecType=nb.elecType.BLACK_WIRE_NODE,nb.elecNode.apply(this),this.hideNode()},nb.elecRedNode=function(){this.elecType=nb.elecType.RED_WIRE_NODE,nb.elecNode.apply(this),this.hideNode()},nb.elecLamp=function(){},nb.elecPower=function(){},nb.elecType={BLACK_WIRE_NODE:1,RED_WIRE_NODE:2},t.exports=nb.substance0041},297:function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(n(169));n(242),nb.substance0035=extendsClass(ScienceMain,{frame0:function(){var t=0,e=this;function n(){d&&setTimeout(function(){0!==e.lamp.light.alpha||a||((o.checkConnect(e.nodeTop,e.lamp.nodeRight)||o.checkConnect(e.nodeTop,e.lamp.nodeLeft))&&instance.NBDownTip.showTip("负级未连接"),(o.checkConnect(e.nodeBottom,e.lamp.nodeRight)||o.checkConnect(e.nodeBottom,e.lamp.nodeLeft))&&instance.NBDownTip.showTip("正极未连接"),o.checkConnect(e.lamp.nodeLeft,e.lamp.nodeRight)&&instance.NBDownTip.showTip("电池未连接"))},650)}this.lamp.isRota=0,NBGesture.addGesture(this.lamp.rota,NBGesture.gesture.TAP,function(){0===e.lamp.isRota?(TweenMax.to(e.lamp,.6,{rotation:Math.PI/2}),e.lamp.isRota=1):1===e.lamp.isRota&&(TweenMax.to(e.lamp,.6,{rotation:0}),e.lamp.isRota=0),e.lamp.nodeRight.hitTest(e.hitArea.hitAreaBottom)&&(1===e.lamp.isRota?TweenMax.to(e.lamp,.6,{rotation:Math.PI/2+.2}):0===e.lamp.isRota&&TweenMax.to(e.lamp,.6,{rotation:Math.PI})),n()}),NBDrag.addDrag(this.lamp),this.l0.setAnchorOffset(-200,0);var o=new nb.SimpleElecPlugin(this,{useNodeHint:!0});e.top.interactive=!0;var a=!1,r=!1,h=(0,i.default)(e.lamp.rota.width/2,e.lamp.rota.height/2),s=!0,d=!1;this.onUpdate=function(){e.top.x=e.lamp.x,e.top.y=e.lamp.y,o.render();var n={};this.lamp.light.alpha=0,o.checkConnect(this.nodeTop,this.nodeBottom,n)?f(n):(T?(d=!0,0===this.lamp.isRota?(r=!0,e.lamp.hitTest(e.hitArea.hitAreaTop)?o.checkConnect(this.nodeBottom,this.lamp.nodeRight,n)&&f(n)&&(t|=1,s&&(e.lamp.rota.addChild(h),s=!1,instance.NBDownTip.showTip("点击旋转按钮对灯泡旋转并尝试点亮"))):e.lamp.hitTest(e.hitArea.hitAreaBottom)&&o.checkConnect(this.nodeTop,this.lamp.nodeRight,n)&&f(n)&&(t|=4,s&&(e.lamp.rota.addChild(h),s=!1,instance.NBDownTip.showTip("点击旋转按钮对灯泡旋转并尝试点亮")))):1===this.lamp.isRota&&(e.lamp.hitTest(e.hitArea.hitAreaTop)?o.checkConnect(this.nodeBottom,this.lamp.nodeLeft,n)&&f(n)&&(t|=2,s&&(instance.NBDownTip.showTip("点击旋转按钮对灯泡旋转并尝试点亮"),e.lamp.rota.addChild(h),s=!1)):e.lamp.hitTest(e.hitArea.hitAreaBottom)&&o.checkConnect(this.nodeTop,this.lamp.nodeLeft,n)&&f(n)&&(t|=8,s&&(instance.NBDownTip.showTip("点击旋转按钮对灯泡旋转并尝试点亮"),e.lamp.rota.addChild(h),s=!1)))):(a=!1,e.lamp.rota.removeChild(h)),r&&(r=!1)),15===t&&this.onStepComplete()};var l=(0,i.default)(0,0);e.l0.top.addChild(l),e.l0.top.addEventListener(NBDrag.event.START_DRAG,c),e.l0.top.addEventListener(NBDrag.event.STOP_DRAG,v),e.l0.bottom.addEventListener(NBDrag.event.START_DRAG,c),e.l0.bottom.addEventListener(NBDrag.event.STOP_DRAG,v);var p=[e.l0.top,e.l0.bottom];function c(){this.removeChild(l),instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),"bottom"===this.name&&(m=!1),TweenMax.to(e.word0,.4,{alpha:0})}var m=!0;function v(){if(d)0!==e.lamp.light.alpha||a||((o.checkConnect(e.nodeTop,e.lamp.nodeRight)||o.checkConnect(e.nodeTop,e.lamp.nodeLeft))&&instance.NBDownTip.showTip("负级未连接"),(o.checkConnect(e.nodeBottom,e.lamp.nodeRight)||o.checkConnect(e.nodeBottom,e.lamp.nodeLeft))&&instance.NBDownTip.showTip("正极未连接"),o.checkConnect(e.lamp.nodeLeft,e.lamp.nodeRight)&&instance.NBDownTip.showTip("电池未连接"));else{var t=0===p.indexOf(this)?1:0;o.pointConnect(this,e.nodeTop)||o.pointConnect(this,e.nodeBottom)||o.pointConnect(this,e.lamp.nodeLeft)||o.pointConnect(this,e.lamp.nodeRight)?(s&&o.pointConnect(this,e.lamp.nodeLeft)||o.pointConnect(this,e.lamp.nodeRight)?o.pointConnect(p[t],e.nodeTop)||o.pointConnect(p[t],e.nodeBottom)?T||instance.NBDownTip.showTip("拖动灯泡连接电池的另一端观察现象"):instance.NBDownTip.showTip("拖动导线的另一端连接电池"):s&&(o.pointConnect(p[t],e.lamp.nodeLeft)||o.pointConnect(p[t],e.lamp.nodeRight)?T||instance.NBDownTip.showTip("拖动灯泡连接电池的另一端观察现象"):instance.NBDownTip.showTip("拖动导线的另一端连接灯泡")),o.pointConnect(p[t],e.nodeTop)||o.pointConnect(p[t],e.nodeBottom)||o.pointConnect(p[t],e.lamp.nodeLeft)||o.pointConnect(p[t],e.lamp.nodeRight)||"top"===this.name&&m&&(p[t].addChild(l),m=!1)):s&&(o.pointConnect(p[t],e.lamp.nodeLeft)||o.pointConnect(p[t],e.lamp.nodeRight)?instance.NBDownTip.showTip("拖动导线连接电池"):(o.pointConnect(p[t],e.nodeBottom)||o.pointConnect(p[t],e.nodeTop),instance.NBDownTip.showTip("拖动导线连接灯泡")))}}function f(t){return 0===t.lampAry.length?(!1===a&&(instance.menu.addChildStep(0,instance.info.STEP_0,!1),instance.NBDownTipsError.showTip(instance.info.STEP_0),a=!0),!1):(e.lamp.light.alpha=1,!0)}var T=!1;this.lamp.addEventListener(NBDrag.event.START_DRAG,function(){TweenMax.to(e.word2,.4,{alpha:0}),e.word2.alpha=0,T=!1,instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip()});var u=[e.nodeTop,e.nodeBottom,e.lamp.nodeLeft,e.lamp.nodeRight];this.lamp.addEventListener(NBDrag.event.STOP_DRAG,function(){if(e.lamp.lampHit.hitTest(e.hitArea))e.lamp.lampHit.hitTest(e.hitArea.hitAreaTop)?1===e.lamp.isRota?(TweenMax.to(e.lamp,.6,{rotation:Math.PI/2,onComplete:function(){T=!0}}),TweenMax.to(e.lamp,.3,{x:e.hitArea.x+$s(70),y:e.hitArea.y-$s(195)})):0===e.lamp.isRota&&(TweenMax.to(e.lamp,.6,{rotation:0,onComplete:function(){T=!0}}),TweenMax.to(e.lamp,.3,{x:e.hitArea.x,y:e.hitArea.y-$s(260)})):e.lamp.lampHit.hitTest(e.hitArea.hitAreaBottom)&&(1===e.lamp.isRota?(TweenMax.to(e.lamp,.6,{rotation:Math.PI/2+.2,onComplete:function(){T=!0}}),TweenMax.to(e.lamp,.3,{x:e.hitArea.x+$s(70),y:e.hitArea.y+$s(210)})):0===e.lamp.isRota&&(TweenMax.to(e.lamp,.6,{rotation:Math.PI,onComplete:function(){T=!0}}),TweenMax.to(e.lamp,.3,{x:e.hitArea.x,y:e.hitArea.y+$s(265)})));else{var t=0;p.forEach(function(e){u.forEach(function(n){o.pointConnect(e,n)&&t++})}),s&&(2!=t?instance.NBDownTip.showTip("拖动导线连接灯泡和电池"):instance.NBDownTip.showTip("拖动灯泡连接电池的另一端观察现象"))}n()})},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.showExperimentImport(this.info.experimentImport),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"1879年爱迪生用电点亮了世界上第一盏灯，从此电就照亮了人们的生活。你能点亮小灯泡吗？",labName:"点亮小灯泡",title0:"使灯泡亮起来",STEP_0:"短路会发热变烫，电池很快就会被损坏。请断开",CONCLUSION:"在一个简单电路中，当电流通过小灯泡时，小灯泡就会发光了。"},const:{},event:{}}),t.exports=nb.substance0035}});