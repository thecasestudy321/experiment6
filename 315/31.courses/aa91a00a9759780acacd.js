webpackJsonp([31,222,267],{169:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,a){for(var n=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,s=i||!1,o=a||{addArrow:!1,type:"horizontal",scale:1},c=new PIXI.Container,h=0;h<3;++h){var p=h+1,l=PIXI.Sprite.fromFrame("TAP_1"+p);l.x=-l.width/2,l.y=-l.height/2;var u=new PIXI.Container;u.addChild(l),c.addChild(u)}var d=0;if(o.direction)switch(o.direction){case"top":d=-Math.PI/2;break;case"bottom":d=Math.PI/2;break;case"left":d=Math.PI;break;case"right":d=0;break;default:d=0}c.filters=[r];for(var v=0;v<c.children.length;v++){var m=c.children[v];m.scale.x=m.scale.y=2,v<2&&w(m,.75*v)}if(n.addChild(c),o.addArrow){var f,T;if(o.direction){f=PIXI.Sprite.fromFrame("oneArrow"),T=new PIXI.extras.MovieClip([f]);var b=o.scale?o.scale:1;T.scale.x=T.scale.y=b,T.pivot={x:0,y:T.height/2},T.rotation=d}else{f=PIXI.Sprite.fromFrame("NBarrow"),(T=new PIXI.extras.MovieClip([f])).pivot={x:T.width/2,y:T.height/2};var g=o.scale?o.scale:1;T.scale.x=T.scale.y=g,"horizontal"!==(o.type?o.type:"horizontal")&&(T.rotation=Math.PI/2)}n.addChild(T),n.arrow=T,n.addEventListener("hideArrow",function(){T.alpha=0,T.visible=!1}),n.addEventListener("showArrow",function(){T.alpha=1,T.visible=!0})}c.alpha=.4;var y=new PIXI.Graphics;function w(t,e){TweenMax.to(t,1.5,{delay:e,alpha:0,repeat:-1}),TweenMax.to(t.scale,1.5,{x:5,y:5,delay:e,repeat:-1})}return y.beginFill(16776960,0),y.drawRect(-50,-50,100,100),n.addChild(y),n.addEventListener(MouseEvent.MOUSE_OVER,function(){c.alpha=.6}),n.addEventListener(MouseEvent.MOUSE_OUT,function(){c.alpha=.4}),n.addEventListener(TouchEvent.TOUCH_BEGIN,function(){n.emit(n.event.TAP),!s&&n.parent&&n.parent.removeChild(n)}),n.x=t,n.y=e,n.setColor=function(t){var e=t>>16,i=t>>8&255,a=255&t;r._loadMatrix([e,0,0,0,0,0,i,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),c.filters=[r]},n.setRotation=function(t){n.rotation=t},n.showAllDir=function(){if(o.direction)for(var t=0;t<3;t++){var e=new PIXI.Container;e.addChild(PIXI.Sprite.fromFrame("oneArrow")),n.addChild(e),e.pivot={x:0,y:T.height/2},e.rotation=Math.PI/2*(t+1)}else{var i=new PIXI.Container;i.addChild(PIXI.Sprite.fromFrame("NBarrow")),n.addChild(i),i.pivot={x:T.width/2,y:T.height/2},i.rotation=n.rotation+Math.PI/2}},n.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&n.scale.set(.6,.6),n}},239:function(t,e,i){"use strict";nb.substance0147=extendsClass(ScienceMain,{frame0:function(){instance.viewStack.NBONOFF.visible=!1;var t=this.timeline,e=this.step0,i=this.step1,a=!1;i.alpha=0,t.setAutoPlay(!0,1),t.on("change",function(n){!a&&n.time>=1&&(a=!0,TweenMax.to([t,e],.5,{alpha:0,delay:1,onComplete:function(){TweenMax.to(i,.5,{alpha:1})}}));for(var r=1;r<4;r++)e["container"+r].s.alpha=n.time})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"铁在什么情况下容易生锈？我们怎么防止、减缓铁生锈呢？",labName:"控制铁生锈的速度",CONCLUSION:"铁钉生锈是水和空气共同作用的结果。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),nb.timelineSprite=function(){var t,e,i=this;if(i.bgMask){var a=i.bgMask.getChildAt(0);i.progressBar.mask=a,a.scale.x=0}for(var n,r=this.a0.x===this.a1.x?"vertical":"horizontal",s=0,o=0;o<int.MAX_VALUE;o++){var c=this["a"+o];if(void 0===c){e="vertical"===r?this["a"+(o-1)].y:this["a"+(o-1)].x,s=o;break}0===o&&(t="vertical"===r?c.y:c.x),c.addEventListener(TouchEvent.TAP,function(){"vertical"===r?TweenMax.to(i.drag,.5,{y:this.y,onUpdate:p,onComplete:l}):TweenMax.to(i.drag,.5,{x:this.x,onUpdate:p,onComplete:l}),i.emit("nodeTap",{index:this.name.substr(1,1)})})}this.setDrag=function(t){t&&NBDrag.addDrag(i.drag,n)},this.updateBound=function(){"vertical"==r?(n={x:this.drag.x,y:this.drag.y,width:0,height:e},n={x:this.drag.x,y:this.drag.y,width:0,height:e}):n={x:this.drag.x,y:this.drag.y,width:e,height:0}},this.updateBound(),i.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==i._align_){var a=s-1;if("vertical"===r){var n=Math.round((this.y-t)/(e-t)*a);n<0&&(n=0),TweenMax.to(this,.5,{y:n*(e-t)/a,onUpdate:p,onComplete:l})}else{var o=Math.round((this.x-t)/(e-t)*a);o<0&&(o=0)}}}),i.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){p()}),i.drag.constY=i.drag.y;var h,p=function(){if("vertical"===r){var a=(i.drag.y-t)/(e-t);i.emit("change",{time:a})}else{i.drag.y=i.drag.constY,i.drag.x>=e&&(i.drag.x=e),i.drag.x<=t&&(i.drag.x=t);var n=(i.drag.x-t)/(e-t);i.emit("change",{time:n}),i.drag.line0&&(i.drag.line0.rotation=1800*n*Math.PI/180,i.drag.line1.rotation=360*n*Math.PI/180),i.bgMask&&(i.bgMask.getChildAt(0).scale.x=n)}},l=function(){i.setMomentsPause(!0,2e3,2);var a=s-1;if("vertical"===r){var n=(i.drag.y-t)/(e-t),o=Math.round(n*a);i.emit("change",{index:o,time:n})}else{var c=(i.drag.x-t)/(e-t),h=Math.round(c*a);i.emit("change",{index:h,time:c})}};this.getNodeCount=function(){return s},this.setNodePos=function(t){var e=this["a"+t];"vertical"===r?i.drag.y=e.y:i.drag.x=e.x},nb.MovieClip.ticker.add(function(){if(i._auto_&&!i.drag.isDragging){var a=e-t;"vertical"===r?(i.drag.y+=i._speed_,i.drag.y>a&&(i.drag.y=a)):(i.drag.x+=i._speed_,i.drag.x>a+i.a0.x&&(i.drag.x=a+i.a0.x)),p()}}),this.setAutoPlay=function(t,e){this._auto_=t,this._speed_=e||.1},this.setAutoAlign=function(t){this._align_=t},this.setMomentsPause=function(t,e,a){clearTimeout(h),t&&!i.NOTafterStopPlay?(i.setAutoPlay(!1),clearTimeout(h),i.setAutoPlay(!1),h=setTimeout(function(){i.setAutoPlay(!0,a)},e)):i.setAutoPlay(!1)},this.resetTimeline=function(){this.drag.x=this.bgMask.x}},t.exports=nb.substance0147},240:function(t,e,i){"use strict";var a=function(t){return t&&t.__esModule?t:{default:t}}(i(169));nb.substance0010=extendsClass(ScienceMain,{frame0:function(){var t=this,e=instance.addParticle(t.spoon1.ani),i=instance.addParticle(t.spoon2.ani);e.visible=i.visible=!1,this.count=0,nb.spiritFunc.apply(this.spiritLamp,[{fire:ParticleUtil.particles.match_fire}]),this.spiritLamp.hideCover(!0),nb.matches.apply(this.matches),NBDrag.addDrag(this.spoon1),NBDrag.addDrag(this.spoon2),this.spoon1.tempMc.visible=this.spoon2.tempMc.visible=!1,nb.capacityContainer.apply(this.spoon1.ani),nb.capacityContainer.apply(this.spoon2.ani);var n=instance.getNBLib("0010");n.spoonFunc.apply(this.spoon1),n.spoonFunc.apply(this.spoon2),this.spoon1.ani.max_capacity=this.spoon1.ani.totalFrames,this.spoon2.ani.max_capacity=this.spoon2.ani.totalFrames,this.spoon1.ani.capacity=14,this.spoon2.ani.capacity=14;this.spoon1.temp=28,this.spoon2.temp=28;var r=(0,a.default)(65,40);t.matches.addChild(r);var s=(0,a.default)(0,80,!0);function o(){if(!t.spiritLamp.render()){var e=(0,a.default)(65,40);t.matches.addChild(e),t.matches.matchesPoint=e,instance.NBDownTip.showTip("拖动火柴点燃蜡烛")}if(t.spiritLamp.render()){var i=c(t.spoon1),n=c(t.spoon2);i||n||t.isHit||(t.spiritLamp.Point||(t.spiritLamp.addChild(s),t.spiritLamp.Point=s),instance.NBDownTip.showTip("拖动蜡烛给实验组勺子加热"))}}function c(e){return!!t.spiritLamp.fireArea.hitTest(e.ani)&&(e.hit=!0,!0)}function h(){t.spiritLamp.render()?t.spiritLamp.render()&&(t.spiritLamp.fireArea.hitTest(t.spoon1.ani)||t.spiritLamp.fireArea.hitTest(t.spoon2.ani)||t.isHit?t.spiritLamp.fireArea.hitTest(t.spoon1.ani)&&(t.isHit=!0):(t.spiritLamp.addChild(s),instance.NBDownTip.showTip("拖动蜡烛给实验组勺子加热"))):instance.NBDownTip.showTip("拖动火柴点燃蜡烛")}function p(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip()}this.onUpdate=function(){if(this.spiritLamp.render()){this.spiritLamp.fireArea.hitTest(t.spoon2.ani)&&instance.NBDownTipsError.showTip("操作错误！请给实验组勺子加热"),this.spiritLamp.fireArea.hitTest(t.spoon1.ani)&&instance.NBDownTipsError.hideTip();for(var a=[this.spoon1,this.spoon2],n=0;n<a.length;n++){var r=a[n],o=this.spiritLamp.fireArea.getBounds(),c=r.ani.getBounds();NBPoint.distance({x:o.x+o.width/2,y:o.y+o.height},{x:c.x+c.width/2,y:c.y+c.height});if(56,this.spiritLamp.fireArea.hitTest(r.ani)&&0==r.ani.isFull()&&this.spiritLamp.y-r.y>$s(100)){t.isHit=!0,t.spiritLamp.Point&&t.spiritLamp.removeChild(s),TweenMax.killTweensOf(r.ani.particle),TweenMax.to(r.ani.particle,5,{alpha:.3}),r.ani.particle.visible=!0;var h=1-56/o.height,p=10-10*h;p=p<1?1:Math.round(p),r.temp>=65?(t.count%p==0&&(r.ani.capacity++,r.ani.capacity>=r.ani.max_capacity-1&&(t.onStepComplete(),TweenMax.to(r.ani.particle,1,{alpha:0,onComplete:function(){r.ani.removeChild(r.ani.particle)}}))),t.count++):r.temp+=1+h}else TweenMax.killTweensOf(r.ani.particle),TweenMax.to(r.ani.particle,5,{alpha:0});r.temp>28&&(r.temp-=1);var l=r.temp>=99?100:r.temp;r.setTemp(Math.round(10*l)/10)}}this.matches.render(),e.render(),i.render()},this.matches.addEventListener(TouchEvent.TOUCH_BEGIN,function(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.matches.matchesPoint&&(t.matches.removeChild(t.matches.matchesPoint),t.matches.matchesPoint=null)}),this.matches.addEventListener(TouchEvent.TOUCH_END,o),this.matches.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,o),this.spoon1.addEventListener(NBDrag.event.STOP_DRAG,h),this.spoon1.addEventListener(NBDrag.event.START_DRAG,p),this.spoon2.addEventListener(NBDrag.event.STOP_DRAG,h),this.spoon2.addEventListener(NBDrag.event.START_DRAG,p),this.spiritLamp.addEventListener(NBDrag.event.STOP_DRAG,h),this.spiritLamp.addEventListener(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),this.Point&&this.removeChild(s)})},frame1:function(){var t=this;this.count=0,nb.spiritFunc.apply(this.spiritLamp,[{fire:ParticleUtil.particles.match_fire}]),this.spiritLamp.hideCover(!0),nb.matches.apply(this.matches),NBDrag.addDrag(this.spoon1),NBDrag.addDrag(this.spoon2),this.spoon1.tempMc.visible=this.spoon2.tempMc.visible=!1,nb.capacityContainer.apply(this.spoon1.ani),nb.capacityContainer.apply(this.spoon2.ani);var e=instance.getNBLib("0010");e.spoonFunc.apply(this.spoon1),e.spoonFunc.apply(this.spoon2),this.spoon1.ani.max_capacity=this.spoon1.ani.totalFrames,this.spoon2.ani.max_capacity=this.spoon2.ani.totalFrames,this.spoon1.ani.capacity=14,this.spoon2.ani.capacity=14;this.spoon1.temp=28,this.spoon2.temp=28,this.onUpdate=function(){if(this.spiritLamp.render())for(var e=[this.spoon1,this.spoon2],i=0;i<e.length;i++){var a=e[i],n=this.spiritLamp.fireArea.getBounds(),r=a.ani.getBounds(),s=NBPoint.distance({x:n.x+n.width/2,y:n.y+n.height},{x:r.x+r.width/2,y:r.y+r.height});if(this.spiritLamp.fireArea.hitTest(a.ani)&&0==a.ani.isFull()&&this.spiritLamp.y-a.y>$s(100)){var o=1-s/n.height,c=10-10*o;c=c<1?1:Math.round(c),a.temp>=65?(t.count%c==0&&(a.ani.capacity++,a.ani.capacity>=a.ani.max_capacity-1&&t.onStepComplete()),t.count++):a.temp+=1+o}a.temp>28&&(a.temp-=1);var h=a.temp>=99?100:a.temp;a.setTemp(Math.round(10*h)/10)}this.matches.render()}},spoonFunc:function(){this.showTemp=function(){0==this.tempMc.visible&&(this.tempMc.visible=!0),this.tempMc.alpha<1&&(this.tempMc.alpha+=.05)},this.hideTemp=function(){this.tempMc.alpha>0?this.tempMc.alpha-=.05:this.tempMc.visible=!0},this.setTemp=function(t){this.tempMc.txt.text=t+"°"}},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.showExperimentImport(this.info.experimentImport),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"猜一猜水蒸发的速度和什么有关系？",labName:"加热能加快水蒸发",title0:"加热勺子观察现象",OPERATION_0:"将胶头滴管放入滴瓶点击吸水，在勺子上方点击胶头滴管滴入水滴。",OPERATION_1:"打开酒精灯瓶盖，点击任意空白地方召唤火柴接触酒精灯点燃。",CONCLUSION:"加热可以加快水的蒸发。"},const:{MATCH:"Match"},event:{},addParticle:function(t){var e=ParticleUtil.getParticle(ParticleUtil.particles.water_vapor);return t.addChild(e),t.particle=e,e.x=t.x+155,e.y=t.y-30,e.scale.x=1.4,e.scale.y=1.1,e.alpha=.3,e}}),nb.capacityContainer=function(){Object.defineProperty(this,"capacity",{get:function(){return this._capacity||0},set:function(t){t<=this.max_capacity&&t>=0&&(t<this.totalFrames&&this.gotoAndStop(t),this._capacity=t)}}),void 0==this.max_capacity&&(this.max_capacity=15),this.isFull=function(){return this.capacity==this.max_capacity},this.isEmpty=function(){return 0==this.capacity}},nb.spiritEvent={LIGHT_FILE:"lightFile",PUT_FILE:"putFile"},nb.spiritFunc=function(t){t=t||{};var e={x:this.corver.x,y:this.corver.y},i=this;NBDrag.addDrag(this.corver),NBDrag.addDrag(this),this.corver.on(NBDrag.event.START_DRAG,function(t){t.data.isPropagationStopped=!0,"spiritLamp"===this.parent.name&&this.parent.parent.addChildWithSamePos(this)}),this.corver.on(NBDrag.event.STOP_DRAG,function(){this.hitTest(i.body)&&(i.addChild(this),this.x=e.x,this.y=e.y,this.parent.putFire())}),this.lightFire=function(){this.corver.hitTest(this.body)&&!0===this.corver.visible||(null==this.fire&&(this.fire=ParticleUtil.getParticle(t.fire||ParticleUtil.particles.spirit_fire),void 0===t.fire&&(this.fire_blue=ParticleUtil.getParticle(ParticleUtil.particles.spirit_fire_blue),this.fire_blue.bind(this,$s(0),$s(10)),this.fire_blue.alpha=.2,this.fire_blue.visible=!0,this.parent.addChildAt(this.fire_blue,i.parent.getChildIndex(i)+1)),this.parent.addChildAt(this.fire,i.parent.getChildIndex(i)+1),this.fire.bind(this,$s(-10),$s(10)),this.fire.alpha=.6),this.fire.visible=!0,this.emit(nb.spiritEvent.LIGHT_FILE))},this.putFire=function(){this.fire&&(this.fire.visible=!1,this.fire.destroy(),this.fire=null,this.emit(nb.spiritEvent.PUT_FILE)),this.fire_blue&&(this.fire_blue.visible=!0,this.fire_blue.destroy(),this.fire_blue=null)},this.render=function(){return!!this.isBurning()&&(this.fire&&this.fire.render(),this.fire_blue&&this.fire_blue.render(),!0)},this.isBurning=function(){return this.fire&&this.fire.visible},this.hideCover=function(t){this.cover.visible=!t},this.cover=this.corver},nb.matches=function(){SoundManager.register({src:"courses/substance0010/res/match.mp3",id:"0010/match"});var t=this,e=this.parent.match;e.visible=!1,NBDrag.addDrag(e);var i=null;function a(){e.visible=!1,t.putFire()}this.addEventListener(TouchEvent.TOUCH_BEGIN,function(t){var a=this.getBounds();e.visible=!0,e.alpha=1,e.x=this.x-(a.x-t.data.global.x)-$s(100),e.y=this.y-(a.y-t.data.global.y)-$s(40),null==i&&((i=ParticleUtil.getParticle(ParticleUtil.particles.match_fire)).alpha=.4,this.stepRoot.addChild(i),i.bind(e,0,$s(50))),i.visible=!0,TouchEvent.simulateTouchDown(e,t),e.sound=SoundManager.play("0010/match")}),this.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,function(){a()}),e.addEventListener(NBDrag.event.STOP_DRAG,function(){a()}),this.render=function(){1==e.visible&&i&&i.render()},e.addEventListener(TouchEvent.TOUCH_MOVE,function(){this.parent&&this.parent.spiritLamp&&this.fireArea.hitTest(this.parent.spiritLamp.head)&&this.parent.spiritLamp.lightFire()}),this.putFire=function(){null!=i&&(i.visible=!1,i.destroy(),i=null),e.sound&&(e.sound.stop(),e.sound=null)},this.hideMatch=a,this.isBurning=function(){return null!=i}},nb.buretteEvent={BURETTE_POP:"burettePop",BURETTE_TAP:"buretteTap"},nb.buretteInfo={EMPTY:"请先在滴管中吸入液体"},nb.burette=function(){var t=!0,e=this;this.dropColor=16777215,this.MAX_BOTTLE_CAPACITY=1e3,this.MAX_BURETTE_CAPACITY=15,this.bottle.topValue=this.bottle.water_top.y,this.bottle.bottomValue=this.bottle.water_bottom.y,this.bottle.max_capacity=this.MAX_BOTTLE_CAPACITY,this.burette.movie.max_capacity=this.MAX_BURETTE_CAPACITY,this.isCorver=function(){return this.burette.movie.hitTest(this.head)};var i={x:this.burette.x,y:this.burette.y},a=this;NBDrag.addDrag(this.burette),NBDrag.addDrag(this),nb.capacityContainer.apply(this.burette.movie),this.burette.movie.isFull=this.bottle.isFull=function(){return this.capacity==this.max_capacity},this.burette.movie.isEmpty=this.bottle.isEmpty=function(){return 0==this.capacity},Object.defineProperty(this.bottle,"capacity",{get:function(){return this._capacity||0},set:function(t){var e=-(this.topValue-this.bottomValue);this._capacity=t;var i=t/a.MAX_BOTTLE_CAPACITY;this.water_middle.height=e*i,this.water_top.y=this.bottomValue-e*i}}),this.setEnabled=function(e){t=e,!1===e&&TweenMax.killTweensOf(this.burette)},this.getEnabled=function(){return t},this.bottle.capacity=this.MAX_BOTTLE_CAPACITY;var n=this.parent;this.burette.on(NBDrag.event.START_DRAG,function(t){t.data.isPropagationStopped=!0,TweenMax.killTweensOf(this),n.addChildWithSamePos(this)}),this.burette.on(NBDrag.event.STOP_DRAG,function(){a.isCorver()&&(this.x=i.x,this.y=i.y,e.addChildAt(this,0))}),NBGesture.addGesture(this.burette,NBGesture.gesture.TAP,function(){if(e.emit(nb.buretteEvent.BURETTE_TAP),!1!==t){var i=a.burette.movie.capacity;!1!==a.isCorver()||!0!==a.burette.movie.isEmpty()?TweenMax.to(this,1.5,{onUpdate:function(){if(a.isCorver())0==a.burette.movie.isFull()&&0==a.bottle.isEmpty()&&this.progress()>(a.burette.movie.capacity-i)/(a.burette.movie.max_capacity-i)&&(a.burette.movie.capacity++,a.bottle.capacity--);else if(0==a.burette.movie.isEmpty()&&1-this.progress()<a.burette.movie.capacity/i){a.burette.movie.capacity--;var t=new PIXI.Graphics;t.beginFill(e.dropColor,.3),t.drawEllipse(0,0,$s(6),$s(12)),a.stepRoot.addChild(t);var n=a.stepRoot.toLocal({x:a.burette.width/2,y:a.burette.height},a.burette);t.x=n.x,t.y=n.y,t.destory=function(){this.parent&&(TweenMax.killTweensOf(this),this.parent.removeChild(this))},TweenMax.to(t,1,{y:t.y+$s(800),alpha:0,onComplete:function(t){t.destory()},onCompleteParams:[t]}),a.emit(nb.buretteEvent.BURETTE_POP,{target:a.burette,drop:t})}}}):instance.NBDownTipsError.showTip(nb.buretteInfo.EMPTY)}})},t.exports=nb.substance0010},405:function(t,e,i){"use strict";var a=r(i(169)),n=r(i(541));function r(t){return t&&t.__esModule?t:{default:t}}i(240),i(239),nb.substance0579=extendsClass(ScienceMain,{frame0:function(){var t=this;t.cuvette.closeRubber.alpha=0,t.waterBreak.setCurrentCapacity("70%"),t.target.rotation=-Math.PI/6,t.target.alpha=0;var e=t.waterBreak.x,i=t.waterBreak.y;NBDrag.addDrag(t.waterBreak);var n=(0,a.default)(90,100);t.waterBreak.addChild(n),t.waterBreak.Point=n;var r=(0,a.default)(0,0);function s(){t.cuvette.closeRubber.alpha=.3,instance.NBDownTip.hideTip(),this.txt0.alpha=0,instance.NBDownTipsError.hideTip()}function o(){var e=this;if(t.rubber.hitTest(t.cuvette.closeRubber)){t.cuvette.isHit=!0;var i=new TimelineMax;i.add(TweenMax.to(t.rubber,.3,{x:t.cuvette.x,y:t.cuvette.y-t.cuvette.height/2,ease:Sine.easeInOut})),i.add([TweenMax.to(t.rubber,.2,{alpha:0}),TweenMax.to(t.cuvette.closeRubber,.2,{alpha:1,onComplete:function(){t.isComplete=!0,c()}})])}else t.cuvette.closeRubber.alpha=0,TweenMax.to(t.rubber,.5,{x:t.rubber.posX,y:t.rubber.posY,ease:Sine.easeInOut,onComplete:function(){c(),e.txt0.alpha=1}})}function c(){return t.waterBreak.isHit?t.cuvette.isHit?void(t.isComplete&&(instance.NBDownTipsError.showTip("当前步骤已完成"),instance.NBStepsShow(1))):(instance.NBDownTip.showTip("请将橡皮套套在试管上"),t.rubber.addChild(r),void(t.rubber.Point=r)):(instance.NBDownTip.showTip("将烧杯中的水倒入试管中"),t.waterBreak.addChild(n),void(t.waterBreak.Point=n))}t.rubber.alpha=0,t.cuvette.addEventListener(TouchEvent.TAP,c),t.waterBreak.addEventListener(NBDrag.event.START_DRAG,function(e){t.target.alpha=.4,e.target.removeChild(e.target.Point),this.text.alpha=0,instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip()}),t.waterBreak.addEventListener(NBDrag.event.STOP_DRAG,function(){var a=this;t.target.alpha=0,t.waterBreak.hit.hitTest(t.target)?(t.waterBreak.isHit=!0,TweenMax.to(t.waterBreak,.5,{x:t.target.x,y:t.target.y,rotation:t.target.rotation,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(t.waterBreak,1.5,{rotation:-Math.PI/2,onComplete:function(){TweenMax.to(t.waterBreak,.5,{rotation:0,alpha:0,onComplete:function(){t.waterBreak.visible=!1,GlobalEffect.fadeIn(t.rubber),t.rubber.posX=t.rubber.x,t.rubber.posY=t.rubber.y,NBDrag.addDrag(t.rubber),t.rubber.addEventListener(NBDrag.event.START_DRAG,s),t.rubber.addEventListener(NBDrag.event.STOP_DRAG,o)}})}}),t.waterBreak.setCapacityTween("0%",1.5),t.cuvette.setCapacityTween("100%",1.5)}})):TweenMax.to(t.waterBreak,.5,{x:e,y:i,ease:Sine.easeInOut,onComplete:function(){c(),a.text.alpha=1}})})},frame1:function(){var t=this,e=(0,a.default)(0,0),i=(0,a.default)(90,60),r=(0,a.default)(-5,0);function s(){return t.balance.isHit?t.spiritLamp.isHit?t.cuvette.weightAgain?void 0:(instance.NBDownTip.showTip("请将加热后的试管放在天平上称重"),t.cuvette.addChild(r),r.x=85,r.y=-60,void(t.cuvette.Point=r)):t.spiritLamp.isBurning()||!t.spiritLamp.cover.hitTest(t.spiritLamp.body)||t.spiritLamp.isOK?t.complete||t.spiritLamp.isBurning()||t.spiritLamp.corver.hitTest(t.spiritLamp.body)?t.spiritLamp.isBurning()&&!t.spiritLamp.hitTest(t.cuvette.hit)?(t.cuvette.goFire=!0,t.cuvette.interactive=!0,instance.NBDownTip.showTip("拖动试管到酒精灯上加热"),t.cuvette.addChild(r),void(t.spiritLamp.interactive=!1)):void 0:(t.matches.addChild(i),t.matches.Point=i,void instance.NBDownTip.showTip("用火柴点燃酒精灯")):(instance.NBDownTip.showTip("打开酒精灯盖子"),t.spiritLamp.cover.addChild(e),void(t.matches.Point&&t.matches.removeChild(i))):(instance.NBDownTip.showTip("请将试管放在天平上称重"),t.cuvette.addChild(r),void(t.cuvette.Point=r))}function o(){t.balance.off(t.balance.event.ISCOMPLETE,o),setTimeout(function(){TweenMax.to(t.balance,1,{alpha:0,onComplete:function(){t.balance.interactive=!1,t.balance.setBalanceDown({num0:3,num1:1,num2:5}),TweenMax.to(t.cuvette,.5,{rotation:0,onComplete:function(){t.cuvette.posY=t.cuvette.y,t.cuvette.posX=t.cuvette.x,GlobalEffect.fadeIn(t.spiritLamp),GlobalEffect.fadeIn(t.matches),t.balance.weightAgain&&TweenMax.to(t.cuvette,1,{x:600,ease:Sine.easeInOut,onComplete:function(){instance.NBDownTipsError.showTip("当前步骤完成"),instance.NBStepsShow(2)}}),s()}})}})},1e3),t.cuvette.weightAgain?instance.fun.showTxt(t.txt1):instance.fun.showTxt(t.txt0)}function c(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip()}t.cuvTarget.alpha=0,t.cuvTarget.rotation=Math.PI/6,t.cuvTarget.x+=50,t.timeline.interactive=!1,t.timeline.alpha=0,t.cuvette.addChild(r),t.cuvTarget0.rotation=Math.PI/2,t.cuvTarget0.alpha=0,t.cuvette.startX=t.cuvette.x,t.cuvette.startY=t.cuvette.y,t.cuvette._hermetic=!0,t.cuvette.setCurrentCapacity("100%"),t.txt0.alpha=0,t.txt1.alpha=0,NBDrag.addDrag(t.cuvette),t.balance.addEventListener(TouchEvent.TAP,s),n.default.apply(t.balance,[{name:"arr"}]),this.onUpdate=function(){t.matches.render(),t.spiritLamp.render(),t.spiritLamp.isBurning()&&(t.spiritLamp.isOK=!0)},t.spiritLamp.visible=!1,t.matches.visible=!1,t.cuvette.clip.visible=!1,t.balance.interactive=!0,t.cuvette.addEventListener(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.cuvette.removeChild(r),t.cuvette.txt0.alpha=0,t.cuvette.goFire&&(t.cuvTarget.alpha=.3,t.cuvette.clip.visible=!0,t.cuvette.clip.alpha=1),1==t.balance.alpha&&(t.cuvTarget0.alpha=.3)}),t.cuvette.addEventListener(NBDrag.event.STOP_DRAG,function(){if(t.cuvette.goFire)return void(t.cuvette.hit.hitTest(t.cuvTarget)?TweenMax.to(t.cuvette,.5,{x:t.cuvTarget.x,y:t.cuvTarget.y,rotation:t.cuvTarget.rotation,ease:Sine.easeInOut,onComplete:function(){t.cuvette.clip.visible=!0,t.cuvette.clip.alpha=1,function(){t.spiritLamp.isHit=!0,t.cuvette.goFire=!1,t.cuvTarget.alpha=0,t.timeline.alpha=1,t.timeline.setAutoPlay(!0,2),t.timeline.on("change",function e(i){var a=i.time;a>=1&&(t.cuvette.visible=!0,t.timeline.off("change",e),GlobalEffect.fadeOut(t.timeline),t.spiritLamp.fire.visible=!1,t.spiritLamp.fire_blue.visible=!1,GlobalEffect.fadeOut(t.spiritLamp),GlobalEffect.fadeIn(t.balance),t.balance.interactive=!0,s())})}()}}):TweenMax.to(t.cuvette,.5,{x:t.cuvette.posX,y:t.cuvette.posY,ease:Sine.easeInOut,onComplete:function(){s(),t.cuvTarget.alpha=0,t.cuvette.clip.alpha=0}}));t.cuvette.hit.hitTest(t.balance)&&t.balance.interactive?(t.cuvette.interactive=!1,t.balance.interactive=!1,t.balance.isHit=!0,t.cuvette.clip.visible&&(t.cuvette.clip.visible=!1,t.cuvette.weightAgain=!0,t.balance.weightAgain=!0),TweenMax.to(t.cuvette,.5,{rotation:Math.PI/2,x:t.cuvTarget0.x,y:t.cuvTarget0.y,ease:Sine.easeInOut,onComplete:function(){t.balance.setBalanceUp({num0:3,num1:1,num2:5}),t.balance.on(t.balance.event.ISCOMPLETE,o),t.cuvTarget0.alpha=0}})):(t.cuvTarget0.alpha=0,TweenMax.to(t.cuvette,.5,{x:t.cuvette.startX,y:t.cuvette.startY,rotation:0,ease:Sine.easeInOut,onComplete:function(){s(),t.cuvette.txt0.alpha=1}}))}),t.match.addEventListener(NBDrag.event.STOP_DRAG,function(){t.spiritLamp.corver.hitTest(t.spiritLamp.body)?instance.NBDownTipsError.showTip("请先打开酒精灯帽"):(s(),t.spiritLamp.isBurning()&&(GlobalEffect.fadeOut(t.spiritLamp.cover),GlobalEffect.fadeOut(t.match),GlobalEffect.fadeOut(t.matches)))}),t.match.addEventListener(NBDrag.event.START_DRAG,c),t.spiritLamp.corver.addEventListener(NBDrag.event.START_DRAG,c),t.spiritLamp.corver.addEventListener(NBDrag.event.STOP_DRAG,s)},frame2:function(){var t=this,e=(0,a.default)(-5,0);t.cuvette.startX=t.cuvette.x,t.cuvette.startY=t.cuvette.y;var i=ParticleUtil.getParticle(ParticleUtil.particles.water_vapor);t.addChild(i),i.y=t.break0.y+$s(80),i.x=t.break0.x+20,i.scale.x=2.5,i.scale.y=2,i.alpha=.3;for(var n=0;n<2;n++){var r=t["ani"+n];t["break"+n].setCurrentCapacity("70%"),r.alpha=0,t["target"+n].alpha=0,t["break"+n].addEventListener(TouchEvent.TAP,o),r.scale.set(1.3,1.3),t.addChild(r),t["break"+n].interactive=!1}function s(e,i){t.cuvette.interactive=!1,e.isHit=!0;var a=t["target"+i],n=t["ani"+i];TweenMax.to(t.cuvette,.4,{x:a.x,y:a.y,rotation:a.rotation,ease:Sine.easeInOut,onComplete:function(){a.alpha=0,n.x=e.x+e.width+40,n.y=e.y-100,TweenMax.to(n,.5,{alpha:1,onComplete:function(){TweenMax.to(n.ani,1,{currentFrame:n.ani.totalFrames-1,onComplete:function(){t.cuvette.interactive=!0,o()}})}})}})}function o(){return t.break0.isHit?t.break1.isHit?void 0:(instance.NBDownTip.showTip("请将试管放入冷水中"),void t.cuvette.addChild(e)):(instance.NBDownTip.showTip("请将试管放入热水中"),void t.cuvette.addChild(e))}NBDrag.addDrag(t.cuvette),t.cuvette.addChild(e),t.cuvette.addEventListener(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.cuvette.removeChild(e),t.cuvette.txt0.alpha=0,t.ani0.alpha=0,t.ani1.alpha=0,t.ani0.ani.currentFrame=0,t.ani1.ani.currentFrame=0,TweenMax.killTweensOf(this),TweenMax.to(this,.2,{rotation:0}),t.break0.isHit?t.break1.isHit||(t.target1.alpha=.3):t.target0.alpha=.3}),t.cuvette.addEventListener(NBDrag.event.STOP_DRAG,function(){t.cuvette.hit.hitTest(t.break0.hit)?s(t.break0,0):t.cuvette.hit.hitTest(t.break1.hit)?s(t.break1,1):(t.target0.alpha=t.target1.alpha=0,TweenMax.to(t.cuvette,.5,{x:t.cuvette.startX,y:t.cuvette.startY,rotation:0,ease:Sine.easeInOut,onComplete:function(){o(),t.cuvette.txt0.alpha=1}}))}),this.onUpdate=function(){i.render()}},start:function(){this.bindScriptToSprite(this.frame0,"frame0"),this.bindScriptToSprite(this.frame1,"frame1"),this.bindScriptToSprite(this.frame2,"frame2")},info:{experimentImport:"水在变热的过程中质量和体积会发生变化吗？",labName:"水变热的变化",title0:"制作一个装满水的试管",title1:"测量重量",title2:"观察体积",CONCLUSION:"水在变热的过程中,质量没有发生变化,体积发生了变化。",newLayOut:!0},const:{},event:{},fun:{showTxt:function(t){0===t.alpha&&(t.alpha=1,TweenMax.to(t.scale,.4,{x:3,y:3,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(t.scale,.4,{x:1,y:1,ease:Sine.easeInOut})}}))}}}),t.exports=nb.substance0579},541:function(t,e,i){"use strict";function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e,i=t?t.name:"numArr",n=this,r=(a(e={upTimer:null,upTimeOut:null},"upTimeOut",null),a(e,"downTimeOut",null),e),s=[],o=0;o<10;o++){if(!n[i+o]){n.arrLength=s.length;break}s.push(n["numTimer"+o])}function c(){for(var t in r)clearTimeout(r[t])}n.setBalanceDown=function(t,e){c(),r.downTimer=setInterval(function(){for(var e=0;e<n.arrLength;e++){var a=t["num"+e],r=Math.round(10*Math.random());r=r>a?a:r,n[i+e].gotoAndStop(r)}},300),r.downTimeOut=setTimeout(function(){clearInterval(r.downTimer);for(var t=0;t<n.arrLength;t++){var a=void 0;a=e&&e["num"+t]?e["num"+t]:0,n[i+t].gotoAndStop(a)}n.emit(n.event.ISCOMPLETE)},1e3)},n.setBalanceUp=function(t){c(),r.upTimer=setInterval(function(){for(var e=0;e<n.arrLength;e++){var a=Math.round(10*Math.random());0===e&&(a=a>t.num0?t.num0:a),n[i+e].gotoAndStop(a)}},300),r.upTimeOut=setTimeout(function(){clearInterval(r.upTimer);for(var e=0;e<n.arrLength;e++)n[i+e].gotoAndStop(t["num"+e]);n.emit(n.event.ISCOMPLETE)},1e3)},n.event={ISCOMPLETE:"complete"}}}});