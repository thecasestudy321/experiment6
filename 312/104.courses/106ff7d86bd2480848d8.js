webpackJsonp([104,222],{169:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,i,e,a){for(var n=new PIXI.Container,s=new PIXI.filters.ColorMatrixFilter,r=e||!1,o=a||{addArrow:!1,type:"horizontal",scale:1},h=new PIXI.Container,p=0;p<3;++p){var c=p+1,l=PIXI.Sprite.fromFrame("TAP_1"+c);l.x=-l.width/2,l.y=-l.height/2;var d=new PIXI.Container;d.addChild(l),h.addChild(d)}var u=0;if(o.direction)switch(o.direction){case"top":u=-Math.PI/2;break;case"bottom":u=Math.PI/2;break;case"left":u=Math.PI;break;case"right":u=0;break;default:u=0}h.filters=[s];for(var m=0;m<h.children.length;m++){var f=h.children[m];f.scale.x=f.scale.y=2,m<2&&_(f,.75*m)}if(n.addChild(h),o.addArrow){var v,T;if(o.direction){v=PIXI.Sprite.fromFrame("oneArrow"),T=new PIXI.extras.MovieClip([v]);var b=o.scale?o.scale:1;T.scale.x=T.scale.y=b,T.pivot={x:0,y:T.height/2},T.rotation=u}else{v=PIXI.Sprite.fromFrame("NBarrow"),(T=new PIXI.extras.MovieClip([v])).pivot={x:T.width/2,y:T.height/2};var y=o.scale?o.scale:1;T.scale.x=T.scale.y=y,"horizontal"!==(o.type?o.type:"horizontal")&&(T.rotation=Math.PI/2)}n.addChild(T),n.arrow=T,n.addEventListener("hideArrow",function(){T.alpha=0,T.visible=!1}),n.addEventListener("showArrow",function(){T.alpha=1,T.visible=!0})}h.alpha=.4;var w=new PIXI.Graphics;function _(t,i){TweenMax.to(t,1.5,{delay:i,alpha:0,repeat:-1}),TweenMax.to(t.scale,1.5,{x:5,y:5,delay:i,repeat:-1})}return w.beginFill(16776960,0),w.drawRect(-50,-50,100,100),n.addChild(w),n.addEventListener(MouseEvent.MOUSE_OVER,function(){h.alpha=.6}),n.addEventListener(MouseEvent.MOUSE_OUT,function(){h.alpha=.4}),n.addEventListener(TouchEvent.TOUCH_BEGIN,function(){n.emit(n.event.TAP),!r&&n.parent&&n.parent.removeChild(n)}),n.x=t,n.y=i,n.setColor=function(t){var i=t>>16,e=t>>8&255,a=255&t;s._loadMatrix([i,0,0,0,0,0,e,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),h.filters=[s]},n.setRotation=function(t){n.rotation=t},n.showAllDir=function(){if(o.direction)for(var t=0;t<3;t++){var i=new PIXI.Container;i.addChild(PIXI.Sprite.fromFrame("oneArrow")),n.addChild(i),i.pivot={x:0,y:T.height/2},i.rotation=Math.PI/2*(t+1)}else{var e=new PIXI.Container;e.addChild(PIXI.Sprite.fromFrame("NBarrow")),n.addChild(e),e.pivot={x:T.width/2,y:T.height/2},e.rotation=n.rotation+Math.PI/2}},n.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&n.scale.set(.6,.6),n}},240:function(t,i,e){"use strict";var a=function(t){return t&&t.__esModule?t:{default:t}}(e(169));nb.substance0010=extendsClass(ScienceMain,{frame0:function(){var t=this,i=instance.addParticle(t.spoon1.ani),e=instance.addParticle(t.spoon2.ani);i.visible=e.visible=!1,this.count=0,nb.spiritFunc.apply(this.spiritLamp,[{fire:ParticleUtil.particles.match_fire}]),this.spiritLamp.hideCover(!0),nb.matches.apply(this.matches),NBDrag.addDrag(this.spoon1),NBDrag.addDrag(this.spoon2),this.spoon1.tempMc.visible=this.spoon2.tempMc.visible=!1,nb.capacityContainer.apply(this.spoon1.ani),nb.capacityContainer.apply(this.spoon2.ani);var n=instance.getNBLib("0010");n.spoonFunc.apply(this.spoon1),n.spoonFunc.apply(this.spoon2),this.spoon1.ani.max_capacity=this.spoon1.ani.totalFrames,this.spoon2.ani.max_capacity=this.spoon2.ani.totalFrames,this.spoon1.ani.capacity=14,this.spoon2.ani.capacity=14;this.spoon1.temp=28,this.spoon2.temp=28;var s=(0,a.default)(65,40);t.matches.addChild(s);var r=(0,a.default)(0,80,!0);function o(){if(!t.spiritLamp.render()){var i=(0,a.default)(65,40);t.matches.addChild(i),t.matches.matchesPoint=i,instance.NBDownTip.showTip("拖动火柴点燃蜡烛")}if(t.spiritLamp.render()){var e=h(t.spoon1),n=h(t.spoon2);e||n||t.isHit||(t.spiritLamp.Point||(t.spiritLamp.addChild(r),t.spiritLamp.Point=r),instance.NBDownTip.showTip("拖动蜡烛给实验组勺子加热"))}}function h(i){return!!t.spiritLamp.fireArea.hitTest(i.ani)&&(i.hit=!0,!0)}function p(){t.spiritLamp.render()?t.spiritLamp.render()&&(t.spiritLamp.fireArea.hitTest(t.spoon1.ani)||t.spiritLamp.fireArea.hitTest(t.spoon2.ani)||t.isHit?t.spiritLamp.fireArea.hitTest(t.spoon1.ani)&&(t.isHit=!0):(t.spiritLamp.addChild(r),instance.NBDownTip.showTip("拖动蜡烛给实验组勺子加热"))):instance.NBDownTip.showTip("拖动火柴点燃蜡烛")}function c(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip()}this.onUpdate=function(){if(this.spiritLamp.render()){this.spiritLamp.fireArea.hitTest(t.spoon2.ani)&&instance.NBDownTipsError.showTip("操作错误！请给实验组勺子加热"),this.spiritLamp.fireArea.hitTest(t.spoon1.ani)&&instance.NBDownTipsError.hideTip();for(var a=[this.spoon1,this.spoon2],n=0;n<a.length;n++){var s=a[n],o=this.spiritLamp.fireArea.getBounds(),h=s.ani.getBounds();NBPoint.distance({x:o.x+o.width/2,y:o.y+o.height},{x:h.x+h.width/2,y:h.y+h.height});if(56,this.spiritLamp.fireArea.hitTest(s.ani)&&0==s.ani.isFull()&&this.spiritLamp.y-s.y>$s(100)){t.isHit=!0,t.spiritLamp.Point&&t.spiritLamp.removeChild(r),TweenMax.killTweensOf(s.ani.particle),TweenMax.to(s.ani.particle,5,{alpha:.3}),s.ani.particle.visible=!0;var p=1-56/o.height,c=10-10*p;c=c<1?1:Math.round(c),s.temp>=65?(t.count%c==0&&(s.ani.capacity++,s.ani.capacity>=s.ani.max_capacity-1&&(t.onStepComplete(),TweenMax.to(s.ani.particle,1,{alpha:0,onComplete:function(){s.ani.removeChild(s.ani.particle)}}))),t.count++):s.temp+=1+p}else TweenMax.killTweensOf(s.ani.particle),TweenMax.to(s.ani.particle,5,{alpha:0});s.temp>28&&(s.temp-=1);var l=s.temp>=99?100:s.temp;s.setTemp(Math.round(10*l)/10)}}this.matches.render(),i.render(),e.render()},this.matches.addEventListener(TouchEvent.TOUCH_BEGIN,function(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.matches.matchesPoint&&(t.matches.removeChild(t.matches.matchesPoint),t.matches.matchesPoint=null)}),this.matches.addEventListener(TouchEvent.TOUCH_END,o),this.matches.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,o),this.spoon1.addEventListener(NBDrag.event.STOP_DRAG,p),this.spoon1.addEventListener(NBDrag.event.START_DRAG,c),this.spoon2.addEventListener(NBDrag.event.STOP_DRAG,p),this.spoon2.addEventListener(NBDrag.event.START_DRAG,c),this.spiritLamp.addEventListener(NBDrag.event.STOP_DRAG,p),this.spiritLamp.addEventListener(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),this.Point&&this.removeChild(r)})},frame1:function(){var t=this;this.count=0,nb.spiritFunc.apply(this.spiritLamp,[{fire:ParticleUtil.particles.match_fire}]),this.spiritLamp.hideCover(!0),nb.matches.apply(this.matches),NBDrag.addDrag(this.spoon1),NBDrag.addDrag(this.spoon2),this.spoon1.tempMc.visible=this.spoon2.tempMc.visible=!1,nb.capacityContainer.apply(this.spoon1.ani),nb.capacityContainer.apply(this.spoon2.ani);var i=instance.getNBLib("0010");i.spoonFunc.apply(this.spoon1),i.spoonFunc.apply(this.spoon2),this.spoon1.ani.max_capacity=this.spoon1.ani.totalFrames,this.spoon2.ani.max_capacity=this.spoon2.ani.totalFrames,this.spoon1.ani.capacity=14,this.spoon2.ani.capacity=14;this.spoon1.temp=28,this.spoon2.temp=28,this.onUpdate=function(){if(this.spiritLamp.render())for(var i=[this.spoon1,this.spoon2],e=0;e<i.length;e++){var a=i[e],n=this.spiritLamp.fireArea.getBounds(),s=a.ani.getBounds(),r=NBPoint.distance({x:n.x+n.width/2,y:n.y+n.height},{x:s.x+s.width/2,y:s.y+s.height});if(this.spiritLamp.fireArea.hitTest(a.ani)&&0==a.ani.isFull()&&this.spiritLamp.y-a.y>$s(100)){var o=1-r/n.height,h=10-10*o;h=h<1?1:Math.round(h),a.temp>=65?(t.count%h==0&&(a.ani.capacity++,a.ani.capacity>=a.ani.max_capacity-1&&t.onStepComplete()),t.count++):a.temp+=1+o}a.temp>28&&(a.temp-=1);var p=a.temp>=99?100:a.temp;a.setTemp(Math.round(10*p)/10)}this.matches.render()}},spoonFunc:function(){this.showTemp=function(){0==this.tempMc.visible&&(this.tempMc.visible=!0),this.tempMc.alpha<1&&(this.tempMc.alpha+=.05)},this.hideTemp=function(){this.tempMc.alpha>0?this.tempMc.alpha-=.05:this.tempMc.visible=!0},this.setTemp=function(t){this.tempMc.txt.text=t+"°"}},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.showExperimentImport(this.info.experimentImport),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"猜一猜水蒸发的速度和什么有关系？",labName:"加热能加快水蒸发",title0:"加热勺子观察现象",OPERATION_0:"将胶头滴管放入滴瓶点击吸水，在勺子上方点击胶头滴管滴入水滴。",OPERATION_1:"打开酒精灯瓶盖，点击任意空白地方召唤火柴接触酒精灯点燃。",CONCLUSION:"加热可以加快水的蒸发。"},const:{MATCH:"Match"},event:{},addParticle:function(t){var i=ParticleUtil.getParticle(ParticleUtil.particles.water_vapor);return t.addChild(i),t.particle=i,i.x=t.x+155,i.y=t.y-30,i.scale.x=1.4,i.scale.y=1.1,i.alpha=.3,i}}),nb.capacityContainer=function(){Object.defineProperty(this,"capacity",{get:function(){return this._capacity||0},set:function(t){t<=this.max_capacity&&t>=0&&(t<this.totalFrames&&this.gotoAndStop(t),this._capacity=t)}}),void 0==this.max_capacity&&(this.max_capacity=15),this.isFull=function(){return this.capacity==this.max_capacity},this.isEmpty=function(){return 0==this.capacity}},nb.spiritEvent={LIGHT_FILE:"lightFile",PUT_FILE:"putFile"},nb.spiritFunc=function(t){t=t||{};var i={x:this.corver.x,y:this.corver.y},e=this;NBDrag.addDrag(this.corver),NBDrag.addDrag(this),this.corver.on(NBDrag.event.START_DRAG,function(t){t.data.isPropagationStopped=!0,"spiritLamp"===this.parent.name&&this.parent.parent.addChildWithSamePos(this)}),this.corver.on(NBDrag.event.STOP_DRAG,function(){this.hitTest(e.body)&&(e.addChild(this),this.x=i.x,this.y=i.y,this.parent.putFire())}),this.lightFire=function(){this.corver.hitTest(this.body)&&!0===this.corver.visible||(null==this.fire&&(this.fire=ParticleUtil.getParticle(t.fire||ParticleUtil.particles.spirit_fire),void 0===t.fire&&(this.fire_blue=ParticleUtil.getParticle(ParticleUtil.particles.spirit_fire_blue),this.fire_blue.bind(this,$s(0),$s(10)),this.fire_blue.alpha=.2,this.fire_blue.visible=!0,this.parent.addChildAt(this.fire_blue,e.parent.getChildIndex(e)+1)),this.parent.addChildAt(this.fire,e.parent.getChildIndex(e)+1),this.fire.bind(this,$s(-10),$s(10)),this.fire.alpha=.6),this.fire.visible=!0,this.emit(nb.spiritEvent.LIGHT_FILE))},this.putFire=function(){this.fire&&(this.fire.visible=!1,this.fire.destroy(),this.fire=null,this.emit(nb.spiritEvent.PUT_FILE)),this.fire_blue&&(this.fire_blue.visible=!0,this.fire_blue.destroy(),this.fire_blue=null)},this.render=function(){return!!this.isBurning()&&(this.fire&&this.fire.render(),this.fire_blue&&this.fire_blue.render(),!0)},this.isBurning=function(){return this.fire&&this.fire.visible},this.hideCover=function(t){this.cover.visible=!t},this.cover=this.corver},nb.matches=function(){SoundManager.register({src:"courses/substance0010/res/match.mp3",id:"0010/match"});var t=this,i=this.parent.match;i.visible=!1,NBDrag.addDrag(i);var e=null;function a(){i.visible=!1,t.putFire()}this.addEventListener(TouchEvent.TOUCH_BEGIN,function(t){var a=this.getBounds();i.visible=!0,i.alpha=1,i.x=this.x-(a.x-t.data.global.x)-$s(100),i.y=this.y-(a.y-t.data.global.y)-$s(40),null==e&&((e=ParticleUtil.getParticle(ParticleUtil.particles.match_fire)).alpha=.4,this.stepRoot.addChild(e),e.bind(i,0,$s(50))),e.visible=!0,TouchEvent.simulateTouchDown(i,t),i.sound=SoundManager.play("0010/match")}),this.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,function(){a()}),i.addEventListener(NBDrag.event.STOP_DRAG,function(){a()}),this.render=function(){1==i.visible&&e&&e.render()},i.addEventListener(TouchEvent.TOUCH_MOVE,function(){this.parent&&this.parent.spiritLamp&&this.fireArea.hitTest(this.parent.spiritLamp.head)&&this.parent.spiritLamp.lightFire()}),this.putFire=function(){null!=e&&(e.visible=!1,e.destroy(),e=null),i.sound&&(i.sound.stop(),i.sound=null)},this.hideMatch=a,this.isBurning=function(){return null!=e}},nb.buretteEvent={BURETTE_POP:"burettePop",BURETTE_TAP:"buretteTap"},nb.buretteInfo={EMPTY:"请先在滴管中吸入液体"},nb.burette=function(){var t=!0,i=this;this.dropColor=16777215,this.MAX_BOTTLE_CAPACITY=1e3,this.MAX_BURETTE_CAPACITY=15,this.bottle.topValue=this.bottle.water_top.y,this.bottle.bottomValue=this.bottle.water_bottom.y,this.bottle.max_capacity=this.MAX_BOTTLE_CAPACITY,this.burette.movie.max_capacity=this.MAX_BURETTE_CAPACITY,this.isCorver=function(){return this.burette.movie.hitTest(this.head)};var e={x:this.burette.x,y:this.burette.y},a=this;NBDrag.addDrag(this.burette),NBDrag.addDrag(this),nb.capacityContainer.apply(this.burette.movie),this.burette.movie.isFull=this.bottle.isFull=function(){return this.capacity==this.max_capacity},this.burette.movie.isEmpty=this.bottle.isEmpty=function(){return 0==this.capacity},Object.defineProperty(this.bottle,"capacity",{get:function(){return this._capacity||0},set:function(t){var i=-(this.topValue-this.bottomValue);this._capacity=t;var e=t/a.MAX_BOTTLE_CAPACITY;this.water_middle.height=i*e,this.water_top.y=this.bottomValue-i*e}}),this.setEnabled=function(i){t=i,!1===i&&TweenMax.killTweensOf(this.burette)},this.getEnabled=function(){return t},this.bottle.capacity=this.MAX_BOTTLE_CAPACITY;var n=this.parent;this.burette.on(NBDrag.event.START_DRAG,function(t){t.data.isPropagationStopped=!0,TweenMax.killTweensOf(this),n.addChildWithSamePos(this)}),this.burette.on(NBDrag.event.STOP_DRAG,function(){a.isCorver()&&(this.x=e.x,this.y=e.y,i.addChildAt(this,0))}),NBGesture.addGesture(this.burette,NBGesture.gesture.TAP,function(){if(i.emit(nb.buretteEvent.BURETTE_TAP),!1!==t){var e=a.burette.movie.capacity;!1!==a.isCorver()||!0!==a.burette.movie.isEmpty()?TweenMax.to(this,1.5,{onUpdate:function(){if(a.isCorver())0==a.burette.movie.isFull()&&0==a.bottle.isEmpty()&&this.progress()>(a.burette.movie.capacity-e)/(a.burette.movie.max_capacity-e)&&(a.burette.movie.capacity++,a.bottle.capacity--);else if(0==a.burette.movie.isEmpty()&&1-this.progress()<a.burette.movie.capacity/e){a.burette.movie.capacity--;var t=new PIXI.Graphics;t.beginFill(i.dropColor,.3),t.drawEllipse(0,0,$s(6),$s(12)),a.stepRoot.addChild(t);var n=a.stepRoot.toLocal({x:a.burette.width/2,y:a.burette.height},a.burette);t.x=n.x,t.y=n.y,t.destory=function(){this.parent&&(TweenMax.killTweensOf(this),this.parent.removeChild(this))},TweenMax.to(t,1,{y:t.y+$s(800),alpha:0,onComplete:function(t){t.destory()},onCompleteParams:[t]}),a.emit(nb.buretteEvent.BURETTE_POP,{target:a.burette,drop:t})}}}):instance.NBDownTipsError.showTip(nb.buretteInfo.EMPTY)}})},t.exports=nb.substance0010},352:function(t,i,e){"use strict";var a=function(t){return t&&t.__esModule?t:{default:t}}(e(169));e(240),nb.substance0140=extendsClass(ScienceMain,{frame0:function(){var t=this;instance.viewStack.NBONOFF.visible=!1,instance.getNBLib("0010").frame1.apply(this),t.spoon2.visible=!1,t.spiritLamp.interactive=!1;var i=this.onUpdate;this.onUpdate=function(){i.apply(this);var e=t.spoon1.ani.repeat;e.visible&&this.spiritLamp.fireArea.hitTest(t.spoon1.ani)&&(TweenMax.killTweensOf(e),TweenMax.to(e.scale,3,{x:1,y:1}),TweenMax.to(e,3,{alpha:1}),e.play(),e.animationSpeed=.2),this.spiritLamp.fireArea.hitTest(t.spoon1.ani)||1!=e.playing||(TweenMax.to(e.scale,20,{x:.7,y:.7}),TweenMax.to(e,2,{alpha:0}))};var e=(0,a.default)(0,0);t.matches.addChild(e),t.match.on(NBDrag.event.START_DRAG,function(){t.matches.removeChild(e)}),t.match.on(NBDrag.event.STOP_DRAG,function(){t.spiritLamp.render()?(t.matches.interactive=!1,TweenMax.to(t.matches,.5,{x:"+=300",delay:.5,alpha:0,ease:Power0.easeNone,onComplete:function(){TweenMax.to(t.spiritLamp,.5,{x:"+=170",y:"+=50",ease:Power0.easeNone,onComplete:function(){nb.scienceCommonFun.resetName(t.tip,"拖动勺子到火焰上，加热白糖观察现象"),TweenMax.to(t.spoon1,.5,{x:"-=600",delay:.2,ease:Power0.easeNone})}})}})):t.matches.addChild(e)})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"对白糖直接加热后，白糖是否会发生变化呢？",labName:"观察白糖的变化",CONCLUSION:"白糖先是由透明的颗粒，熔化成液态（透明液体），继续加热，颜色成黄红、褐红、直至变成黑色，并且可以闻到有焦糊味。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),t.exports=nb.substance0140}});