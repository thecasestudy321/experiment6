webpackJsonp([91,267],{169:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){for(var i=new PIXI.Container,o=new PIXI.filters.ColorMatrixFilter,r=a||!1,l=n||{addArrow:!1,type:"horizontal",scale:1},s=new PIXI.Container,d=0;d<3;++d){var c=d+1,h=PIXI.Sprite.fromFrame("TAP_1"+c);h.x=-h.width/2,h.y=-h.height/2;var p=new PIXI.Container;p.addChild(h),s.addChild(p)}var u=0;if(l.direction)switch(l.direction){case"top":u=-Math.PI/2;break;case"bottom":u=Math.PI/2;break;case"left":u=Math.PI;break;case"right":u=0;break;default:u=0}s.filters=[o];for(var f=0;f<s.children.length;f++){var x=s.children[f];x.scale.x=x.scale.y=2,f<2&&m(x,.75*f)}if(i.addChild(s),l.addArrow){var v,b;if(l.direction){v=PIXI.Sprite.fromFrame("oneArrow"),b=new PIXI.extras.MovieClip([v]);var g=l.scale?l.scale:1;b.scale.x=b.scale.y=g,b.pivot={x:0,y:b.height/2},b.rotation=u}else{v=PIXI.Sprite.fromFrame("NBarrow"),(b=new PIXI.extras.MovieClip([v])).pivot={x:b.width/2,y:b.height/2};var w=l.scale?l.scale:1;b.scale.x=b.scale.y=w,"horizontal"!==(l.type?l.type:"horizontal")&&(b.rotation=Math.PI/2)}i.addChild(b),i.arrow=b,i.addEventListener("hideArrow",function(){b.alpha=0,b.visible=!1}),i.addEventListener("showArrow",function(){b.alpha=1,b.visible=!0})}s.alpha=.4;var T=new PIXI.Graphics;function m(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return T.beginFill(16776960,0),T.drawRect(-50,-50,100,100),i.addChild(T),i.addEventListener(MouseEvent.MOUSE_OVER,function(){s.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){s.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!r&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=t,i.setColor=function(e){var t=e>>16,a=e>>8&255,n=255&e;o._loadMatrix([t,0,0,0,0,0,a,0,0,0,0,0,n,0,0,0,0,0,255,0],!1),s.filters=[o]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(l.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(t),t.pivot={x:0,y:b.height/2},t.rotation=Math.PI/2*(e+1)}else{var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(a),a.pivot={x:b.width/2,y:b.height/2},a.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},239:function(e,t,a){"use strict";nb.substance0147=extendsClass(ScienceMain,{frame0:function(){instance.viewStack.NBONOFF.visible=!1;var e=this.timeline,t=this.step0,a=this.step1,n=!1;a.alpha=0,e.setAutoPlay(!0,1),e.on("change",function(i){!n&&i.time>=1&&(n=!0,TweenMax.to([e,t],.5,{alpha:0,delay:1,onComplete:function(){TweenMax.to(a,.5,{alpha:1})}}));for(var o=1;o<4;o++)t["container"+o].s.alpha=i.time})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"铁在什么情况下容易生锈？我们怎么防止、减缓铁生锈呢？",labName:"控制铁生锈的速度",CONCLUSION:"铁钉生锈是水和空气共同作用的结果。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),nb.timelineSprite=function(){var e,t,a=this;if(a.bgMask){var n=a.bgMask.getChildAt(0);a.progressBar.mask=n,n.scale.x=0}for(var i,o=this.a0.x===this.a1.x?"vertical":"horizontal",r=0,l=0;l<int.MAX_VALUE;l++){var s=this["a"+l];if(void 0===s){t="vertical"===o?this["a"+(l-1)].y:this["a"+(l-1)].x,r=l;break}0===l&&(e="vertical"===o?s.y:s.x),s.addEventListener(TouchEvent.TAP,function(){"vertical"===o?TweenMax.to(a.drag,.5,{y:this.y,onUpdate:c,onComplete:h}):TweenMax.to(a.drag,.5,{x:this.x,onUpdate:c,onComplete:h}),a.emit("nodeTap",{index:this.name.substr(1,1)})})}this.setDrag=function(e){e&&NBDrag.addDrag(a.drag,i)},this.updateBound=function(){"vertical"==o?(i={x:this.drag.x,y:this.drag.y,width:0,height:t},i={x:this.drag.x,y:this.drag.y,width:0,height:t}):i={x:this.drag.x,y:this.drag.y,width:t,height:0}},this.updateBound(),a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var n=r-1;if("vertical"===o){var i=Math.round((this.y-e)/(t-e)*n);i<0&&(i=0),TweenMax.to(this,.5,{y:i*(t-e)/n,onUpdate:c,onComplete:h})}else{var l=Math.round((this.x-e)/(t-e)*n);l<0&&(l=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){c()}),a.drag.constY=a.drag.y;var d,c=function(){if("vertical"===o){var n=(a.drag.y-e)/(t-e);a.emit("change",{time:n})}else{a.drag.y=a.drag.constY,a.drag.x>=t&&(a.drag.x=t),a.drag.x<=e&&(a.drag.x=e);var i=(a.drag.x-e)/(t-e);a.emit("change",{time:i}),a.drag.line0&&(a.drag.line0.rotation=1800*i*Math.PI/180,a.drag.line1.rotation=360*i*Math.PI/180),a.bgMask&&(a.bgMask.getChildAt(0).scale.x=i)}},h=function(){a.setMomentsPause(!0,2e3,2);var n=r-1;if("vertical"===o){var i=(a.drag.y-e)/(t-e),l=Math.round(i*n);a.emit("change",{index:l,time:i})}else{var s=(a.drag.x-e)/(t-e),d=Math.round(s*n);a.emit("change",{index:d,time:s})}};this.getNodeCount=function(){return r},this.setNodePos=function(e){var t=this["a"+e];"vertical"===o?a.drag.y=t.y:a.drag.x=t.x},nb.MovieClip.ticker.add(function(){if(a._auto_&&!a.drag.isDragging){var n=t-e;"vertical"===o?(a.drag.y+=a._speed_,a.drag.y>n&&(a.drag.y=n)):(a.drag.x+=a._speed_,a.drag.x>n+a.a0.x&&(a.drag.x=n+a.a0.x)),c()}}),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,n){clearTimeout(d),e&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(d),a.setAutoPlay(!1),d=setTimeout(function(){a.setAutoPlay(!0,n)},t)):a.setAutoPlay(!1)},this.resetTimeline=function(){this.drag.x=this.bgMask.x}},e.exports=nb.substance0147},321:function(e,t,a){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(a(169));a(239),nb.substance0080=extendsClass(ScienceMain,{frame0:function(){var e=this,t=e.balloon.x,a=e.balloon.y;NBDrag.addDrag(e.balloon),e.timeline.a0.interactive=!1,e.timeline.a1.interactive=!1;var i=ParticleUtil.getParticle(ParticleUtil.particles.water_vapor);e.addChild(i),e.p=i,i.y=e.cup0.y-$s(190),i.x=e.cup0.x-$s(130),i.scale.x=4.3,i.scale.y=2,i.alpha=.3,e.cup0.setCurrentCapacity("70%"),e.cup1.setCurrentCapacity("70%");var o=(0,n.default)(25,20);e.balloon.addChild(o),e.timeline.alpha=0,e.cup1.alpha=0;var r=ParticleUtil.getParticle(ParticleUtil.particles.water_vapor);function l(){NBDrag.addDrag(e.balloon),e.cup0.isHit?e.cup1.isHit||(instance.NBDownTip.showTip("请将气球放入冷水中"),e.balloon.addChild(o)):(instance.NBDownTip.showTip("请将气球放入热水中"),e.balloon.addChild(o))}function s(a){var n=Math.abs(a.time-.3)<=.01,i=Math.abs(a.time-.4)<=.01;console.log(a.time,Math.abs(a.time-.4)),n&&(TweenMax.killTweensOf(e.balloon),TweenMax.to(e.balloon,1.5,{rotation:0})),i&&(TweenMax.killTweensOf(e.balloon),TweenMax.to(e.balloon,3.5,{y:680,rotation:Math.PI/3,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(e.timeline,.5,{alpha:0,onComplete:function(){TweenMax.to(e.cup0,.5,{x:350,ease:Sine.easeInOut}),TweenMax.to(e.p,.5,{x:219,ease:Sine.easeInOut}),TweenMax.to(e.balloon,.5,{x:345,ease:Sine.easeInOut}),TweenMax.to(e.cup1,.5,{x:1100,ease:Sine.easeInOut,alpha:1,onComplete:function(){l()}})}})}})),1===a.time&&(e.timeline.off("change",s),t-=280)}e.balloon.addChild(r),r.y=$s(0),r.x=$s(-15),r.scale.x=1.5,r.alpha=0,this.onUpdate=function(){i.render(),r.render()},e.balloon.addEventListener(NBDrag.event.START_DRAG,function(){instance.NBDownTipsError.hideTip(),instance.NBDownTip.hideTip(),e.addChild(e.balloon),e.cup0.setCapacityTween("70%",1),e.cup1.setCapacityTween("70%",1),e.balloon.removeChild(o),e.balloon.hitTest(e.cup0.ref)&&(r.alpha=.3)}),e.balloon.addEventListener(NBDrag.event.STOP_DRAG,function(){e.balloon.hitTest(e.cup0.ref)||e.balloon.hitTest(e.cup1.ref)?(instance.NBDownTipsError.showTip("请从正上方放入气球"),TweenMax.to(e.balloon,.5,{x:t,y:a,rotation:0}),l()):e.balloon.hitTest(e.cup0.hitArea)?(NBDrag.removeDrag(e.balloon),e.setChildIndex(e.balloon,0),TweenMax.to(e.balloon,2,{x:e.cup0.x,y:e.cup0.y-$s(135),onComplete:function(){TweenMax.to(e.balloon,2,{rotation:50*Math.PI/180,onComplete:function(){e.cup0.isHit?TweenMax.to(e.balloon,3,{y:670,ease:Sine.easeInOut,onComplete:function(){l()}}):(e.cup0.isHit=!0,TweenMax.to(e.timeline,.5,{alpha:1,onComplete:function(){e.timeline.setAutoPlay(!0,2),e.timeline.on("change",s)}}))}})}}),e.cup0.setCapacityTween("78%",1)):e.balloon.hitTest(e.cup1.hitArea)?(e.cup1.isHit=!0,e.setChildIndex(e.balloon,0),NBDrag.removeDrag(e.balloon),TweenMax.to(e.balloon,2,{x:e.cup1.x+$s(0),y:e.cup1.y-$s(155),onComplete:function(){TweenMax.to(e.balloon,4,{rotation:Math.PI/3}),TweenMax.to(e.balloon,4,{y:680})}}),e.cup1.setCapacityTween("78%",1),TweenMax.to(r,2,{alpha:0})):(TweenMax.to(e.balloon,.5,{x:t,y:a,rotation:0}),l())})},frame1:function(){var e=this,t=e.balloon1.x,a=e.balloon1.y;NBDrag.addDrag(e.balloon1);var n=!1,i=ParticleUtil.getParticle(ParticleUtil.particles.water_vapor);e.balloon1.addChild(i),i.y=$s(55),i.x=$s(-40),i.scale.x=1.5,i.alpha=.3,this.onUpdate=function(){i.render(),TweenMax.isTweening(e.balloon1)&&1==n&&e.balloon1.hitTest(e.ref0)&&TweenMax.to(i,.5,{alpha:0})},e.balloon1.addEventListener(NBDrag.event.START_DRAG,function(){TweenMax.killTweensOf(e.balloon1)}),e.balloon1.addEventListener(NBDrag.event.STOP_DRAG,function(){e.balloon1.hitTest(e.cup0)&&e.balloon1.hitTest(e.ref0)&&(instance.alert(instance.info.OPERATION_0),TweenMax.to(e.balloon1,1,{x:t,y:a})),e.balloon1.hitTest(e.ref0)?(instance.alert(instance.info.OPERATION_0),TweenMax.to(e.balloon1,1,{x:t,y:a})):e.balloon1.x>e.ref0.x-e.ref0.width/2+e.balloon1.width/2-$s(25)&&e.balloon1.x<e.ref0.x+e.ref0.width/2-e.balloon1.width/2+$s(27)&&e.balloon1.y>e.cup0.y-$s(450)&&(n=!0,NBDrag.removeDrag(e.balloon1),TweenMax.to(e.balloon1,2,{x:e.cup0.x+$s(0),y:e.cup0.y-$s(65),onComplete:function(){TweenMax.to(e.balloon1,4,{rotation:90*Math.PI/180}),TweenMax.to(e.balloon1,4,{y:e.cup0.y-$s(125)})}}))})},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0"),this.bindScriptToSprite(this.frame1,"frame1")},info:{experimentImport:"给气球里的冷水加热,观察水在变热的过程中有哪些变化？",labName:"给冷水加热",title0:"给气球加热并放入冷水观察现象",CONCLUSION:"热水可以给装有冷水的气球加热且加热后放入冷水中呈上浮的状态。"},const:{},event:{}}),e.exports=nb.substance0080}});