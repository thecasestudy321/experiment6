webpackJsonp([15,222],{169:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,a){for(var n=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,s=i||!1,o=a||{addArrow:!1,type:"horizontal",scale:1},p=new PIXI.Container,h=0;h<3;++h){var d=h+1,c=PIXI.Sprite.fromFrame("TAP_1"+d);c.x=-c.width/2,c.y=-c.height/2;var l=new PIXI.Container;l.addChild(c),p.addChild(l)}var u=0;if(o.direction)switch(o.direction){case"top":u=-Math.PI/2;break;case"bottom":u=Math.PI/2;break;case"left":u=Math.PI;break;case"right":u=0;break;default:u=0}p.filters=[r];for(var m=0;m<p.children.length;m++){var v=p.children[m];v.scale.x=v.scale.y=2,m<2&&y(v,.75*m)}if(n.addChild(p),o.addArrow){var f,T;if(o.direction){f=PIXI.Sprite.fromFrame("oneArrow"),T=new PIXI.extras.MovieClip([f]);var g=o.scale?o.scale:1;T.scale.x=T.scale.y=g,T.pivot={x:0,y:T.height/2},T.rotation=u}else{f=PIXI.Sprite.fromFrame("NBarrow"),(T=new PIXI.extras.MovieClip([f])).pivot={x:T.width/2,y:T.height/2};var x=o.scale?o.scale:1;T.scale.x=T.scale.y=x,"horizontal"!==(o.type?o.type:"horizontal")&&(T.rotation=Math.PI/2)}n.addChild(T),n.arrow=T,n.addEventListener("hideArrow",function(){T.alpha=0,T.visible=!1}),n.addEventListener("showArrow",function(){T.alpha=1,T.visible=!0})}p.alpha=.4;var b=new PIXI.Graphics;function y(t,e){TweenMax.to(t,1.5,{delay:e,alpha:0,repeat:-1}),TweenMax.to(t.scale,1.5,{x:5,y:5,delay:e,repeat:-1})}return b.beginFill(16776960,0),b.drawRect(-50,-50,100,100),n.addChild(b),n.addEventListener(MouseEvent.MOUSE_OVER,function(){p.alpha=.6}),n.addEventListener(MouseEvent.MOUSE_OUT,function(){p.alpha=.4}),n.addEventListener(TouchEvent.TOUCH_BEGIN,function(){n.emit(n.event.TAP),!s&&n.parent&&n.parent.removeChild(n)}),n.x=t,n.y=e,n.setColor=function(t){var e=t>>16,i=t>>8&255,a=255&t;r._loadMatrix([e,0,0,0,0,0,i,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),p.filters=[r]},n.setRotation=function(t){n.rotation=t},n.showAllDir=function(){if(o.direction)for(var t=0;t<3;t++){var e=new PIXI.Container;e.addChild(PIXI.Sprite.fromFrame("oneArrow")),n.addChild(e),e.pivot={x:0,y:T.height/2},e.rotation=Math.PI/2*(t+1)}else{var i=new PIXI.Container;i.addChild(PIXI.Sprite.fromFrame("NBarrow")),n.addChild(i),i.pivot={x:T.width/2,y:T.height/2},i.rotation=n.rotation+Math.PI/2}},n.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&n.scale.set(.6,.6),n}},240:function(t,e,i){"use strict";var a=function(t){return t&&t.__esModule?t:{default:t}}(i(169));nb.substance0010=extendsClass(ScienceMain,{frame0:function(){var t=this,e=instance.addParticle(t.spoon1.ani),i=instance.addParticle(t.spoon2.ani);e.visible=i.visible=!1,this.count=0,nb.spiritFunc.apply(this.spiritLamp,[{fire:ParticleUtil.particles.match_fire}]),this.spiritLamp.hideCover(!0),nb.matches.apply(this.matches),NBDrag.addDrag(this.spoon1),NBDrag.addDrag(this.spoon2),this.spoon1.tempMc.visible=this.spoon2.tempMc.visible=!1,nb.capacityContainer.apply(this.spoon1.ani),nb.capacityContainer.apply(this.spoon2.ani);var n=instance.getNBLib("0010");n.spoonFunc.apply(this.spoon1),n.spoonFunc.apply(this.spoon2),this.spoon1.ani.max_capacity=this.spoon1.ani.totalFrames,this.spoon2.ani.max_capacity=this.spoon2.ani.totalFrames,this.spoon1.ani.capacity=14,this.spoon2.ani.capacity=14;this.spoon1.temp=28,this.spoon2.temp=28;var r=(0,a.default)(65,40);t.matches.addChild(r);var s=(0,a.default)(0,80,!0);function o(){if(!t.spiritLamp.render()){var e=(0,a.default)(65,40);t.matches.addChild(e),t.matches.matchesPoint=e,instance.NBDownTip.showTip("拖动火柴点燃蜡烛")}if(t.spiritLamp.render()){var i=p(t.spoon1),n=p(t.spoon2);i||n||t.isHit||(t.spiritLamp.Point||(t.spiritLamp.addChild(s),t.spiritLamp.Point=s),instance.NBDownTip.showTip("拖动蜡烛给实验组勺子加热"))}}function p(e){return!!t.spiritLamp.fireArea.hitTest(e.ani)&&(e.hit=!0,!0)}function h(){t.spiritLamp.render()?t.spiritLamp.render()&&(t.spiritLamp.fireArea.hitTest(t.spoon1.ani)||t.spiritLamp.fireArea.hitTest(t.spoon2.ani)||t.isHit?t.spiritLamp.fireArea.hitTest(t.spoon1.ani)&&(t.isHit=!0):(t.spiritLamp.addChild(s),instance.NBDownTip.showTip("拖动蜡烛给实验组勺子加热"))):instance.NBDownTip.showTip("拖动火柴点燃蜡烛")}function d(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip()}this.onUpdate=function(){if(this.spiritLamp.render()){this.spiritLamp.fireArea.hitTest(t.spoon2.ani)&&instance.NBDownTipsError.showTip("操作错误！请给实验组勺子加热"),this.spiritLamp.fireArea.hitTest(t.spoon1.ani)&&instance.NBDownTipsError.hideTip();for(var a=[this.spoon1,this.spoon2],n=0;n<a.length;n++){var r=a[n],o=this.spiritLamp.fireArea.getBounds(),p=r.ani.getBounds();NBPoint.distance({x:o.x+o.width/2,y:o.y+o.height},{x:p.x+p.width/2,y:p.y+p.height});if(56,this.spiritLamp.fireArea.hitTest(r.ani)&&0==r.ani.isFull()&&this.spiritLamp.y-r.y>$s(100)){t.isHit=!0,t.spiritLamp.Point&&t.spiritLamp.removeChild(s),TweenMax.killTweensOf(r.ani.particle),TweenMax.to(r.ani.particle,5,{alpha:.3}),r.ani.particle.visible=!0;var h=1-56/o.height,d=10-10*h;d=d<1?1:Math.round(d),r.temp>=65?(t.count%d==0&&(r.ani.capacity++,r.ani.capacity>=r.ani.max_capacity-1&&(t.onStepComplete(),TweenMax.to(r.ani.particle,1,{alpha:0,onComplete:function(){r.ani.removeChild(r.ani.particle)}}))),t.count++):r.temp+=1+h}else TweenMax.killTweensOf(r.ani.particle),TweenMax.to(r.ani.particle,5,{alpha:0});r.temp>28&&(r.temp-=1);var c=r.temp>=99?100:r.temp;r.setTemp(Math.round(10*c)/10)}}this.matches.render(),e.render(),i.render()},this.matches.addEventListener(TouchEvent.TOUCH_BEGIN,function(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.matches.matchesPoint&&(t.matches.removeChild(t.matches.matchesPoint),t.matches.matchesPoint=null)}),this.matches.addEventListener(TouchEvent.TOUCH_END,o),this.matches.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,o),this.spoon1.addEventListener(NBDrag.event.STOP_DRAG,h),this.spoon1.addEventListener(NBDrag.event.START_DRAG,d),this.spoon2.addEventListener(NBDrag.event.STOP_DRAG,h),this.spoon2.addEventListener(NBDrag.event.START_DRAG,d),this.spiritLamp.addEventListener(NBDrag.event.STOP_DRAG,h),this.spiritLamp.addEventListener(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),this.Point&&this.removeChild(s)})},frame1:function(){var t=this;this.count=0,nb.spiritFunc.apply(this.spiritLamp,[{fire:ParticleUtil.particles.match_fire}]),this.spiritLamp.hideCover(!0),nb.matches.apply(this.matches),NBDrag.addDrag(this.spoon1),NBDrag.addDrag(this.spoon2),this.spoon1.tempMc.visible=this.spoon2.tempMc.visible=!1,nb.capacityContainer.apply(this.spoon1.ani),nb.capacityContainer.apply(this.spoon2.ani);var e=instance.getNBLib("0010");e.spoonFunc.apply(this.spoon1),e.spoonFunc.apply(this.spoon2),this.spoon1.ani.max_capacity=this.spoon1.ani.totalFrames,this.spoon2.ani.max_capacity=this.spoon2.ani.totalFrames,this.spoon1.ani.capacity=14,this.spoon2.ani.capacity=14;this.spoon1.temp=28,this.spoon2.temp=28,this.onUpdate=function(){if(this.spiritLamp.render())for(var e=[this.spoon1,this.spoon2],i=0;i<e.length;i++){var a=e[i],n=this.spiritLamp.fireArea.getBounds(),r=a.ani.getBounds(),s=NBPoint.distance({x:n.x+n.width/2,y:n.y+n.height},{x:r.x+r.width/2,y:r.y+r.height});if(this.spiritLamp.fireArea.hitTest(a.ani)&&0==a.ani.isFull()&&this.spiritLamp.y-a.y>$s(100)){var o=1-s/n.height,p=10-10*o;p=p<1?1:Math.round(p),a.temp>=65?(t.count%p==0&&(a.ani.capacity++,a.ani.capacity>=a.ani.max_capacity-1&&t.onStepComplete()),t.count++):a.temp+=1+o}a.temp>28&&(a.temp-=1);var h=a.temp>=99?100:a.temp;a.setTemp(Math.round(10*h)/10)}this.matches.render()}},spoonFunc:function(){this.showTemp=function(){0==this.tempMc.visible&&(this.tempMc.visible=!0),this.tempMc.alpha<1&&(this.tempMc.alpha+=.05)},this.hideTemp=function(){this.tempMc.alpha>0?this.tempMc.alpha-=.05:this.tempMc.visible=!0},this.setTemp=function(t){this.tempMc.txt.text=t+"°"}},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.showExperimentImport(this.info.experimentImport),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"猜一猜水蒸发的速度和什么有关系？",labName:"加热能加快水蒸发",title0:"加热勺子观察现象",OPERATION_0:"将胶头滴管放入滴瓶点击吸水，在勺子上方点击胶头滴管滴入水滴。",OPERATION_1:"打开酒精灯瓶盖，点击任意空白地方召唤火柴接触酒精灯点燃。",CONCLUSION:"加热可以加快水的蒸发。"},const:{MATCH:"Match"},event:{},addParticle:function(t){var e=ParticleUtil.getParticle(ParticleUtil.particles.water_vapor);return t.addChild(e),t.particle=e,e.x=t.x+155,e.y=t.y-30,e.scale.x=1.4,e.scale.y=1.1,e.alpha=.3,e}}),nb.capacityContainer=function(){Object.defineProperty(this,"capacity",{get:function(){return this._capacity||0},set:function(t){t<=this.max_capacity&&t>=0&&(t<this.totalFrames&&this.gotoAndStop(t),this._capacity=t)}}),void 0==this.max_capacity&&(this.max_capacity=15),this.isFull=function(){return this.capacity==this.max_capacity},this.isEmpty=function(){return 0==this.capacity}},nb.spiritEvent={LIGHT_FILE:"lightFile",PUT_FILE:"putFile"},nb.spiritFunc=function(t){t=t||{};var e={x:this.corver.x,y:this.corver.y},i=this;NBDrag.addDrag(this.corver),NBDrag.addDrag(this),this.corver.on(NBDrag.event.START_DRAG,function(t){t.data.isPropagationStopped=!0,"spiritLamp"===this.parent.name&&this.parent.parent.addChildWithSamePos(this)}),this.corver.on(NBDrag.event.STOP_DRAG,function(){this.hitTest(i.body)&&(i.addChild(this),this.x=e.x,this.y=e.y,this.parent.putFire())}),this.lightFire=function(){this.corver.hitTest(this.body)&&!0===this.corver.visible||(null==this.fire&&(this.fire=ParticleUtil.getParticle(t.fire||ParticleUtil.particles.spirit_fire),void 0===t.fire&&(this.fire_blue=ParticleUtil.getParticle(ParticleUtil.particles.spirit_fire_blue),this.fire_blue.bind(this,$s(0),$s(10)),this.fire_blue.alpha=.2,this.fire_blue.visible=!0,this.parent.addChildAt(this.fire_blue,i.parent.getChildIndex(i)+1)),this.parent.addChildAt(this.fire,i.parent.getChildIndex(i)+1),this.fire.bind(this,$s(-10),$s(10)),this.fire.alpha=.6),this.fire.visible=!0,this.emit(nb.spiritEvent.LIGHT_FILE))},this.putFire=function(){this.fire&&(this.fire.visible=!1,this.fire.destroy(),this.fire=null,this.emit(nb.spiritEvent.PUT_FILE)),this.fire_blue&&(this.fire_blue.visible=!0,this.fire_blue.destroy(),this.fire_blue=null)},this.render=function(){return!!this.isBurning()&&(this.fire&&this.fire.render(),this.fire_blue&&this.fire_blue.render(),!0)},this.isBurning=function(){return this.fire&&this.fire.visible},this.hideCover=function(t){this.cover.visible=!t},this.cover=this.corver},nb.matches=function(){SoundManager.register({src:"courses/substance0010/res/match.mp3",id:"0010/match"});var t=this,e=this.parent.match;e.visible=!1,NBDrag.addDrag(e);var i=null;function a(){e.visible=!1,t.putFire()}this.addEventListener(TouchEvent.TOUCH_BEGIN,function(t){var a=this.getBounds();e.visible=!0,e.alpha=1,e.x=this.x-(a.x-t.data.global.x)-$s(100),e.y=this.y-(a.y-t.data.global.y)-$s(40),null==i&&((i=ParticleUtil.getParticle(ParticleUtil.particles.match_fire)).alpha=.4,this.stepRoot.addChild(i),i.bind(e,0,$s(50))),i.visible=!0,TouchEvent.simulateTouchDown(e,t),e.sound=SoundManager.play("0010/match")}),this.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,function(){a()}),e.addEventListener(NBDrag.event.STOP_DRAG,function(){a()}),this.render=function(){1==e.visible&&i&&i.render()},e.addEventListener(TouchEvent.TOUCH_MOVE,function(){this.parent&&this.parent.spiritLamp&&this.fireArea.hitTest(this.parent.spiritLamp.head)&&this.parent.spiritLamp.lightFire()}),this.putFire=function(){null!=i&&(i.visible=!1,i.destroy(),i=null),e.sound&&(e.sound.stop(),e.sound=null)},this.hideMatch=a,this.isBurning=function(){return null!=i}},nb.buretteEvent={BURETTE_POP:"burettePop",BURETTE_TAP:"buretteTap"},nb.buretteInfo={EMPTY:"请先在滴管中吸入液体"},nb.burette=function(){var t=!0,e=this;this.dropColor=16777215,this.MAX_BOTTLE_CAPACITY=1e3,this.MAX_BURETTE_CAPACITY=15,this.bottle.topValue=this.bottle.water_top.y,this.bottle.bottomValue=this.bottle.water_bottom.y,this.bottle.max_capacity=this.MAX_BOTTLE_CAPACITY,this.burette.movie.max_capacity=this.MAX_BURETTE_CAPACITY,this.isCorver=function(){return this.burette.movie.hitTest(this.head)};var i={x:this.burette.x,y:this.burette.y},a=this;NBDrag.addDrag(this.burette),NBDrag.addDrag(this),nb.capacityContainer.apply(this.burette.movie),this.burette.movie.isFull=this.bottle.isFull=function(){return this.capacity==this.max_capacity},this.burette.movie.isEmpty=this.bottle.isEmpty=function(){return 0==this.capacity},Object.defineProperty(this.bottle,"capacity",{get:function(){return this._capacity||0},set:function(t){var e=-(this.topValue-this.bottomValue);this._capacity=t;var i=t/a.MAX_BOTTLE_CAPACITY;this.water_middle.height=e*i,this.water_top.y=this.bottomValue-e*i}}),this.setEnabled=function(e){t=e,!1===e&&TweenMax.killTweensOf(this.burette)},this.getEnabled=function(){return t},this.bottle.capacity=this.MAX_BOTTLE_CAPACITY;var n=this.parent;this.burette.on(NBDrag.event.START_DRAG,function(t){t.data.isPropagationStopped=!0,TweenMax.killTweensOf(this),n.addChildWithSamePos(this)}),this.burette.on(NBDrag.event.STOP_DRAG,function(){a.isCorver()&&(this.x=i.x,this.y=i.y,e.addChildAt(this,0))}),NBGesture.addGesture(this.burette,NBGesture.gesture.TAP,function(){if(e.emit(nb.buretteEvent.BURETTE_TAP),!1!==t){var i=a.burette.movie.capacity;!1!==a.isCorver()||!0!==a.burette.movie.isEmpty()?TweenMax.to(this,1.5,{onUpdate:function(){if(a.isCorver())0==a.burette.movie.isFull()&&0==a.bottle.isEmpty()&&this.progress()>(a.burette.movie.capacity-i)/(a.burette.movie.max_capacity-i)&&(a.burette.movie.capacity++,a.bottle.capacity--);else if(0==a.burette.movie.isEmpty()&&1-this.progress()<a.burette.movie.capacity/i){a.burette.movie.capacity--;var t=new PIXI.Graphics;t.beginFill(e.dropColor,.3),t.drawEllipse(0,0,$s(6),$s(12)),a.stepRoot.addChild(t);var n=a.stepRoot.toLocal({x:a.burette.width/2,y:a.burette.height},a.burette);t.x=n.x,t.y=n.y,t.destory=function(){this.parent&&(TweenMax.killTweensOf(this),this.parent.removeChild(this))},TweenMax.to(t,1,{y:t.y+$s(800),alpha:0,onComplete:function(t){t.destory()},onCompleteParams:[t]}),a.emit(nb.buretteEvent.BURETTE_POP,{target:a.burette,drop:t})}}}):instance.NBDownTipsError.showTip(nb.buretteInfo.EMPTY)}})},t.exports=nb.substance0010},407:function(t,e,i){"use strict";var a=o(i(520)),n=o(i(169)),r=o(i(539)),s=o(i(521));function o(t){return t&&t.__esModule?t:{default:t}}i(240),nb.substance0581=extendsClass(ScienceMain,{frame0:function(){instance.viewStack.NBONOFF.visible=!1;var t=this,e=t.timeline;s.default.apply(t);for(var i=(0,n.default)(65,40),o=0;o<4;o++)t["step"+o].over=!1,o>0&&(e["a"+o].shan.alpha=0);e.addEventListener(a.default.event.CLICK_NODE,function(){for(var t=1;t<4;t++)TweenMax.killTweensOf(e["a"+t].shan),e["a"+t].shan.alpha=!1});var p=[];p.push(t.step0.hammerTarget0),r.default.apply(t.step0.hammer,[{ifHItArea:!1}]),t.step0.hammer.targetArray=p,t.step0.hammer.addEventListener(NBDrag.event.START_DRAG,function(){t.step0.chuizi.alpha=0}),t.step0.hammer.addEventListener(t.step0.hammer.event.HAMMER_REACH,function(){t.step0.hammer.headIsSlide||(t.step0.hammer.headIsSlide=!0,t.step0.hammer.emit(t.step0.hammer.event.SHOWARR,{x:-130,y:0}))});var h=!1;t.step0.hammer.addEventListener(t.step0.hammer.event.HIT_STOP,function(i){i.power>.2&&(t.step0.ding.play(),p.splice(0,1),t.step0.removeChild(t.step0.hammerTarget0),t.step0.hammerTarget0.hitState=!0,t.step0.hammer.resetSimpleDrag(),t.step0.over=!0,t.step0.hammer.interactive=!1,TweenMax.to(t.step0.hammer,.3,{alpha:0,delay:.3,onComplete:function(){t.step0.hammer.visible=!1,TweenMax.to([t.step0.ding,t.step0.dingT],.3,{x:"+=200",ease:Power0.easeNone})}}),h||t.step1.over||(h=!0,instance.blingTip(e.a1.shan)))}),this.onUpdate=function(){t.step3.matches.render(),t.step3.spiritLamp.render(),t.step3.spiritLamp.isBurning()&&(t.step3.spiritLamp.burned=!0,instance.viewStack.frame0.step3.spiritLamp.top.y=instance.viewStack.frame0.step3.spiritLamp.bottom.y-instance.viewStack.frame0.step3.spiritLamp.bottom.height,instance.viewStack.frame0.step3.spiritLamp.fire.y=instance.viewStack.frame0.step3.spiritLamp.top.y-instance.viewStack.frame0.step3.spiritLamp.top.height,t.step3.spiritLamp.bottom.height>=50?t.step3.spiritLamp.bottom.height-=.1:t.step3.spiritLamp.bottom.height>=10&&t.step3.spiritLamp.bottom.height<50?(t.step3.spiritLamp.bottom.height-=.1,t.step3.spiritLamp.fire.alpha-=.0012):t.step3.spiritLamp.putFire()),t.step2.Kbottom.position=t.step2.Ktop.position,t.step3.matches.isBurning()&&t.step3.matches.removeChild(i)};var d=t.step1;function c(t){var e=t.x1,i=t.x2,a=t.y1,n=(a-t.y2)/(e-i);return{k:n,b:a-n*e}}a.default.init.apply(d.timeline),t.step1.drop.alpha=0,t.step1.drop.mask=t.step1.dropMask.children[0],t.step1.waterBreak.setCurrentCapacity("80%");var l=c({x1:0,y1:80,x2:1,y2:70}),u=c({x1:0,y1:124.9,x2:1,y2:149.9});d.timeline.on(a.default.event.ON_PLAY,function(t){var e=t.time*l.k+l.b;d.waterBreak.setCurrentCapacity(e+"%"),d.drop.alpha=t.time/1.3,d.dropMask.y=t.time*u.k+u.b});var m=!1;d.timeline.on(a.default.event.ON_COMPLETE,function(){TweenMax.to(d.timeline,.3,{alpha:0}),d.timeline.interactiveChildren=!1,t.step1.over=!0,m||t.step2.over||(m=!0,instance.blingTip(e.a2.shan))}),t.timeline.on("nodeTap",function(a){1==a.index&&setTimeout(function(){d.timeline.setAutoPlay(!0,2)},1e3),3==a.index&&(t.step3.spiritLamp.burned||(t.step3.matches.addChild(i),t.step3.match.addEventListener(NBDrag.event.STOP_DRAG,function(){t.step3.spiritLamp.burned||t.step3.matches.addChild(i)}))),2==a.index&&(m=!0,TweenMax.killTweensOf(e.a2.shan))});var v=t.step2;NBDrag.addDrag(v.Ktop);var f=(0,n.default)(0,0);v.addChild(v.Ktop),v.Ktop.addChild(f),v.Ktop.addEventListener(NBDrag.event.START_DRAG,function(){v.Ktop.removeChild(f),v.addChild(v.Kbottom),v.addChild(v.Ktop),t.step2.knife.alpha=0}),v.Ktop.addEventListener(NBDrag.event.STOP_DRAG,function i(){t.step2.Ktop.hitTest(t.step2.paper)?(t.step2.Ktop.isHit=!0,TweenMax.to(t.step2.Ktop,.5,{x:v.knifeTarget.x,y:v.knifeTarget.y,ease:Sine.easeInOut,onComplete:function(){t.step2.setChildIndex(v.Kbottom,0),TweenMax.to(t.step2.Ktop,.3,{rotation:-Math.PI/6,x:"-=130",repeat:3,ease:Power0.easeNone}),TweenMax.to(t.step2.Kbottom,.3,{rotation:Math.PI/6,repeat:3,x:"-=130",ease:Power0.easeNone,onComplete:function(){t.step2.Kbottom.rotation=t.step2.Ktop.rotation=0}}),TweenMax.to(t.step2.Ktop,1,{x:"-=300",ease:Power0.easeNone}),TweenMax.to(t.step2.Kbottom,1,{x:"-=300",ease:Power0.easeNone}),TweenMax.to(t.step2.paper,1.3,{currentFrame:t.step2.paper.totalFrames-1,onComplete:function(){v.Ktop.removeEventListener(NBDrag.event.STOP_DRAG,i),GlobalEffect.fadeOut([t.step2.Ktop,t.step2.Kbottom]),nb.scienceCommonFun.resetName(t.step2.txt,"剪碎的纸"),TweenMax.to([t.step2.paper],.5,{x:"+=180",y:"-=60",delay:.5,ease:Power0.easeNone}),TweenMax.to([t.step2.txt],.5,{x:"+=180",y:"-=55",delay:.5,ease:Power0.easeNone,onComplete:function(){t.step2.over=!0,T||t.step3.over||(T=!0,instance.blingTip(e.a3.shan))}})}})}})):t.step2.knife.isHit||t.step2.Ktop.addChild(f)});var T=!1;nb.spiritFunc.apply(t.step3.spiritLamp,[{fire:ParticleUtil.particles.match_fire}]),t.step3.spiritLamp.hideCover(!0),nb.matches.apply(t.step3.matches),t.step3.spiritLamp.interactive=!1,t.step3.spiritLamp.addEventListener(nb.spiritEvent.LIGHT_FILE,function(){t.step3.matches.interactive=!1,t.step3.over=!0})},blingTip:function(t){var e=TweenMax.to(t,2,{ease:Power0.easeNone,repeat:-1,onUpdate:function(){var i=e.progress();t.alpha=i<=.5?2*i:1-2*(i-.5)}})},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"我们有哪些方法可以使以下物质发生变化?",labName:"让物质发生变化",CONCLUSION:"在观察中体会到物质的变化形式是多样的, 变化可以是自然的,也可以是人为的。",newLayOut:!0,bgColor:"#F3E6CF"},const:{},event:{}}),t.exports=nb.substance0581},520:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var t,e,i=this;if(i.bgMask){var n=i.bgMask.getChildAt(0);i.progressBar.mask=n,n.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",s=0,o=[];i.drag.lastPos={x:i.drag.x,y:i.drag.y};for(var p=0;p<int.MAX_VALUE;p++){var h=this["a"+p];if(void 0===h){e="vertical"===r?this["a"+(p-1)].y:this["a"+(p-1)].x,s=p;break}o.push(h),0===p&&(t="vertical"===r?h.y:h.x),h.addEventListener(TouchEvent.TAP,function(){var t=this;"vertical"===r?TweenMax.to(i.drag,.5,{y:this.y}):TweenMax.to(i.drag,.5,{x:this.x,onComplete:function(){i.emit(a.event.CLICK_NODE_REACHED,{index:t.name.substr(1,1)})}}),this.totalFrames&&(o.forEach(function(t){return t.currentFrame=0}),this.currentFrame=1),i.drag.lastPos={x:this.x,y:this.y},i.emit(a.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(n){n?(NBDrag.addDrag(i.drag),i.drag.on(NBDrag.event.START_DRAG,function(){var n=(i.drag.x-t)/(e-t);i.emit(a.event.START_DRAG,{time:n})}),i.drag.on(NBDrag.event.DRAG_MOVE,function(){var n=(i.drag.x-t)/(e-t);i.emit(a.event.DRAGING,{time:n})}),i.drag.on(NBDrag.event.STOP_DRAG,function(){var n=(i.drag.x-t)/(e-t);i.emit(a.event.STOP_DRAG,{time:n}),n>=1&&i.emit(a.event.ON_COMPLETE,{time:n})})):NBDrag.removeDrag(i.drag)},i.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==i._align_){var a=s-1;if("vertical"===r){var n=Math.round((this.y-t)/(e-t)*a);n<0&&(n=0)}else{var o=Math.round((this.x-t)/(e-t)*a);o<0&&(o=0)}}}),i.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){l()});var d=!1;i.drag.constY=i.drag.y;var c,l=function(){i.drag.y=i.drag.constY,i.drag.x>=e&&(i.drag.x=e),i.drag.x<=t&&(i.drag.x=t);var n=(i.drag.x-t)/(e-t);if(n<1){d=!1,i.emit(a.event.ON_PLAY,{time:n});for(var r=0;r<o.length;r++)i.drag.lastPos.x<=o[r].x&&i.drag.x>o[r].x&&i.emit(a.event.REACHED_NODE,{index:r})}else d||(d=!0,i.emit(a.event.ON_COMPLETE,{time:n}));(i.drag.line0&&(i.drag.line0.rotation=1800*n*Math.PI/180,i.drag.line1.rotation=360*n*Math.PI/180),i.bgMask)&&(i.bgMask.getChildAt(0).scale.x=n);i.drag.lastPos={x:i.drag.x,y:i.drag.y}};this.getNodeCount=function(){return s},this.setNodePos=function(t){var e=this["a"+t];"vertical"===r?i.drag.y=e.y:i.drag.x=e.x},nb.MovieClip.ticker.add(function(){i._auto_&&!i.drag.isDragging&&("vertical"===r?i.drag.y+=i._speed_:i.drag.x+=i._speed_,l())}),this.setAutoPlay=function(t,e){this._auto_=t,this._speed_=e||.1},this.setAutoAlign=function(t){this._align_=t},this.setMomentsPause=function(t,e,a){clearTimeout(c),t&&!i.NOTafterStopPlay?(i.setAutoPlay(!1),clearTimeout(c),i.setAutoPlay(!1),c=setTimeout(function(){i.setAutoPlay(!0,a)},e)):i.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,i.bgMask)&&(i.bgMask.getChildAt(0).scale.x=0)}}};e.default=a},521:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t=t||{};var e=this,i=[];a.default.init.apply(this.timeline);for(var n=0;n<this.timeline.getNodeCount();n++){var r=this["step"+n];i.push(r),r.alpha=0,r.visible=!1}var s=this.step0;s.visible=!0,s.alpha=1;var o=0;this.timeline.on(a.default.event.CLICK_NODE,function(a){if(void 0!==a.index&&a.index!=o){var n=t.offset||1200;n=a.index>o?$s(n):-$s(n);var r=void 0!==s.currentX?s.currentX:s.currentX=s.x;TweenMax.to(s,t.oldTm||.6,{x:r+n,alpha:0,onComplete:function(e){e.visible=!1,t.isFix||(e.y=0)},onCompleteParams:[s],ease:Expo.easeOut}),o=a.index,(s=i[o]).visible=!0,r=void 0!==s.currentX?s.currentX:s.currentX=s.x,s.x=r-n,TweenMax.to(s,t.newTm||1,{x:r,alpha:1,ease:Expo.easeOut,onComplete:function(){e.emit(e.boxSwitch_event.CHANGE_COM,{target:s,index:a.index})}})}}),this.addEventListener("render",function(){s.onUpdate&&s.onUpdate()}),e.boxSwitch_event={CHANGE_COM:"changeCom"}};var a=function(t){return t&&t.__esModule?t:{default:t}}(i(520))},526:function(t,e,i){"use strict";(function(e){var i=e.nb;i.simpleDrag=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t||this,n=a.parent,r=-1,s=0;a.defaultX=a.x,a.defaultY=a.y,a.defaultScale=a.scale.x,a.defaultRotation=a.rotation,a.backDefaultFun=function(t){var e=this,a=t.Interactive,n=void 0===a||a,r=this;TweenMax.to(r,.5,{x:r.defaultX,y:r.defaultY,rotation:r.defaultRotation,onComplete:function(){r.interactive=n,e.dragging=!1,r.txtObj&&r.txtFun({show:!0}),r.emit(i.simpleDrag.event.BACK_DEFAULT_POS)}}),TweenMax.to(r.scale,.5,{x:r.defaultScale,y:r.defaultScale})};var o=Object.assign({scale:1,del:0,backDefaultPos:!1,alphaReach:.6,alphaNotReach:.3,expandRadius:0,txtName:"lable"},e),p=o.scale,h=o.del,d=o.backDefaultPos,c=o.alphaReach,l=o.alphaNotReach,u=o.expandRadius,m=p,v=h,f=c,T=l,g=o.txtName;function x(t){var e=t.tempObj,i=t.targetArray,r=t.targetString,s=t.number;if(e){var o,p=new PIXI.Sprite,h=!1;a.totalFrames>0?(h=!0,(o=a[0]).reverse()):(o=a.children.concat(),a.background instanceof PIXI.DisplayObject&&(o=[a.background])),o.forEach(function(t){if(t instanceof PIXI.DisplayObject||(t=t.dis),!t.mask)if(h){if(t.dis instanceof PIXI.Text)return;var e=t.clone();t.name=e.name,e&&(e.x=t.x,e.y=t.y,p.addChild(e))}else{if(t instanceof PIXI.Text)return;var i=t.clone();i&&i.name&&(t.name=i.name),i&&(i.x=t.x,i.y=t.y,p.addChild(i))}}),p.x=e.x,p.y=e.y;var d=n.getChildIndex(e);if(-1===d&&(d=n.children.length-1),n.addChildAt(p,d),window.cloneSSS=p,u){var c=new PIXI.Graphics;c.beginFill(16711680,0),c.drawCircle(0,0,u),c.endFill(),p.addChild(c)}if(TweenMax.to(p,0,{x:e.x,y:e.y,rotation:v*Math.PI/180,width:p.width*m,height:p.height*m}),r)(e=p).alpha=0,e.name=r,i[s]=e;else{p.name=e.name;var l=e.index;(e=p).alpha=0,e.name=p.name,i[l]=p}}}a[g]?(a.txtObj=a[g],a.txtFun=function(t){var e=t.show;this.txtObj.visible=Number(e)}):a.txtObj=null;var b=void 0===e.vAlpha?1:e.vAlpha;NBDrag.addDrag(a),a.addEventListener(NBDrag.event.START_DRAG,y),a.removeSimpleDrag=function(){NBDrag.removeDrag(a),a.removeEventListener(NBDrag.event.START_DRAG,y)},a.resetSimpleDrag=function(){r=-1,a.dragging=!1,a.removeSimpleDrag(),NBDrag.addDrag(a),a.addEventListener(NBDrag.event.START_DRAG,y)},a.setRotation=function(t){v=t},a.setScale=function(t){m=t},a.hideVirtuals=function(t){a.isHideVirtuals=t};function y(){if(!this.dragging&&(a.txtObj&&a.txtFun({show:!1}),-1===r?(r=function(t){if(a.targetArray){for(var e=a.targetArray,i=[],r=0;r<e.length;r++)e[r].index=r,x({tempObj:e[r],targetArray:i});return i}var s=[],o=1,p=void 0,h=0;do{x({tempObj:o=n[p=t+"Target"+h],targetArray:s,targetString:p,number:h}),h++}while(o);return s}(a.name)).length:r.length,!a.isHideVirtuals)){s=0;for(var t=0;t<r.length;t++)TweenMax.to(r[t],.5,{alpha:T*b});a.addEventListener(NBDrag.event.DRAG_MOVE,E),a.addEventListener(NBDrag.event.STOP_DRAG,_),a.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,_),a.emit(i.simpleDrag.event.START_DRAG),this.dragging=!0}}function E(){TweenMax.killTweensOf(a);for(var t=i.scienceCommonFun.hitTest2(a,r),e=0;e<r.length;e++){var n=r[e];TweenMax.to(n,.5,{alpha:T*b}),TweenMax.to(n.scale,.3,{x:m,y:m,ease:Power0.easeOut})}t&&(TweenMax.to(t,.5,{alpha:f*b}),TweenMax.to(t.scale,.3,{x:1.1*m,y:1.1*m,ease:Power0.easeIn}))}function _(){var t=this,e=-1,n=-1,o=0;a.removeEventListener(NBDrag.event.START_DRAG,y),a.removeEventListener(NBDrag.event.DRAG_MOVE,E),a.removeEventListener(NBDrag.event.STOP_DRAG,_),a.removeEventListener(TouchEvent.TOUCH_END_OUDSIDE,_),NBDrag.removeDrag(a),a.emit(i.simpleDrag.event.STOP_DRAG);for(var p=0;p<r.length;p++)TweenMax.to(r[p],.5,{alpha:0}),!1!==(o=a.hitTest(r[p]))&&(s=1,(-1===e||n<o)&&(e=p,n=o));if(1!==s)return NBDrag.addDrag(a),a.addEventListener(NBDrag.event.START_DRAG,y),a.emit(i.simpleDrag.event.NOT_REACH_TARGET,s),a.interactive=!1,s=0,d?(TweenMax.to(a,.5,{x:a.defaultX,y:a.defaultY,rotation:a.defaultRotation,onComplete:function(){a.interactive=!0,t.dragging=!1,a.txtObj&&a.txtFun({show:!0}),a.emit(i.simpleDrag.event.BACK_DEFAULT_POS)}}),TweenMax.to(a.scale,.5,{x:a.defaultScale,y:a.defaultScale}),void(s=0)):(this.dragging=!1,a.interactive=!0,void(a.txt&&(a.txt.visible=!0)));TweenMax.to(a.scale,.5,{x:m,y:m}),TweenMax.to(a,.5,{x:r[e].x,y:r[e].y,rotation:v*Math.PI/180,onComplete:function(){return this.target.dragging=!1,a.emit(i.simpleDrag.event.REACH_TARGET,r[e].name.valueOf()),r.splice(e,1),0===r.length?void 0:(s=0,NBDrag.addDrag(a),a.addEventListener(NBDrag.event.START_DRAG,y),void(a.interactive=!1))}}),a.emit(i.simpleDrag.event.REACH_TARGET_HITTED,r[e].name.valueOf())}a.setFreeDrag=function(t){t}},i.simpleDrag.event={START_DRAG:"startSimpleDrag",ON_HITTED:"hitted",REACH_TARGET_HITTED:"onReachHitted",REACH_TARGET:"onReachTarget",NOT_REACH_TARGET:"notReachTarget",FINISH_DRAG:"finishDrag",STOP_DRAG:"stopSimpleDrag",BACK_DEFAULT_POS:"backdefaultPos"},t.exports=i.simpleDrag}).call(e,i(5))},539:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=this,i=e.parent,r=Object.assign({},t),s=(Power0.easeNone,1),o=(0,a.default)(0,0,!1,{addArrow:!0,direction:"top"});function p(){e.isDragging||(e.head.addEventListener(TouchEvent.TOUCH_MOVE,d),e.removeChild(o),instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),e.head.addEventListener(TouchEvent.TOUCH_END,h),e.head.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,h))}function h(){if(e.head.removeEventListener(TouchEvent.TOUCH_MOVE,d),!(e.rotation<0||e.rotation>Math.PI)){var t=Math.abs(e.rotation/3.14*s);e.startR=e.rotation,e.power=e.startR/3.14,e.rotation+=2*Math.PI,TweenMax.to(e,t,{rotation:0+2*Math.PI,ease:Power2.easeIn,onComplete:function(){!function t(){if(e.startR<Math.PI/10)return console.log("角度太小不衰减"),void TweenMax.to(e,.1,{rotation:0+2*Math.PI,onComplete:function(){e.rotation=0}});TweenMax.to(e,.1,{rotation:0+2*Math.PI+.15*e.startR,onComplete:function(){e.startR=.15*e.startR,t()},onUpdate:function(){e.currentHit&&e.head.hitTest(e.currentHit)&&(e.currentHit.isHit=!0,e.emit(e.event.HIT,{targer:e.currentHit}))}})}(),e.emit(e.event.HIT_STOP,{power:e.power,index:e.reachIndex})}}),e.emit(e.event.SLIDE_STOP,{power:e.power})}}function d(t){var i=t.data.global,a=e.toGlobal(new PIXI.Point),n=(-Math.atan2(i.x-a.x,i.y-a.y)+1.5*Math.PI)%(2*Math.PI);n>=0&&n<=Math.PI&&(e.rotation=n)}o.emit(o.event.HIDEARR),n.default.apply(e,[e,{backDefaultPos:!r.notBack}]),e.hit&&(r.ifHItArea&&(e.hitArea=new PIXI.Polygon(e.hit.children[0].currentPath.shape.points)),e.hit.alpha=0),e.addChild(o),e.addEventListener(n.default.event.START_DRAG,function(t){i.addChild(e),e.goHit=!1,instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),e.head.interactive=!1,e.removeChild(o),e.head.removeAllListeners()}),e.addEventListener(n.default.event.REACH_TARGET,function(t){var i=t.substr(-1);e.head.interactive=!0,e.emit(e.event.HAMMER_REACH,{index:i}),e.reachIndex=i,e.head.addEventListener(TouchEvent.TOUCH_BEGIN,p)}),e.addEventListener(n.default.event.BACK_DEFAULT_POS,function(){e.emit(e.event.HAMMER_BACK),e.head.interactive=!1}),e.event={HIT:"hitObj",BAR_STOP:"barDragStop",SLIDE_STOP:"headDragStop",HIT_STOP:"headHitStop",HAMMER_REACH:"hammerReach",HAMMER_BACK:"hammerBacK",HIDEARR:"hideArrow",SHOWARR:"showArrow"},e.adsorb=function(a){e.goHit=!0,TweenMax.killTweensOf(e),TweenMax.killTweensOf(bar),TweenMax.to([e,bar],.5,{x:a.pos.x,y:a.pos.y,onComplete:function(){i.addChildAt(e,0),bar.interactive=!0,a.showPoint&&(t.tapPoint?(o.x=t.tapPoint.x,o.y=t.tapPoint.y):(o.x=-180,o.y=10),e.tap=o,e.addChild(o),o.emit(o.event.SHOWARR))},onStart:function(){bar.interactive=!1}})},e.addEventListener(e.event.HIDEARR,function(){o.emit(o.event.HIDEARR)}),e.addEventListener(e.event.SHOWARR,function(t){o&&(e.addChild(o),o.position=t),o.emit(o.event.SHOWARR)})};var a=r(i(169)),n=r(i(526));function r(t){return t&&t.__esModule?t:{default:t}}}});