webpackJsonp([77],{169:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,a){for(var i=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,o=n||!1,s=a||{addArrow:!1,type:"horizontal",scale:1},d=new PIXI.Container,c=0;c<3;++c){var g=c+1,h=PIXI.Sprite.fromFrame("TAP_1"+g);h.x=-h.width/2,h.y=-h.height/2;var l=new PIXI.Container;l.addChild(h),d.addChild(l)}var p=0;if(s.direction)switch(s.direction){case"top":p=-Math.PI/2;break;case"bottom":p=Math.PI/2;break;case"left":p=Math.PI;break;case"right":p=0;break;default:p=0}d.filters=[r];for(var u=0;u<d.children.length;u++){var f=d.children[u];f.scale.x=f.scale.y=2,u<2&&T(f,.75*u)}if(i.addChild(d),s.addArrow){var v,y;if(s.direction){v=PIXI.Sprite.fromFrame("oneArrow"),y=new PIXI.extras.MovieClip([v]);var x=s.scale?s.scale:1;y.scale.x=y.scale.y=x,y.pivot={x:0,y:y.height/2},y.rotation=p}else{v=PIXI.Sprite.fromFrame("NBarrow"),(y=new PIXI.extras.MovieClip([v])).pivot={x:y.width/2,y:y.height/2};var m=s.scale?s.scale:1;y.scale.x=y.scale.y=m,"horizontal"!==(s.type?s.type:"horizontal")&&(y.rotation=Math.PI/2)}i.addChild(y),i.arrow=y,i.addEventListener("hideArrow",function(){y.alpha=0,y.visible=!1}),i.addEventListener("showArrow",function(){y.alpha=1,y.visible=!0})}d.alpha=.4;var _=new PIXI.Graphics;function T(t,e){TweenMax.to(t,1.5,{delay:e,alpha:0,repeat:-1}),TweenMax.to(t.scale,1.5,{x:5,y:5,delay:e,repeat:-1})}return _.beginFill(16776960,0),_.drawRect(-50,-50,100,100),i.addChild(_),i.addEventListener(MouseEvent.MOUSE_OVER,function(){d.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){d.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!o&&i.parent&&i.parent.removeChild(i)}),i.x=t,i.y=e,i.setColor=function(t){var e=t>>16,n=t>>8&255,a=255&t;r._loadMatrix([e,0,0,0,0,0,n,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),d.filters=[r]},i.setRotation=function(t){i.rotation=t},i.showAllDir=function(){if(s.direction)for(var t=0;t<3;t++){var e=new PIXI.Container;e.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(e),e.pivot={x:0,y:y.height/2},e.rotation=Math.PI/2*(t+1)}else{var n=new PIXI.Container;n.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(n),n.pivot={x:y.width/2,y:y.height/2},n.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},250:function(t,e,n){"use strict";var a=r(n(169)),i=r(n(521));function r(t){return t&&t.__esModule?t:{default:t}}nb.substance0072=extendsClass(ScienceMain,{frame0:function(){var t=this,e=instance.const.aNumArr,n=instance.const.yNumArr,i=instance.const.yBarArr,r=["小","中","大"],o=t.spring_hook,s=t.spring_red_dot;t.spring_red_dot.y=instance.const.redDotStartY,t.spring_bar.y=t.spring_red_dot.y+t.spring_bar.height/2,t.spring_hook.y=t.spring_bar.y+t.spring_bar.height/2+t.spring_hook.height/2,o.interactive=!0,T(),t.spring_top.addEventListener(TouchEvent.TAP,T);for(var d=0;d<3;d++){var c=t["a"+d],g=t["b"+d],h=t["c"+d],l=t["d"+d];c.scale.x=c.scale.y=1.5,c.alpha=g.alpha=h.alpha=l.alpha=0;var p=t["foam"+d];NBDrag.addDrag(p),p.startX=p.x,p.startY=p.y,p.index=d,p.aNum=e[d],p.yNum=n[d],p.yBarNum=i[d],p.addEventListener(NBDrag.event.START_DRAG,f),p.addEventListener(NBDrag.event.STOP_DRAG,v),p.addEventListener(NBDrag.event.DRAG_MOVE,u),p.nNum=instance.const.aNumArr[d]}function u(){this.Point&&this.removeChild(this.Point)}function f(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),x(this)&&function(e){var n=e,a={x1:n.yNum,y1:n.nNum,x2:instance.const.redDotStartY,y2:0},i=instance.fun.getLine(a).k,r=instance.fun.getLine(a).b;s.y!=instance.const.redDotStartY&&TweenMax.to(s,1,{y:instance.const.redDotStartY,ease:Sine.easeInOut,onUpdate:function(){t.spring_bar.y=t.spring_red_dot.y+t.spring_bar.height/2,t.spring_hook.y=t.spring_bar.y+t.spring_bar.height/2+t.spring_hook.height/2,t.spring_top.num.text=(s.y*i+r).toFixed(2)+"N"}})}(this)}function v(){this.hitTest(o)?x(this)?(this.isHit=!0,function(e){e.interactive=!1;var n={x1:instance.const.redDotStartY,y1:0,x2:e.yNum,y2:e.aNum},a=instance.fun.getLine(n).k,i=instance.fun.getLine(n).b;TweenMax.to(e,.1,{x:o.x,y:o.y+o.height/2+e.height/2,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(s,1,{y:e.yNum,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(s,.8,{y:e.yNum-20,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(s,.8,{y:e.yNum,ease:Sine.easeInOut,onUpdate:function(){_(e),t.spring_top.num.text=(s.y*a+i).toFixed(2)+"N"},onComplete:function(){e.interactive=!0,instance.fun.showTxt(t["a"+e.index]);for(var n=0,a=0;a<3;a++)t["foam"+a].isHit&&n++;3===n&&(instance.NBStepsShow(!0,1),t.complete=!0,y())}})},onUpdate:function(){_(e),t.spring_top.num.text=(s.y*a+i).toFixed(2)+"N"}})},onUpdate:function(){_(e),t.spring_top.num.text=(s.y*a+i).toFixed(2)+"N"}})}})}(this)):(m(this,!1),t.complete?instance.NBDownTipsError.showTip("步骤一已完成"):instance.NBDownTipsError.showTip("请先将弹簧测力计上的"+instance.const.name+"取下来")):(y(),x(this)?m(this):m(this,!1))}function y(){t.complete&&instance.NBDownTipsError.showTip("步骤一已完成")}function x(e){for(var n=0,a=0;a<3;a++){var i=t["foam"+a];i.name!==e.name&&i.x==i.startX&&i.y==i.startY&&n++}return 2===n}function m(t,e){TweenMax.to(t,.5,{x:t.startX,y:t.startY,ease:Sine.easeInOut,onComplete:function(){!1!==e&&T()}})}function _(e){e.y=o.y+o.height/2+e.height/2,t.spring_bar.y=t.spring_red_dot.y+t.spring_bar.height/2,t.spring_hook.y=t.spring_bar.y+t.spring_bar.height/2+t.spring_hook.height/2}function T(){for(var e=0;e<3;e++){var n=t["foam"+e];if(!n.isHit){var i="测量"+r[e]+instance.const.name+"并观察数据";if(instance.NBDownTip.showTip(i),n.Point)n.addChild(n.Point);else{var o=(0,a.default)(0,0);n.addChild(o),n.Point=o}break}}}},frame1:function(){var t=this;i.default.apply(t),this.timeline.NOTafterStopPlay=!0,t.timeline.addEventListener("nodeTap",function(e){for(var n=0,a=0;a<3;a++)t["step"+a].spring_top.isMoved&&n++;0!==n&&t["step"+e.index].spring_top.removeChild(t["step"+e.index].spring_top.Point)});var e=[1068,1054,1040],n=[.15,"0.20",.25],r=[70,75,80];t.leftLineTarget=85,t.leftLineStatic=108;var o=[1122,1113,1110],s=[270,260,245],d=[445,445,463],c=[120,133,150];t.wlStaticY=1093;for(var g=0;g<3;g++){var h=t["a"+g],l=t["b"+g],p=t["c"+g],u=t["d"+g];h.alpha=1,h.scale.x=h.scale.y=l.scale.x=l.scale.y=p.scale.x=p.scale.y=u.scale.x=u.scale.y=1.5;var f=t["step"+g];l.alpha=p.alpha=u.alpha=0,f.waterBreak.setCurrentCapacity("60%"),f.waterLine.y=1092;var v=f.spring_top;NBDrag.addDrag(v),v.addEventListener(NBDrag.event.DRAG_MOVE,x),v.y=310.35,v.startY=310.35,f.spring_red_dot.y=394,f.spring_hook.y=715,f.foam.y=1096,f.foam.startY=1096,f.rightLine.height=465,f.foamTargetY=o[g],f.mlNum=r[g];var y=(0,a.default)(0,0,!0);f.spring_top.addChild(y),f.spring_top.Point=y,f.Nnum=n[g],f.wlTargetY=e[g],f.spring_top.targetY=s[g],f.dis_HOOK_TOP=d[g],f.dis_DOT_TOP=c[g],f.setChildIndex(f.waterBreak,f.children.length-1),f.setChildIndex(f.waterLine,f.children.length-1)}function x(e){e.target.isMoved=!0,e.target.removeChild(e.target.Point);var n=e.target.parent.name.substr(-1,1),a=e.target;a.x=575.05,a.y<=a.targetY?(console.log(1111111),function(e){var n=e.parent.name.substr(-1,1);instance.fun.showTxt(t["b"+n]),setTimeout(function(){instance.fun.showTxt(t["c"+n])},1e3),setTimeout(function(){instance.fun.showTxt(t["d"+n])},2e3)}(a),function(t){var e=t.spring_top,n=t.spring_hook,a=t.spring_red_dot,i=t.leftLine,r=t.rightLine,o=t.spring_bar,s=t.foam;if(e.y<e.targetY-58)e.y=e.targetY-58,t.foam.y=1174;else{a.y=e.y+t.dis_DOT_TOP,t.txt.text=t.Nnum+"N",t.txt1.text=t.mlNum+"mL",t.waterBreak.setCurrentCapacity(t.mlNum+"%"),t.waterLine.y=t.wlTargetY,a.y=e.y+t.dis_DOT_TOP,n.y=e.y+t.dis_HOOK_TOP;var d={x1:e.targetY,y1:1120,x2:e.targetY-58,y2:1175},c=instance.fun.getLine(d);s.y=e.y*c.k+instance.fun.getLine(d).b,o.y=n.y-160;var g={x1:e.targetY,y1:465,x2:e.targetY-58,y2:521},h=instance.fun.getLine(g);r.height=e.y*h.k+h.b;var l={x1:e.targetY,y1:85,x2:e.targetY-58,y2:50},p=instance.fun.getLine(l);i.height=e.y*p.k+p.b,console.log("isHer")}}(t["step"+n])):a.y>=a.targetY&&a.y<310.35?function(e){console.log(111);var n={x1:e.spring_top.startY,y1:e.foam.startY,x2:e.spring_top.targetY,y2:e.foamTargetY},a=instance.fun.getLine(n);e.foam.y=e.spring_top.y*a.k+a.b;var i={x1:e.spring_top.startY,y1:t.leftLineStatic,x2:e.spring_top.targetY,y2:t.leftLineTarget},r=instance.fun.getLine(i);e.leftLine.height=e.spring_top.y*r.k+r.b;var o={x1:e.spring_top.startY,y1:60,x2:e.spring_top.targetY,y2:e.mlNum},s=instance.fun.getLine(o),d=Math.round(e.spring_top.y*s.k+s.b);e.txt1.text=d+"mL",e.waterBreak.setCurrentCapacity(d+"%");var c={x1:e.spring_top.startY,y1:0,x2:e.spring_top.targetY,y2:e.Nnum},g=instance.fun.getLine(c),h=(e.spring_top.y*g.k+g.b).toFixed(2);h<0&&(h="0.00");e.txt.text=h+"N";var l={x1:e.spring_top.startY,y1:t.wlStaticY,x2:e.spring_top.targetY,y2:e.wlTargetY},p=instance.fun.getLine(l);e.waterLine.y=e.spring_top.y*p.k+p.b,e.txt1.y=e.waterLine.y-88}(t["step"+n]):a.y>=310.35&&function(t){t.spring_top.y=310.35,t.txt1.text="60mL",t.waterBreak.setCurrentCapacity("60%"),t.waterLine.y=instance.const.lineStartY,t.txt.text="0.00N",t.spring_red_dot.y=394,t.foam.y=1096,t.leftLine.height=108}(t["step"+n])}},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0"),this.bindScriptToSprite(this.frame1,"frame1")},info:{experimentImport:"当把泡沫塑料块压入水中时，它受到的浮力有变化吗？是多大呢？我们能用弹簧测力计测出来吗？",labName:"测量塑料块浮力",title0:"测量泡沫塑料块的质量",title1:"测量泡沫塑料块的浮力",CONCLUSION:"大小不同的泡沫塑料块，完全浸入水中，它们收到的浮力不同，浮力大小与物体排开水的体积有关。"},const:{name:"塑料泡沫块",redDotStartY:505,barStartY:664.65,aNumArr:[.1,.15,.2],yNumArr:[532,544.5,557],yBarArr:[695,709.5,724],lineStartY:1093},event:{},fun:{showTxt:function(t){0===t.alpha&&(t.alpha=1,TweenMax.to(t.scale,.5,{x:4,y:4,onComplete:function(){TweenMax.to(t.scale,.5,{x:1.5,y:1.5})}}))},getLine:function(t){var e=t.x1,n=t.y1,a=t.x2,i=t.y2,r=(n-i)/(e-a);return{k:r,b:i-r*a}}}}),t.exports=nb.substance0072},520:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var t,e,n=this;if(n.bgMask){var i=n.bgMask.getChildAt(0);n.progressBar.mask=i,i.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,s=[];n.drag.lastPos={x:n.drag.x,y:n.drag.y};for(var d=0;d<int.MAX_VALUE;d++){var c=this["a"+d];if(void 0===c){e="vertical"===r?this["a"+(d-1)].y:this["a"+(d-1)].x,o=d;break}s.push(c),0===d&&(t="vertical"===r?c.y:c.x),c.addEventListener(TouchEvent.TAP,function(){var t=this;"vertical"===r?TweenMax.to(n.drag,.5,{y:this.y}):TweenMax.to(n.drag,.5,{x:this.x,onComplete:function(){n.emit(a.event.CLICK_NODE_REACHED,{index:t.name.substr(1,1)})}}),this.totalFrames&&(s.forEach(function(t){return t.currentFrame=0}),this.currentFrame=1),n.drag.lastPos={x:this.x,y:this.y},n.emit(a.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(i){i?(NBDrag.addDrag(n.drag),n.drag.on(NBDrag.event.START_DRAG,function(){var i=(n.drag.x-t)/(e-t);n.emit(a.event.START_DRAG,{time:i})}),n.drag.on(NBDrag.event.DRAG_MOVE,function(){var i=(n.drag.x-t)/(e-t);n.emit(a.event.DRAGING,{time:i})}),n.drag.on(NBDrag.event.STOP_DRAG,function(){var i=(n.drag.x-t)/(e-t);n.emit(a.event.STOP_DRAG,{time:i}),i>=1&&n.emit(a.event.ON_COMPLETE,{time:i})})):NBDrag.removeDrag(n.drag)},n.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==n._align_){var a=o-1;if("vertical"===r){var i=Math.round((this.y-t)/(e-t)*a);i<0&&(i=0)}else{var s=Math.round((this.x-t)/(e-t)*a);s<0&&(s=0)}}}),n.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){l()});var g=!1;n.drag.constY=n.drag.y;var h,l=function(){n.drag.y=n.drag.constY,n.drag.x>=e&&(n.drag.x=e),n.drag.x<=t&&(n.drag.x=t);var i=(n.drag.x-t)/(e-t);if(i<1){g=!1,n.emit(a.event.ON_PLAY,{time:i});for(var r=0;r<s.length;r++)n.drag.lastPos.x<=s[r].x&&n.drag.x>s[r].x&&n.emit(a.event.REACHED_NODE,{index:r})}else g||(g=!0,n.emit(a.event.ON_COMPLETE,{time:i}));(n.drag.line0&&(n.drag.line0.rotation=1800*i*Math.PI/180,n.drag.line1.rotation=360*i*Math.PI/180),n.bgMask)&&(n.bgMask.getChildAt(0).scale.x=i);n.drag.lastPos={x:n.drag.x,y:n.drag.y}};this.getNodeCount=function(){return o},this.setNodePos=function(t){var e=this["a"+t];"vertical"===r?n.drag.y=e.y:n.drag.x=e.x},nb.MovieClip.ticker.add(function(){n._auto_&&!n.drag.isDragging&&("vertical"===r?n.drag.y+=n._speed_:n.drag.x+=n._speed_,l())}),this.setAutoPlay=function(t,e){this._auto_=t,this._speed_=e||.1},this.setAutoAlign=function(t){this._align_=t},this.setMomentsPause=function(t,e,a){clearTimeout(h),t&&!n.NOTafterStopPlay?(n.setAutoPlay(!1),clearTimeout(h),n.setAutoPlay(!1),h=setTimeout(function(){n.setAutoPlay(!0,a)},e)):n.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,n.bgMask)&&(n.bgMask.getChildAt(0).scale.x=0)}}};e.default=a},521:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t=t||{};var e=this,n=[];a.default.init.apply(this.timeline);for(var i=0;i<this.timeline.getNodeCount();i++){var r=this["step"+i];n.push(r),r.alpha=0,r.visible=!1}var o=this.step0;o.visible=!0,o.alpha=1;var s=0;this.timeline.on(a.default.event.CLICK_NODE,function(a){if(void 0!==a.index&&a.index!=s){var i=t.offset||1200;i=a.index>s?$s(i):-$s(i);var r=void 0!==o.currentX?o.currentX:o.currentX=o.x;TweenMax.to(o,t.oldTm||.6,{x:r+i,alpha:0,onComplete:function(e){e.visible=!1,t.isFix||(e.y=0)},onCompleteParams:[o],ease:Expo.easeOut}),s=a.index,(o=n[s]).visible=!0,r=void 0!==o.currentX?o.currentX:o.currentX=o.x,o.x=r-i,TweenMax.to(o,t.newTm||1,{x:r,alpha:1,ease:Expo.easeOut,onComplete:function(){e.emit(e.boxSwitch_event.CHANGE_COM,{target:o,index:a.index})}})}}),this.addEventListener("render",function(){o.onUpdate&&o.onUpdate()}),e.boxSwitch_event={CHANGE_COM:"changeCom"}};var a=function(t){return t&&t.__esModule?t:{default:t}}(n(520))}});