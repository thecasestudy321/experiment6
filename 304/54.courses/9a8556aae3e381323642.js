webpackJsonp([54,222],{169:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,a){for(var n=new PIXI.Container,s=new PIXI.filters.ColorMatrixFilter,o=i||!1,r=a||{addArrow:!1,type:"horizontal",scale:1},p=new PIXI.Container,h=0;h<3;++h){var c=h+1,l=PIXI.Sprite.fromFrame("TAP_1"+c);l.x=-l.width/2,l.y=-l.height/2;var d=new PIXI.Container;d.addChild(l),p.addChild(d)}var u=0;if(r.direction)switch(r.direction){case"top":u=-Math.PI/2;break;case"bottom":u=Math.PI/2;break;case"left":u=Math.PI;break;case"right":u=0;break;default:u=0}p.filters=[s];for(var T=0;T<p.children.length;T++){var m=p.children[T];m.scale.x=m.scale.y=2,T<2&&D(m,.75*T)}if(n.addChild(p),r.addArrow){var f,v;if(r.direction){f=PIXI.Sprite.fromFrame("oneArrow"),v=new PIXI.extras.MovieClip([f]);var w=r.scale?r.scale:1;v.scale.x=v.scale.y=w,v.pivot={x:0,y:v.height/2},v.rotation=u}else{f=PIXI.Sprite.fromFrame("NBarrow"),(v=new PIXI.extras.MovieClip([f])).pivot={x:v.width/2,y:v.height/2};var g=r.scale?r.scale:1;v.scale.x=v.scale.y=g,"horizontal"!==(r.type?r.type:"horizontal")&&(v.rotation=Math.PI/2)}n.addChild(v),n.arrow=v,n.addEventListener("hideArrow",function(){v.alpha=0,v.visible=!1}),n.addEventListener("showArrow",function(){v.alpha=1,v.visible=!0})}p.alpha=.4;var x=new PIXI.Graphics;function D(t,e){TweenMax.to(t,1.5,{delay:e,alpha:0,repeat:-1}),TweenMax.to(t.scale,1.5,{x:5,y:5,delay:e,repeat:-1})}return x.beginFill(16776960,0),x.drawRect(-50,-50,100,100),n.addChild(x),n.addEventListener(MouseEvent.MOUSE_OVER,function(){p.alpha=.6}),n.addEventListener(MouseEvent.MOUSE_OUT,function(){p.alpha=.4}),n.addEventListener(TouchEvent.TOUCH_BEGIN,function(){n.emit(n.event.TAP),!o&&n.parent&&n.parent.removeChild(n)}),n.x=t,n.y=e,n.setColor=function(t){var e=t>>16,i=t>>8&255,a=255&t;s._loadMatrix([e,0,0,0,0,0,i,0,0,0,0,0,a,0,0,0,0,0,255,0],!1),p.filters=[s]},n.setRotation=function(t){n.rotation=t},n.showAllDir=function(){if(r.direction)for(var t=0;t<3;t++){var e=new PIXI.Container;e.addChild(PIXI.Sprite.fromFrame("oneArrow")),n.addChild(e),e.pivot={x:0,y:v.height/2},e.rotation=Math.PI/2*(t+1)}else{var i=new PIXI.Container;i.addChild(PIXI.Sprite.fromFrame("NBarrow")),n.addChild(i),i.pivot={x:v.width/2,y:v.height/2},i.rotation=n.rotation+Math.PI/2}},n.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&n.scale.set(.6,.6),n}},240:function(t,e,i){"use strict";var a=function(t){return t&&t.__esModule?t:{default:t}}(i(169));nb.substance0010=extendsClass(ScienceMain,{frame0:function(){var t=this,e=instance.addParticle(t.spoon1.ani),i=instance.addParticle(t.spoon2.ani);e.visible=i.visible=!1,this.count=0,nb.spiritFunc.apply(this.spiritLamp,[{fire:ParticleUtil.particles.match_fire}]),this.spiritLamp.hideCover(!0),nb.matches.apply(this.matches),NBDrag.addDrag(this.spoon1),NBDrag.addDrag(this.spoon2),this.spoon1.tempMc.visible=this.spoon2.tempMc.visible=!1,nb.capacityContainer.apply(this.spoon1.ani),nb.capacityContainer.apply(this.spoon2.ani);var n=instance.getNBLib("0010");n.spoonFunc.apply(this.spoon1),n.spoonFunc.apply(this.spoon2),this.spoon1.ani.max_capacity=this.spoon1.ani.totalFrames,this.spoon2.ani.max_capacity=this.spoon2.ani.totalFrames,this.spoon1.ani.capacity=14,this.spoon2.ani.capacity=14;this.spoon1.temp=28,this.spoon2.temp=28;var s=(0,a.default)(65,40);t.matches.addChild(s);var o=(0,a.default)(0,80,!0);function r(){if(!t.spiritLamp.render()){var e=(0,a.default)(65,40);t.matches.addChild(e),t.matches.matchesPoint=e,instance.NBDownTip.showTip("拖动火柴点燃蜡烛")}if(t.spiritLamp.render()){var i=p(t.spoon1),n=p(t.spoon2);i||n||t.isHit||(t.spiritLamp.Point||(t.spiritLamp.addChild(o),t.spiritLamp.Point=o),instance.NBDownTip.showTip("拖动蜡烛给实验组勺子加热"))}}function p(e){return!!t.spiritLamp.fireArea.hitTest(e.ani)&&(e.hit=!0,!0)}function h(){t.spiritLamp.render()?t.spiritLamp.render()&&(t.spiritLamp.fireArea.hitTest(t.spoon1.ani)||t.spiritLamp.fireArea.hitTest(t.spoon2.ani)||t.isHit?t.spiritLamp.fireArea.hitTest(t.spoon1.ani)&&(t.isHit=!0):(t.spiritLamp.addChild(o),instance.NBDownTip.showTip("拖动蜡烛给实验组勺子加热"))):instance.NBDownTip.showTip("拖动火柴点燃蜡烛")}function c(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip()}this.onUpdate=function(){if(this.spiritLamp.render()){this.spiritLamp.fireArea.hitTest(t.spoon2.ani)&&instance.NBDownTipsError.showTip("操作错误！请给实验组勺子加热"),this.spiritLamp.fireArea.hitTest(t.spoon1.ani)&&instance.NBDownTipsError.hideTip();for(var a=[this.spoon1,this.spoon2],n=0;n<a.length;n++){var s=a[n],r=this.spiritLamp.fireArea.getBounds(),p=s.ani.getBounds();NBPoint.distance({x:r.x+r.width/2,y:r.y+r.height},{x:p.x+p.width/2,y:p.y+p.height});if(56,this.spiritLamp.fireArea.hitTest(s.ani)&&0==s.ani.isFull()&&this.spiritLamp.y-s.y>$s(100)){t.isHit=!0,t.spiritLamp.Point&&t.spiritLamp.removeChild(o),TweenMax.killTweensOf(s.ani.particle),TweenMax.to(s.ani.particle,5,{alpha:.3}),s.ani.particle.visible=!0;var h=1-56/r.height,c=10-10*h;c=c<1?1:Math.round(c),s.temp>=65?(t.count%c==0&&(s.ani.capacity++,s.ani.capacity>=s.ani.max_capacity-1&&(t.onStepComplete(),TweenMax.to(s.ani.particle,1,{alpha:0,onComplete:function(){s.ani.removeChild(s.ani.particle)}}))),t.count++):s.temp+=1+h}else TweenMax.killTweensOf(s.ani.particle),TweenMax.to(s.ani.particle,5,{alpha:0});s.temp>28&&(s.temp-=1);var l=s.temp>=99?100:s.temp;s.setTemp(Math.round(10*l)/10)}}this.matches.render(),e.render(),i.render()},this.matches.addEventListener(TouchEvent.TOUCH_BEGIN,function(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.matches.matchesPoint&&(t.matches.removeChild(t.matches.matchesPoint),t.matches.matchesPoint=null)}),this.matches.addEventListener(TouchEvent.TOUCH_END,r),this.matches.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,r),this.spoon1.addEventListener(NBDrag.event.STOP_DRAG,h),this.spoon1.addEventListener(NBDrag.event.START_DRAG,c),this.spoon2.addEventListener(NBDrag.event.STOP_DRAG,h),this.spoon2.addEventListener(NBDrag.event.START_DRAG,c),this.spiritLamp.addEventListener(NBDrag.event.STOP_DRAG,h),this.spiritLamp.addEventListener(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),this.Point&&this.removeChild(o)})},frame1:function(){var t=this;this.count=0,nb.spiritFunc.apply(this.spiritLamp,[{fire:ParticleUtil.particles.match_fire}]),this.spiritLamp.hideCover(!0),nb.matches.apply(this.matches),NBDrag.addDrag(this.spoon1),NBDrag.addDrag(this.spoon2),this.spoon1.tempMc.visible=this.spoon2.tempMc.visible=!1,nb.capacityContainer.apply(this.spoon1.ani),nb.capacityContainer.apply(this.spoon2.ani);var e=instance.getNBLib("0010");e.spoonFunc.apply(this.spoon1),e.spoonFunc.apply(this.spoon2),this.spoon1.ani.max_capacity=this.spoon1.ani.totalFrames,this.spoon2.ani.max_capacity=this.spoon2.ani.totalFrames,this.spoon1.ani.capacity=14,this.spoon2.ani.capacity=14;this.spoon1.temp=28,this.spoon2.temp=28,this.onUpdate=function(){if(this.spiritLamp.render())for(var e=[this.spoon1,this.spoon2],i=0;i<e.length;i++){var a=e[i],n=this.spiritLamp.fireArea.getBounds(),s=a.ani.getBounds(),o=NBPoint.distance({x:n.x+n.width/2,y:n.y+n.height},{x:s.x+s.width/2,y:s.y+s.height});if(this.spiritLamp.fireArea.hitTest(a.ani)&&0==a.ani.isFull()&&this.spiritLamp.y-a.y>$s(100)){var r=1-o/n.height,p=10-10*r;p=p<1?1:Math.round(p),a.temp>=65?(t.count%p==0&&(a.ani.capacity++,a.ani.capacity>=a.ani.max_capacity-1&&t.onStepComplete()),t.count++):a.temp+=1+r}a.temp>28&&(a.temp-=1);var h=a.temp>=99?100:a.temp;a.setTemp(Math.round(10*h)/10)}this.matches.render()}},spoonFunc:function(){this.showTemp=function(){0==this.tempMc.visible&&(this.tempMc.visible=!0),this.tempMc.alpha<1&&(this.tempMc.alpha+=.05)},this.hideTemp=function(){this.tempMc.alpha>0?this.tempMc.alpha-=.05:this.tempMc.visible=!0},this.setTemp=function(t){this.tempMc.txt.text=t+"°"}},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.showExperimentImport(this.info.experimentImport),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"猜一猜水蒸发的速度和什么有关系？",labName:"加热能加快水蒸发",title0:"加热勺子观察现象",OPERATION_0:"将胶头滴管放入滴瓶点击吸水，在勺子上方点击胶头滴管滴入水滴。",OPERATION_1:"打开酒精灯瓶盖，点击任意空白地方召唤火柴接触酒精灯点燃。",CONCLUSION:"加热可以加快水的蒸发。"},const:{MATCH:"Match"},event:{},addParticle:function(t){var e=ParticleUtil.getParticle(ParticleUtil.particles.water_vapor);return t.addChild(e),t.particle=e,e.x=t.x+155,e.y=t.y-30,e.scale.x=1.4,e.scale.y=1.1,e.alpha=.3,e}}),nb.capacityContainer=function(){Object.defineProperty(this,"capacity",{get:function(){return this._capacity||0},set:function(t){t<=this.max_capacity&&t>=0&&(t<this.totalFrames&&this.gotoAndStop(t),this._capacity=t)}}),void 0==this.max_capacity&&(this.max_capacity=15),this.isFull=function(){return this.capacity==this.max_capacity},this.isEmpty=function(){return 0==this.capacity}},nb.spiritEvent={LIGHT_FILE:"lightFile",PUT_FILE:"putFile"},nb.spiritFunc=function(t){t=t||{};var e={x:this.corver.x,y:this.corver.y},i=this;NBDrag.addDrag(this.corver),NBDrag.addDrag(this),this.corver.on(NBDrag.event.START_DRAG,function(t){t.data.isPropagationStopped=!0,"spiritLamp"===this.parent.name&&this.parent.parent.addChildWithSamePos(this)}),this.corver.on(NBDrag.event.STOP_DRAG,function(){this.hitTest(i.body)&&(i.addChild(this),this.x=e.x,this.y=e.y,this.parent.putFire())}),this.lightFire=function(){this.corver.hitTest(this.body)&&!0===this.corver.visible||(null==this.fire&&(this.fire=ParticleUtil.getParticle(t.fire||ParticleUtil.particles.spirit_fire),void 0===t.fire&&(this.fire_blue=ParticleUtil.getParticle(ParticleUtil.particles.spirit_fire_blue),this.fire_blue.bind(this,$s(0),$s(10)),this.fire_blue.alpha=.2,this.fire_blue.visible=!0,this.parent.addChildAt(this.fire_blue,i.parent.getChildIndex(i)+1)),this.parent.addChildAt(this.fire,i.parent.getChildIndex(i)+1),this.fire.bind(this,$s(-10),$s(10)),this.fire.alpha=.6),this.fire.visible=!0,this.emit(nb.spiritEvent.LIGHT_FILE))},this.putFire=function(){this.fire&&(this.fire.visible=!1,this.fire.destroy(),this.fire=null,this.emit(nb.spiritEvent.PUT_FILE)),this.fire_blue&&(this.fire_blue.visible=!0,this.fire_blue.destroy(),this.fire_blue=null)},this.render=function(){return!!this.isBurning()&&(this.fire&&this.fire.render(),this.fire_blue&&this.fire_blue.render(),!0)},this.isBurning=function(){return this.fire&&this.fire.visible},this.hideCover=function(t){this.cover.visible=!t},this.cover=this.corver},nb.matches=function(){SoundManager.register({src:"courses/substance0010/res/match.mp3",id:"0010/match"});var t=this,e=this.parent.match;e.visible=!1,NBDrag.addDrag(e);var i=null;function a(){e.visible=!1,t.putFire()}this.addEventListener(TouchEvent.TOUCH_BEGIN,function(t){var a=this.getBounds();e.visible=!0,e.alpha=1,e.x=this.x-(a.x-t.data.global.x)-$s(100),e.y=this.y-(a.y-t.data.global.y)-$s(40),null==i&&((i=ParticleUtil.getParticle(ParticleUtil.particles.match_fire)).alpha=.4,this.stepRoot.addChild(i),i.bind(e,0,$s(50))),i.visible=!0,TouchEvent.simulateTouchDown(e,t),e.sound=SoundManager.play("0010/match")}),this.addEventListener(TouchEvent.TOUCH_END_OUDSIDE,function(){a()}),e.addEventListener(NBDrag.event.STOP_DRAG,function(){a()}),this.render=function(){1==e.visible&&i&&i.render()},e.addEventListener(TouchEvent.TOUCH_MOVE,function(){this.parent&&this.parent.spiritLamp&&this.fireArea.hitTest(this.parent.spiritLamp.head)&&this.parent.spiritLamp.lightFire()}),this.putFire=function(){null!=i&&(i.visible=!1,i.destroy(),i=null),e.sound&&(e.sound.stop(),e.sound=null)},this.hideMatch=a,this.isBurning=function(){return null!=i}},nb.buretteEvent={BURETTE_POP:"burettePop",BURETTE_TAP:"buretteTap"},nb.buretteInfo={EMPTY:"请先在滴管中吸入液体"},nb.burette=function(){var t=!0,e=this;this.dropColor=16777215,this.MAX_BOTTLE_CAPACITY=1e3,this.MAX_BURETTE_CAPACITY=15,this.bottle.topValue=this.bottle.water_top.y,this.bottle.bottomValue=this.bottle.water_bottom.y,this.bottle.max_capacity=this.MAX_BOTTLE_CAPACITY,this.burette.movie.max_capacity=this.MAX_BURETTE_CAPACITY,this.isCorver=function(){return this.burette.movie.hitTest(this.head)};var i={x:this.burette.x,y:this.burette.y},a=this;NBDrag.addDrag(this.burette),NBDrag.addDrag(this),nb.capacityContainer.apply(this.burette.movie),this.burette.movie.isFull=this.bottle.isFull=function(){return this.capacity==this.max_capacity},this.burette.movie.isEmpty=this.bottle.isEmpty=function(){return 0==this.capacity},Object.defineProperty(this.bottle,"capacity",{get:function(){return this._capacity||0},set:function(t){var e=-(this.topValue-this.bottomValue);this._capacity=t;var i=t/a.MAX_BOTTLE_CAPACITY;this.water_middle.height=e*i,this.water_top.y=this.bottomValue-e*i}}),this.setEnabled=function(e){t=e,!1===e&&TweenMax.killTweensOf(this.burette)},this.getEnabled=function(){return t},this.bottle.capacity=this.MAX_BOTTLE_CAPACITY;var n=this.parent;this.burette.on(NBDrag.event.START_DRAG,function(t){t.data.isPropagationStopped=!0,TweenMax.killTweensOf(this),n.addChildWithSamePos(this)}),this.burette.on(NBDrag.event.STOP_DRAG,function(){a.isCorver()&&(this.x=i.x,this.y=i.y,e.addChildAt(this,0))}),NBGesture.addGesture(this.burette,NBGesture.gesture.TAP,function(){if(e.emit(nb.buretteEvent.BURETTE_TAP),!1!==t){var i=a.burette.movie.capacity;!1!==a.isCorver()||!0!==a.burette.movie.isEmpty()?TweenMax.to(this,1.5,{onUpdate:function(){if(a.isCorver())0==a.burette.movie.isFull()&&0==a.bottle.isEmpty()&&this.progress()>(a.burette.movie.capacity-i)/(a.burette.movie.max_capacity-i)&&(a.burette.movie.capacity++,a.bottle.capacity--);else if(0==a.burette.movie.isEmpty()&&1-this.progress()<a.burette.movie.capacity/i){a.burette.movie.capacity--;var t=new PIXI.Graphics;t.beginFill(e.dropColor,.3),t.drawEllipse(0,0,$s(6),$s(12)),a.stepRoot.addChild(t);var n=a.stepRoot.toLocal({x:a.burette.width/2,y:a.burette.height},a.burette);t.x=n.x,t.y=n.y,t.destory=function(){this.parent&&(TweenMax.killTweensOf(this),this.parent.removeChild(this))},TweenMax.to(t,1,{y:t.y+$s(800),alpha:0,onComplete:function(t){t.destory()},onCompleteParams:[t]}),a.emit(nb.buretteEvent.BURETTE_POP,{target:a.burette,drop:t})}}}):instance.NBDownTipsError.showTip(nb.buretteInfo.EMPTY)}})},t.exports=nb.substance0010},399:function(t,e,i){"use strict";i(575),nb.substance0572=extendsClass(ScienceMain,{frame0:function(){instance.getNBLib("0143").frame0.apply(this)},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"小苏打和白醋是厨房中常见的物质。小苏打是固体粉末，白醋是液体。如果把小苏打和白醋进行混合，会发生什么变化呢？",labName:"小苏打和白醋混合",title0:"把小苏打和白醋在玻璃杯中混合",CONCLUSION:"小苏打和白醋混合后，产生大量气泡。"},const:{FUTFIRE_TIME:1500,SPEED:.5,SPEED1:.5}}),t.exports=nb.substance0572},575:function(t,e,i){"use strict";var a=function(t){return t&&t.__esModule?t:{default:t}}(i(169));i(240),nb.substance0143=extendsClass(ScienceMain,{frame0:function(){var t=this,e=0;NBDrag.addDrag(t.glass),NBDrag.addDrag(t.cup0),NBDrag.addDrag(t.spoon);var i=t.glass.x,n=t.glass.y,s=!1,o=!1,r=!1,p=!1,h=(0,a.default)(0,-t.spoon.height),c=(0,a.default)(t.spoon.height/4,t.spoon.height/2),l=(0,a.default)(0,-10);t.spoon.addChild(h),instance.NBDownTip.showTip("舀一勺小苏打"),t.boligai&&t.boligai.alpha,t.cup0.addEventListener(NBDrag.event.STOP_DRAG,function(){if(t.cup0.hitTest(t.ref)){e+=1,NBDrag.removeDrag(t.cup0);var i=new TimelineMax;i.append(TweenMax.to(t.cup0,.5,{x:t.cup2.x+$s(175),y:t.cup2.y-$s(350)})),i.append(TweenMax.to(t.cup0,.5,{rotation:-70*Math.PI/180,onComplete:function(){TweenMax.to(t.cupCopy,.4,{alpha:0}),1==e?TweenMax.to(t.cup2.ani1,instance.const.SPEED,{currentFrame:9,onComplete:function(){i.append(TweenMax.to(t.cup0,.5,{alpha:0,onComplete:function(){p=!0,s?instance.NBDownTip.showTip("将小苏打放入烧杯中"):instance.NBDownTip.showTip("舀一勺小苏打")}}))}}):TweenMax.to(t.cup2.ani2,1,{currentFrame:16,onComplete:function(){TweenMax.to(t.cup2.ani2,instance.const.SPEED,{currentFrame:t.cup2.ani2.totalFrames-1,onComplete:function(){t.cup2.ani2.repeat.play(),t.cup2.ani2.repeat.animationSpeed=.2,i.append(TweenMax.to(t.cup0,.5,{rotation:0*Math.PI/180})),i.append(TweenMax.to(t.cup0,.5,{alpha:0,onComplete:function(){p=!0,TweenMax.to([t.glass,t.boligai],.4,{alpha:1}),instance.NBDownTip.showTip("将玻璃片盖在烧杯上"),t.glass.addChild(l)}}))}})}})}})),o=!0}else TweenMax.to(t.cupCopy,.4,{alpha:0}),s?(t.spoon.addChild(h),instance.NBDownTip.showTip("将白醋倒入烧杯"),0===t.spoon.alpha&&t.cup0.addChild(c)):(t.spoon.addChild(h),instance.NBDownTip.showTip("舀一勺小苏打"))}),t.cup0.on(NBDrag.event.DRAG_MOVE,function(){TweenMax.to(t.cupCopy,.4,{alpha:.5})}),t.spoon.addEventListener(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.spoon.removeChild(h),1==r&&instance.NBDownTipsError.showTip(instance.info.OPERATION_5),u(t.shaozi,0)}),t.cup0.addEventListener(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),1==p&&instance.NBDownTipsError.showTip(instance.info.OPERATION_6),u(t.baicu,0)});var d=!1;function u(t,e){t&&TweenMax.to(t,.4,{alpha:e})}t.spoon.addEventListener(NBDrag.event.STOP_DRAG,function(){if(t.spoon.hitTest(t.ref)&&1==s){e+=1,NBDrag.removeDrag(t.spoon);var i=new TimelineMax;i.append(TweenMax.to(t.spoon,.5,{x:t.cup2.x+$s(60),y:t.cup2.y-$s(400)})),i.append(TweenMax.to(t.spoon,.5,{rotation:-30/180*Math.PI,onComplete:function(){r=!0,1==e?TweenMax.to(t.cup2.ani2,instance.const.SPEED,{currentFrame:10}):TweenMax.to(t.cup2.ani1,instance.const.SPEED,{currentFrame:20,onComplete:function(){TweenMax.to(t.cup2.ani1,instance.const.SPEED,{currentFrame:t.cup2.ani1.totalFrames-1,onComplete:function(){t.cup2.ani1.repeat.play(),t.cup2.ani1.repeat.animationSpeed=.2}})}}),t.spoon.gotoAndStop(0)}})),i.append(TweenMax.to(t.spoon,.5,{rotation:0*Math.PI})),i.append(TweenMax.to(t.spoon,.5,{alpha:0,onComplete:function(){t.cup0.alpha?(t.cup0.addChild(c),instance.NBDownTip.showTip("将白醋倒入烧杯")):(TweenMax.to([t.glass,t.boligai],.4,{alpha:1}),instance.NBDownTip.showTip("将玻璃片盖在烧杯上"),t.glass.addChild(l))}}))}else s&&(t.spoon.addChild(h),instance.NBDownTip.showTip("将小苏打放入烧杯中"),t.cup1.alpha=0);if(t.spoon.hitTest(t.cup1.ref)||d||(t.spoon.addChild(h),instance.NBDownTip.showTip("舀一勺小苏打")),t.spoon.hitTest(t.cup1.ref)&&0==s){var a=new TimelineMax;NBDrag.removeDrag(t.spoon),a.append(TweenMax.to(t.spoon,.5,{x:t.cup1.x+$s(10),y:t.cup1.y-$s(250)})),a.append(TweenMax.to(t.spoon,.5,{currentFrame:3})),a.append(TweenMax.to(t.spoon,.5,{x:t.cup1.x+$s(10),y:t.cup1.y-$s(150)})),a.append(TweenMax.to(t.spoon,.5,{currentFrame:8})),a.append(TweenMax.to(t.spoon,.5,{x:t.cup1.x+$s(10),y:t.cup1.y-$s(250),onComplete:function(){s=!0,NBDrag.addDrag(t.spoon),t.spoon.addChild(h),instance.NBDownTip.showTip("将小苏打放入烧杯中"),TweenMax.to([t.cup1,t.suda],.4,{alpha:0}),d=!0}}))}}),t.cupCopy&&(t.cupCopy.alpha=0,TweenMax.to(t.cupCopy,.5,{x:t.cup2.x+$s(175),y:t.cup2.y-$s(350),rotation:-70*Math.PI/180})),t.glass.alpha=0,t.boligai.alpha=0,t.glass.addEventListener(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.glass.removeChild(l),u(t.boligai,0)}),t.glass.addEventListener(NBDrag.event.STOP_DRAG,function(){t.glass.hitTest(t.cup2)&&1==r&&1==o?(NBDrag.removeDrag(t.glass),TweenMax.to(t.glass,.5,{x:t.cup2.x+$s(5),y:t.cup2.y-$s(300),onComplete:function(){TweenMax.to([t.glass,t.cup2,t.shaobei],1,{x:"+=300"})}})):t.glass.hitTest(t.cup2)&&(instance.NBDownTipsError.showTip(instance.info.OPERATION_0),TweenMax.to(t.glass,.5,{x:i,y:n})),t.glass.hitTest(t.cup2)||(instance.NBDownTip.showTip("将玻璃片盖在烧杯上"),t.glass.addChild(l))})},frame1:function(){var t=this;NBDrag.addDrag(t.glass);var e=!1;t.spiritLamp.alpha=0,t.lazhu.alpha=0,instance.NBDownTip.showTip("取下玻璃片");var i=(0,a.default)(0,0);t.glass.addChild(i);var n=(0,a.default)(t.matches.width/2,t.matches.height/2);t.glass.on(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),t.glass.removeChild(i)}),t.glass.addEventListener(NBDrag.event.STOP_DRAG,function(){t.glass.hitTest(t.ref3)?(t.glass.addChild(i),instance.NBDownTip.showTip("取下玻璃片")):TweenMax.to(t.glass,.5,{alpha:0,onComplete:function(){e=!0,instance.NBDownTip.showTip("将火柴放入烧杯中观察现象"),t.matches.addChild(n)}})});var s=!0;t.match.addEventListener(NBDrag.event.DRAG_MOVE,function(){t.matches.removeChild(n),instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.match.hitTest(t.cup3)&&0==e&&instance.NBDownTipsError.showTip(instance.info.OPERATION_1),(t.match.ref.hitTest(t.cup3.ref0)||t.match.ref.hitTest(t.cup3.ref1)||t.match.ref.hitTest(t.cup3.ref2))&&1==e&&t.matches.isBurning()&&instance.NBDownTipsError.showTip(instance.info.OPERATION_4),t.match.ref.hitTest(t.ref)&&1==e&&(t.matches.putFire(),TweenMax.to([t.matches,t.huochai,t.match],.5,{alpha:0,delay:2,onComplete:function(){s&&p()}}))}),t.match.on(NBDrag.event.STOP_DRAG,function(){t.match.ref.hitTest(t.ref)&&1==e?TweenMax.to([t.matches,t.huochai,t.match],.5,{alpha:0,onComplete:function(){p()}}):1===t.glass.alpha?instance.NBDownTip.showTip("取下玻璃片"):(t.matches.addChild(n),instance.NBDownTip.showTip("将火柴放入烧杯中观察现象"))});var o=t.shaobei.x-t.cup3.x,r=t.shaobei.y-t.cup3.y;function p(){s=!1,TweenMax.to(t.spiritLamp.fire1,3,{currentFrame:24,yoyo:!0,repeat:-1,ease:Linear.easeNone}),TweenMax.to([t.spiritLamp,t.lazhu],.4,{alpha:1,onComplete:function(){t.emit("IsComplete")}})}this.onUpdate=function(){t.matches.render(),t.shaobei.x=o+t.cup3.x,t.shaobei.y=r+t.cup3.y},this.addChild(this.cup3)},frame2:function(){var t=this;NBDrag.addDrag(t.glass),NBDrag.addDrag(t.bottle);var e=t.bottle.x,i=t.bottle.y,n=t.glass.x,s=t.glass.y,o=!1;instance.NBDownTip.showTip("倒入白醋验证烧杯中的白色颗粒");var r=(0,a.default)(t.bottle.width/4,t.bottle.height/3);t.bottle.addChild(r);var p=t.bottle.clone();t.bottle.name=p.name,p.alpha=0;var h=(0,a.default)(0,-t.glass.height/2);TweenMax.to(p,.1,{x:t.cup.x+$s(175),y:t.cup.y-$s(350),rotation:-70*Math.PI/180}),t.bottle.addEventListener(NBDrag.event.STOP_DRAG,function(){if(t.bottle.hitTest(t.ref)){NBDrag.removeDrag(t.bottle);var a=new TimelineMax;a.append(TweenMax.to(t.bottle,.5,{x:t.cup.x+$s(175),y:t.cup.y-$s(350)})),a.append(TweenMax.to(t.bottle,.5,{rotation:-70*Math.PI/180,onComplete:function(){TweenMax.to(p,.1,{alpha:0}),TweenMax.to(t.cup,1,{currentFrame:t.cup.totalFrames-1,onComplete:function(){t.cup.repeat.play(),t.cup.repeat.animationSpeed=.2,TweenMax.to([t.glass,t.bolipian],.4,{alpha:1}),instance.NBDownTip.showTip("将玻璃片盖在烧杯上"),t.glass.addChild(h)}})}})),a.append(TweenMax.to(t.bottle,.5,{rotation:0*Math.PI/180})),a.append(TweenMax.to(t.bottle,.5,{x:e,y:i,alpha:0})),o=!0}else TweenMax.to(p,.4,{alpha:0}),instance.NBDownTip.showTip("倒入白醋验证烧杯中的白色颗粒"),t.bottle.addChild(r)}),t.bottle.addEventListener(NBDrag.event.DRAG_MOVE,function(){TweenMax.to(t.tips,.4,{alpha:0}),TweenMax.to(p,.4,{alpha:.5})}),t.bolipian.alpha=0,t.glass.alpha=0,t.bottle.addEventListener(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.bottle.removeChild(r),TweenMax.to(t.baicu,.4,{alpha:0})});var c=void 0,l=void 0,d=!1;t.glass.addEventListener(NBDrag.event.STOP_DRAG,function(){t.glass.hitTest(t.ref)&&1==o?(NBDrag.removeDrag(t.glass),TweenMax.to(t.glass,.5,{x:t.cup.x+$s(18),y:t.cup.y-$s(300),onComplete:function(){c=t.cup.x-t.glass.x,l=t.cup.x-t.shaobei.x,d=!0,TweenMax.to(t.cup,.4,{x:"+=250"}),t.emit("IsComplete")}})):t.glass.hitTest(t.ref)?(instance.NBDownTipsError.showTip(instance.info.OPERATION_2),TweenMax.to(t.glass,.5,{x:n,y:s})):(instance.NBDownTip.showTip("将玻璃片盖在烧杯上"),t.glass.addChild(h))}),this.onUpdate=function(){d&&(t.glass.x=t.cup.x-c,t.shaobei.x=t.cup.x-l)},t.glass.on(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.glass.removeChild(h),TweenMax.to(t.bolipian,.4,{alpha:0})})},frame3:function(){var t=this;nb.spiritFunc.apply(this.spiritLamp,[{fire:ParticleUtil.particles.match_fire}]),TweenMax.to(t.spiritLamp.fire1,3,{currentFrame:24,yoyo:!0,repeat:-1,ease:Linear.easeNone}),t.spiritLamp.hideCover(!0),NBDrag.addDrag(t.glass),NBDrag.removeDrag(t.spiritLamp),instance.NBDownTip.showTip("取下玻璃片");var e=(0,a.default)(0,0);t.glass.addChild(e),t.glass.on(NBDrag.event.START_DRAG,function(){instance.NBDownTipsError.hideTip(),instance.NBDownTip.hideTip(),t.glass.removeChild(e)});var i=t.cup.clone();t.cup.name=i.name,i.alpha=0,TweenMax.to(i,.1,{x:t.spiritLamp.x+$s(80),y:t.spiritLamp.y-$s(50),rotation:-70*Math.PI/180,currentFrame:t.cup.totalFrames-1}),t.glass.addEventListener(NBDrag.event.STOP_DRAG,function(){t.glass.glassRef.hitTest(t.ref6)||(NBDrag.addDrag(t.cup),TweenMax.to(t.glass,.5,{alpha:0,onComplete:function(){t.cup.addChild(n),instance.NBDownTip.showTip("将烧杯放置在蜡烛旁倾倒，观察现象")}}))});var n=(0,a.default)(t.cup.width/4,t.cup.height/4);t.cup.addEventListener(NBDrag.event.STOP_DRAG,function(){t.cup.hitTest(t.ref)?(NBDrag.removeDrag(t.cup),(new TimelineMax).append(TweenMax.to(t.cup,.5,{x:t.spiritLamp.x+$s(80),y:t.spiritLamp.y-$s(50),onComplete:function(){TweenMax.to(t.cup,.5,{rotation:-70*Math.PI/180,onComplete:function(){TweenMax.to(i,.1,{alpha:0})}}),TweenMax.to(t.cup,.5,{currentFrame:t.cup.totalFrames-1,onComplete:function(){setTimeout(function(){TweenMax.killTweensOf(t.spiritLamp.fire1),TweenMax.to(t.spiritLamp.fire1,1.5,{currentFrame:t.spiritLamp.fire1.totalFrames,onComplete:function(){TweenMax.to(t.cup,.5,{rotation:0}),TweenMax.to(t.cup,.5,{alpha:0,onComplete:function(){TweenMax.to([t.spiritLamp,t.lazhu],.5,{x:"+=250"})}})}})},1e3)}})}}))):(TweenMax.to(i,.4,{alpha:0}),t.cup.addChild(n),instance.NBDownTip.showTip("将烧杯放置在蜡烛旁倾倒，观察现象"))}),t.cup.on(NBDrag.event.START_DRAG,function(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.cup.removeChild(n),t.glass.alpha>.9&&instance.NBDownTip.showTip("取下玻璃片")}),t.cup.on(NBDrag.event.DRAG_MOVE,function(){TweenMax.to(t.shaobei,.4,{alpha:0}),TweenMax.to(i,.4,{alpha:.5}),t.cup.removeChild(n),instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip()}),t.spiritLamp.render()},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.bindScriptToSprite(this.frame0,"frame0"),this.bindScriptToSprite(this.frame1,"frame1"),this.bindScriptToSprite(this.frame2,"frame2"),this.bindScriptToSprite(this.frame3,"frame3")},info:{experimentImport:"小苏打和白醋是厨房中常见的物质。小苏打是固体粉末，白醋是液体。如果把小苏打和白醋进行混合，会发生什么变化呢？",labName:"小苏打和白醋的变化",title0:"1、在烧杯中加入白醋，再放入一勺苏打粉，用毛玻璃片封住烧杯口",title1:"2、将毛玻璃片移开，点燃火柴棍，放入烧杯中，观察现象（火柴熄灭，下部有白色颗粒）",title2:"3、再加一些白醋，盖上毛玻璃片",title3:"4、将毛玻璃片移开，将烧杯中的新物质倒向燃烧的蜡烛，观察现象",OPERATION_0:"请添加完实验物品再盖玻璃片。",OPERATION_1:"请先移开玻璃片。",OPERATION_2:"请按步骤进行操作。",OPERATION_3:"请先点燃蜡烛。",OPERATION_4:"请从上方放入燃烧的火柴。",OPERATION_5:"再加一勺小苏打就超出比例了",OPERATION_6:"不需要再添加了",CONCLUSION:"把白醋和小苏打混合后，它们有明显的变化，有新物质产生。这种新物质能使火焰立即熄灭。我们也可以表述为小苏打和白醋发生了化学变化。"},const:{FUTFIRE_TIME:1500,SPEED:.5,SPEED1:.5},event:{}}),t.exports=nb.substance0143}});