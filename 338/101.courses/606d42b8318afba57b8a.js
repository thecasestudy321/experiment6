webpackJsonp([101,276],{169:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,i,n){for(var a=new PIXI.Container,o=new PIXI.filters.ColorMatrixFilter,r=i||!1,s=n||{addArrow:!1,type:"horizontal",scale:1},l=new PIXI.Container,h=0;h<3;++h){var d=h+1,p=PIXI.Sprite.fromFrame("TAP_1"+d);p.x=-p.width/2,p.y=-p.height/2;var v=new PIXI.Container;v.addChild(p),l.addChild(v)}var c=0;if(s.direction)switch(s.direction){case"top":c=-Math.PI/2;break;case"bottom":c=Math.PI/2;break;case"left":c=Math.PI;break;case"right":c=0;break;default:c=0}l.filters=[o];for(var f=0;f<l.children.length;f++){var b=l.children[f];b.scale.x=b.scale.y=2,f<2&&A(b,.75*f)}if(a.addChild(l),s.addArrow){var _,u;if(s.direction){_=PIXI.Sprite.fromFrame("oneArrow"),u=new PIXI.extras.MovieClip([_]);var m=s.scale?s.scale:1;u.scale.x=u.scale.y=m,u.pivot={x:0,y:u.height/2},u.rotation=c}else{_=PIXI.Sprite.fromFrame("NBarrow"),(u=new PIXI.extras.MovieClip([_])).pivot={x:u.width/2,y:u.height/2};var g=s.scale?s.scale:1;u.scale.x=u.scale.y=g,"horizontal"!==(s.type?s.type:"horizontal")&&(u.rotation=Math.PI/2)}a.addChild(u),a.arrow=u,a.addEventListener("hideArrow",function(){u.alpha=0,u.visible=!1}),a.addEventListener("showArrow",function(){u.alpha=1,u.visible=!0})}l.alpha=.4;var T=new PIXI.Graphics;function A(t,e){TweenMax.to(t,1.5,{delay:e,alpha:0,repeat:-1}),TweenMax.to(t.scale,1.5,{x:5,y:5,delay:e,repeat:-1})}return T.beginFill(16776960,0),T.drawRect(-50,-50,100,100),a.addChild(T),a.addEventListener(MouseEvent.MOUSE_OVER,function(){l.alpha=.6}),a.addEventListener(MouseEvent.MOUSE_OUT,function(){l.alpha=.4}),a.addEventListener(TouchEvent.TOUCH_BEGIN,function(){a.emit(a.event.TAP),!r&&a.parent&&a.parent.removeChild(a)}),a.x=t,a.y=e,a.setColor=function(t){var e=t>>16,i=t>>8&255,n=255&t;o._loadMatrix([e,0,0,0,0,0,i,0,0,0,0,0,n,0,0,0,0,0,255,0],!1),l.filters=[o]},a.setRotation=function(t){a.rotation=t},a.showAllDir=function(){if(s.direction)for(var t=0;t<3;t++){var e=new PIXI.Container;e.addChild(PIXI.Sprite.fromFrame("oneArrow")),a.addChild(e),e.pivot={x:0,y:u.height/2},e.rotation=Math.PI/2*(t+1)}else{var i=new PIXI.Container;i.addChild(PIXI.Sprite.fromFrame("NBarrow")),a.addChild(i),i.pivot={x:u.width/2,y:u.height/2},i.rotation=a.rotation+Math.PI/2}},a.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&a.scale.set(.6,.6),a}},246:function(t,e,i){"use strict";nb.substance0014=extendsClass(ScienceMain,{frame0:function(){var t=this;instance.NBDownTip.showTip("预测哪种物体流得更快一些");var e=function(){this.num.visible=!1,this.startMc.visible=!1,this.startMc.alpha=0,this.restartMc.visible=!1,this.waterAni.gotoAndStop(0),this.oilAni.gotoAndStop(0),t.r1.visible=t.r2.visible=t.r3.visible=!1};this.waterAni.onComplete=function(){console.log("animation complete"),t.r1.visible=t.r2.visible=t.r3.visible=!0,t.b0.containObj&&"a0"==t.b0.containObj.name?t.r1.gotoAndStop(0):t.r1.gotoAndStop(1),t.b1.containObj?t.r2.gotoAndStop(1):t.r2.gotoAndStop(0),t.b2.containObj&&"a1"==t.b2.containObj.name?t.r3.gotoAndStop(0):t.r3.gotoAndStop(1),t.r1.visible&&t.r2.visible&&t.r3.visible&&t.onStepComplete()},t.restartMc.addEventListener(TouchEvent.TAP,function(){e.apply(t),t.restart()}),this.startMc.addEventListener(TouchEvent.TAP,function(){for(var e=0;e<3;e++){var i=t["b"+e];i.containObj&&(i.containObj.interactive=!1);var n=t["r"+(e+1)];n.parent.addChild(n)}t.waterAni.loop=!1,t.waterAni.animationSpeed=.1,t.waterAni.play(),t.oilAni.animationSpeed=.1,t.oilAni.loop=!1,t.oilAni.play(),t.startMc.alpha=.3}),nb.InteractiveDragTempletA.apply(this),this.on(nb.InteractiveDragTempletA.event.EMPTY_A,function(){var t=this;TweenMax.to(this.startMc,.5,{alpha:1,onStart:function(){t.startMc.visible=!0}})}),this.on(nb.InteractiveDragTempletA.event.IS_NOT_EMPTY_A,function(t){t.type===NBDrag.event.STOP_DRAG&&(this.startMc.visible=!1)});!function e(){TweenMax.to(t.a0,.5,{delay:5,x:t.a0.x-30,ease:Sine.easeIn,yoyo:!0,repeat:1,onComplete:e}),TweenMax.to(t.a1,.5,{delay:5,x:t.a1.x-30,ease:Sine.easeIn,yoyo:!0,repeat:1})}(),e.apply(this)},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.showExperimentImport(this.info.experimentImport),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"水、食用油和洗洁精比赛跑，猜猜谁是第一名呢？",labName:"谁流的更快一些",title0:"拖动预测标签，点击“开始移动”",CONCLUSION:"水流动速度最快，洗洁精流动速度最慢，油流动速度居中。液体会流动，流动的快慢主要是与黏性有关。"},const:{},event:{}}),nb.InteractiveDragTempletA=function(t){null==t?t={offsetX:0,offsetY:0}:(t.offsetX,t.offsetX,t.offsetY,t.offsetY);var e=this;this.showTip=function(){for(o=0;o<i.length;o++){var t=i[o];void 0==t.__tween__&&null!=t.tip&&(t.__tween__=TweenMax.to(t.tip,.3,{alpha:.7,yoyo:!0,repeat:-1})),void 0!=t.tip&&(t.tip.visible=!0),void 0!=t.__tween__&&t.__tween__.restart()}},this.hideTip=function(){for(o=0;o<i.length;o++){var t=i[o];void 0!=t.__tween__&&(t.__tween__.pause(),t.tip.visible=!1)}};var i=[];for(o=0;o<int.MAX_VALUE;o++){var n=this["b"+o];if(void 0==n)break;n.tip&&(n.tip.visible=!1),i.push(n)}for(var a=[],o=0;o<int.MAX_VALUE;o++){var r=this["a"+o];if(void 0==r)break;a.push(r),r.__defaultPosX__=r.x,r.__defaultPosY__=r.y,NBDrag.addDrag(r),r.getIsContainedObj=function(){return this.lastContainedObj},r.addEventListener(NBDrag.event.START_DRAG,function(t){this.parent.addChild(this),instance.NBDownTip.hideTip();for(var n=t.target.name,a=0;a<i.length;a++){var o=i[a];if(void 0!=o.tip){var r=o.tip,l=t.target.clone();o.addChild(l),o.tip=l,l.position.set(r.x,r.y),o.removeChild(r)}}t.target.name=n,null!=this.isContainedObj&&(this.isContainedObj.containObj=null,this.isContainedObj=null),TweenMax.killTweensOf(this),e.showTip(),s.apply(e,[NBDrag.event.START_DRAG,this])}),r.addEventListener(NBDrag.event.STOP_DRAG,function(){for(var n=0;n<i.length;n++){var a=i[n],o=this.hitArea||this,r=a.hitArea||a;if(o.hitTest(r)){if(TweenMax.to(this,.5,{x:a.x+t.offsetX,y:a.y+t.offsetY}),this.isContainedObj=a,null!=a.containObj){var l,h,d=a.containObj;null!=this.lastContainedObj?(l=this.lastContainedObj.x+t.offsetX,h=this.lastContainedObj.y+t.offsetY,d.lastContainedObj=this.lastContainedObj,d.isContainedObj=this.lastContainedObj,this.lastContainedObj.containObj=d):(l=d.__defaultPosX__,h=d.__defaultPosY__,d.lastContainedObj=null,d.isContainedObj=null),d.name!==this.name&&TweenMax.to(d,.5,{x:l,y:h})}a.containObj=this,this.lastContainedObj=a;break}}n==i.length&&(TweenMax.to(this,.5,{x:this.__defaultPosX__,y:this.__defaultPosY__}),this.isContainedObj=null,this.lastContainedObj=null),e.hideTip(),s.apply(e,[NBDrag.event.STOP_DRAG,this])})}var s=function(t,e){for(var n=0;n<a.length;n++){if(!a[n].isContainedObj){this.emit(nb.InteractiveDragTempletA.event.IS_NOT_EMPTY_A,{target:this,type:t,item:e});break}n==a.length-1&&this.emit(nb.InteractiveDragTempletA.event.EMPTY_A,{target:this,type:t,item:e})}for(n=0;n<i.length;n++){if(null==i[n].containObj){this.emit(nb.InteractiveDragTempletA.event.IS_NOT_FULL_B,{target:this,type:t,item:e});break}n==i.length-1&&this.emit(nb.InteractiveDragTempletA.event.FULL_B,{target:this,type:t,item:e})}};this.restart=function(){for(var t=0;t<a.length;t++){var e=a[t];e.x=e.__defaultPosX__,e.y=e.__defaultPosY__;var i=e.isContainedObj;e.isContainedObj=null,e.lastContainedObj=null,null!=i&&(i.containObj=null)}}},nb.InteractiveDragTempletA.event={EMPTY_A:"emptyA",FULL_B:"fullB",IS_NOT_EMPTY_A:"isNotEmptyA",IS_NOT_FULL_B:"isNotFullB"},t.exports=nb.substance0014},299:function(t,e,i){"use strict";var n=function(t){return t&&t.__esModule?t:{default:t}}(i(169));i(246),nb.substance0038=extendsClass(ScienceMain,{frame0:function(){$("body").animate({backgroundColor:"rgb(0, 0, 0)"},800);var t=this;nb.InteractiveDragTempletA.apply(this),t.light.visible=!1,t.light.alpha=0,t.a2.light.visible=!1;for(var e=["导线","电池","灯泡"],i=0;i<3;i++){var a=t["a"+i];a.judge.visible=!1,a.startX=a.x,a.startY=a.y,a.index=i,a.toolName=e[i],a.isUsed=!1,a.addEventListener(NBDrag.event.START_DRAG,o),a.addEventListener(NBDrag.event.STOP_DRAG,r),t["txt"+i].text=e[i]}function o(){instance.NBDownTip.hideTip(),this.Point&&this.removeChild(this.Point),"a2"===this.name&&(this.light.visible=!1)}function r(){for(var e=0;e<3;e++){var i=t["a"+e];if(!i.isUsed){if(i.Point)i.addChild(i.Point);else{var a=(0,n.default)(0,0,!0);i.addChild(a),i.Point=a}instance.NBDownTip.showTip("请将"+i.toolName+"与检测器连接观察现象");break}}}this.onUpdate=function(){for(var e=0;e<3;e++){var i=t["a"+e];i.x==i.startX&&i.y==i.startY?t["txt"+e].alpha=1:t["txt"+e].alpha=0}},r(),t.addEventListener(nb.InteractiveDragTempletA.event.FULL_B,function(e){if(e.type===NBDrag.event.STOP_DRAG&&e.item.getIsContainedObj()===t.b0){switch(t.light.visible=!0,e.item.judge.visible=!0,t.a2.light.alpha=0,e.item){case t.a0:t.light.visible=!1,t.a0.isUsed=!0,r();break;case t.a1:t.light.alpha=1,t.a1.isUsed=!0,r();break;case t.a2:t.light.alpha=.25,t.a2.light.visible=!0,t.a2.light.alpha=.25,t.a2.isUsed=!0,r()}t.elecAry.gotoAndStop(e.item.index)}else e.type===NBDrag.event.START_DRAG&&e.item.hitTest(t.b0)&&(t.light.alpha=0)}),t.addEventListener(nb.InteractiveDragTempletA.event.IS_NOT_FULL_B,function(){t.light.visible=!1})},start:function(){this.menu.addStepFromObj(this.info),this.menu.setExperimentName(this.info.labName),this.showExperimentImport(this.info.experimentImport),this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"电路中的某一个电器元件出了故障，小灯泡就不亮。学习利用电路检测器来查找小灯泡不亮的原因。",labName:"电路出故障了",title0:"使用电路检测器材检查器材",CONCLUSION:"将元件连接到电路检测器的两个导线头，如果灯泡亮了就说明这个元件没有故障，反之元件有故障。"},const:{},event:{}}),t.exports=nb.substance0038}});