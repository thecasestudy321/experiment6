webpackJsonp([87],{361:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Instance=void 0;var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=function e(t,a,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,a);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,a,n)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(n)},h=a(570),c=n(h),d=a(575),u=n(d);t.Instance=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.init.apply(e,arguments),e.info={CONCLUSION:"<br/>1、蜡烛燃烧需要空气<br/>2、空气是有质量的",CONCLUSIONAlign:{textAlign:"left"},TITILE:""},e}return o(t,e),s(t,[{key:"frame0",value:function(){}},{key:"frame1",value:function(){function e(){this.currentFrame=0,m.hideTips(),v.setChildIndex(this,v.children.length-1),this.startX=this.x,this.startY=this.y}function t(){this.hitTest(D)&&(_.alpha=1,M.alpha=1,instance.resetBtnEnable(!0),0===J&&(w.showTips(),J=1))}function a(){1===_.alpha?(this.currentFrame=0,TweenMax.to([this,y],.4,{alpha:0,onComplete:function(){NBDrag.addDrag(b),b.addEventListener(NBDrag.event.START_DRAG,n),b.addEventListener(NBDrag.event.STOP_DRAG,r),b.addEventListener(NBDrag.event.DRAG_MOVE,i)}}),0===z&&0===J&&(w.showTips(),J=1)):this.currentFrame=1,this.x=this.startX,this.y=this.startY}function n(){w.hideTips(),this.startX=this.x,this.startY=this.y,v.setChildIndex(this,v.children.length-1)}function i(){this.hitTest(C)?(E.visible=!0,E.alpha=.5):(E.visible=!1,E.alpha=0)}function r(){O.currentFrame=0,this.hitTest(C)?1===_.alpha?(E.visible=!0,TweenMax.to(E,.4,{alpha:1,onComplete:function(){NBDrag.removeDrag(E),E.addEventListener(TouchEvent.TOUCH_BEGIN,o)}}),this.visible=!1,this.alpha=0,v.setChildIndex(O,v.children.length-1),TweenMax.to(O,1,{alpha:1,onComplete:function(){O.addEventListener(TouchEvent.TAP,d),TweenMax.to([M,_],.4,{alpha:0,delay:10,onComplete:function(){TweenMax.to(O,.4,{alpha:0,currentFrame:1})}})}})):(E.alpha=0,TweenMax.killTweensOf(P),TweenMax.to(N,.3,{alpha:0}),TweenMax.to(P,.4,{alpha:1,onComplete:function(){TweenMax.to(P,.4,{alpha:0,delay:3})}})):E.alpha=0,this.x=this.startX,this.y=this.startY}function o(){1===_.alpha?(TweenMax.killTweensOf(N),TweenMax.to(P,.3,{alpha:0}),TweenMax.to(N,.4,{alpha:1,onComplete:function(){TweenMax.to(N,.4,{alpha:0,delay:3})}}),NBDrag.removeDrag(E)):(NBDrag.addDrag(E),E.addEventListener(NBDrag.event.START_DRAG,s),E.addEventListener(NBDrag.event.STOP_DRAG,h),E.addEventListener(NBDrag.event.DRAG_MOVE,l))}function s(){this.startX=this.x,this.startY=this.y}function l(){this.hitTest(b)?(b.visible=!0,b.alpha=.5):(b.visible=!1,b.alpha=0)}function h(){this.hitTest(C)?(this.x=this.startX,this.y=this.startY,this.alpha=1,this.visible=!0):(this.alpha=0,this.visible=!1,b.visible=!0,b.alpha=1,y.alpha=1,T.alpha=1,T.currentFrame=1),this.x=this.startX,this.y=this.startY}function d(){1===this.alpha&&(this.interactive=!1,this.currentFrame=1,TweenMax.to([_,M,this],2,{alpha:0,onComplete:function(){}}))}function p(){var e=this,t=R.x,a=R.y,n=B.x,i=B.y,r=I.x,o=I.y;0===this.currentFrame?(G.hideTips(),this.interactive=!1,TweenMax.to(R,1,{x:t+K,y:a-V}),TweenMax.to(B,1,{x:n-q,y:i+U}),TweenMax.to(L,1,{rotation:X}),TweenMax.to(I,1,{x:r+K,y:o-V,currentFrame:I.totalFrames-1,onComplete:function(){S.showTips(),e.interactive=!0,e.addEventListener(TouchEvent.TAP,p),0===Y?(S.visible=!0,Y=1):S.visible=!1}})):(this.interactive=!1,S.hideTips(),TweenMax.to(R,1,{x:t-K,y:a+V}),TweenMax.to(B,1,{x:n+q,y:i-U}),TweenMax.to(L,1,{rotation:0}),TweenMax.to(I,1,{x:r-K,y:o+V,currentFrame:0,onComplete:function(){e.interactive=!0,e.addEventListener(TouchEvent.TAP,p)}}))}$("#bgDiv").css("backgroundColor","#79D4FB");var f=this,v=f.step0,g=f.step1,x=f.timeline;u.default.init.apply(x);var T=v.fire,y=v.match,M=v.newfire,m=v.firNotice,_=v.fir,D=v.openfir,E=v.coverHide,b=v.cover,w=v.leftTip,O=v.pumpRow,C=v.hit,A=v.changeTip,N=v.tip2,P=v.tip1,L=g.pole,R=g.poleLeft,I=g.airBall,B=g.poleRight,G=g.qipao,S=g.fangkongqi;g.alpha=0,g.interactiveChildren=!1,N.alpha=P.alpha=0;var k=T.huocai,F=0,Y=0;A.visible=!1;var X=-Math.PI/12,j=Math.sqrt(Math.pow(L.x-R.x,2)+Math.pow(L.y-R.y,2)),H=Math.sqrt(Math.pow(L.x-B.x,2)+Math.pow(L.y-B.y,2)),K=j-j*Math.cos(X),V=j*Math.sin(X),q=H-H*Math.cos(X),U=H*Math.sin(X);f.notices.visible=!1;var z=1,J=0,Q=f.titleleft,W=f.leftchange,Z=f.rightchange;W.visible=Z.visible=!1,m.y-=30,w.y-=30,G.x+=40,S.x+=30,function(){(0,c.default)(m,{XorY:"y",offset:30,reuse:!0}),(0,c.default)(w,{XorY:"y",offset:30,reuse:!0}),(0,c.default)(G,{XorY:"x",offset:-30,reuse:!0}),(0,c.default)(S,{XorY:"x",offset:-30,reuse:!0}),m.showTips(),G.txt.text="点击注入空气",TweenMax.to(M.children[0],.6,{currentFrame:M.children[0].totalFrames-1,yoyo:!0,repeat:-1}),M.alpha=0,Q.mask=f.textMask.children[0],TweenMax.to(k.children[0],.6,{currentFrame:k.children[0].totalFrames-1,yoyo:!0,repeat:-1}),T.currentFrame=1,C.alpha=0,D.alpha=0,E.alpha=0,O.alpha=0,_.alpha=0,NBDrag.addDrag(T),T.addEventListener(NBDrag.event.START_DRAG,e),T.addEventListener(NBDrag.event.STOP_DRAG,a),T.addEventListener(NBDrag.event.DRAG_MOVE,t);var n=Power0.easeNone;x.addEventListener(u.default.event.CLICK_NODE,function(e){v.interactiveChildren=g.interactiveChildren=!1,x.interactiveChildren=!1,1==e.index?(TweenMax.to(v,.5,{x:"-=1000",alpha:0,ease:n}),TweenMax.to(g,.5,{x:"-=1000",alpha:1,ease:n})):0==e.index&&(TweenMax.to(v,.5,{x:"+=1000",alpha:1,ease:n}),TweenMax.to(g,.5,{x:"+=1000",alpha:0,ease:n}))}),x.addEventListener(u.default.event.CLICK_NODE_REACHED,function(e){x.interactiveChildren=!0,v.interactiveChildren=0===parseInt(e.index),g.interactiveChildren=1===parseInt(e.index)})}(),G.showTips(),I.addEventListener(TouchEvent.TAP,p),0===F?(G.visible=!0,F=1):G.visible=!1}},{key:"start",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"start",this).call(this),this.gotoStep("frame1")}}]),t}(nb.stem.STEMMain)},570:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=t.offset||30,n=t.XorY||y,i=t.reuse||!1,r=e.x,o=e.y;e.alpha=0,e.light&&TweenMax.to(e.light.bling,.8,{alpha:.2,repeat:-1,yoyo:!0,ease:Sine.easeInOut}),e.showTips=function(){if(e.parent.setChildIndex(e,e.parent.children.length-2),"x"===n){var t=r+a;TweenMax.to(e,.5,{x:t,alpha:1,ease:Sine.easeInOut})}else{var i=o+a;TweenMax.to(e,.5,{y:i,alpha:1,ease:Sine.easeInOut})}},e.hideTips=function(){"x"===n?TweenMax.to(e,.5,{x:r,alpha:0,ease:Sine.easeInOut,onComplete:function(){i?(e.visible=!1,e.parent.setChildIndex(e,0)):GlobalEffect.fadeOut(e)}}):TweenMax.to(e,.5,{y:o,alpha:0,ease:Sine.easeInOut,onComplete:function(){i?(e.visible=!1,e.parent.setChildIndex(e,0)):GlobalEffect.fadeOut(e)}})}}},575:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};n.event={CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},n.init=function(){function e(){t._auto_&&!t.drag.isDragging&&("vertical"===o?t.drag.y+=t._speed_:t.drag.x+=t._speed_,u())}var t=this;if(t.bgMask){var a=t.bgMask.getChildAt(0);t.progressBar.mask=a,a.scale.x=0}var i,r,o=this.a0.x===this.a1.x?"vertical":"horizontal",s=0,l=[];t.drag.lastPos={x:t.drag.x,y:t.drag.y};for(var h=0;h<int.MAX_VALUE;h++){var c=this["a"+h];if(void 0===c){r="vertical"===o?this["a"+(h-1)].y:this["a"+(h-1)].x,s=h;break}l.push(c),0===h&&(i="vertical"===o?c.y:c.x),c.addEventListener(TouchEvent.TAP,function(){var e=this;"vertical"===o?TweenMax.to(t.drag,.5,{y:this.y}):TweenMax.to(t.drag,.5,{x:this.x,onComplete:function(){t.emit(n.event.CLICK_NODE_REACHED,{index:e.name.substr(1,1)})}}),this.totalFrames&&(l.forEach(function(e){return e.currentFrame=0}),this.currentFrame=1),t.drag.lastPos={x:this.x,y:this.y},t.emit(n.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(e){e?(NBDrag.addDrag(t.drag),t.drag.on(NBDrag.event.START_DRAG,function(){var e=(t.drag.x-i)/(r-i);t.emit(n.event.START_DRAG,{time:e})}),t.drag.on(NBDrag.event.DRAG_MOVE,function(){var e=(t.drag.x-i)/(r-i);t.emit(n.event.DRAGING,{time:e})}),t.drag.on(NBDrag.event.STOP_DRAG,function(){var e=(t.drag.x-i)/(r-i);t.emit(n.event.STOP_DRAG,{time:e}),e>=1&&t.emit(n.event.ON_COMPLETE,{time:e})})):NBDrag.removeDrag(t.drag)},t.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==t._align_){var e=s-1;if("vertical"===o){var a=Math.round((this.y-i)/(r-i)*e);a<0&&(a=0)}else{var n=Math.round((this.x-i)/(r-i)*e);n<0&&(n=0)}}}),t.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){u()});var d=!1;t.drag.constY=t.drag.y;var u=function(){t.drag.y=t.drag.constY,t.drag.x>=r&&(t.drag.x=r),t.drag.x<=i&&(t.drag.x=i);var e=(t.drag.x-i)/(r-i);if(e<1){d=!1,t.emit(n.event.ON_PLAY,{time:e});for(var a=0;a<l.length;a++)t.drag.lastPos.x<=l[a].x&&t.drag.x>l[a].x&&t.emit(n.event.REACHED_NODE,{index:a})}else d||(d=!0,t.emit(n.event.ON_COMPLETE,{time:e}));if(t.drag.line0&&(t.drag.line0.rotation=1800*e*Math.PI/180,t.drag.line1.rotation=360*e*Math.PI/180),t.bgMask){t.bgMask.getChildAt(0).scale.x=e}t.drag.lastPos={x:t.drag.x,y:t.drag.y}};this.getNodeCount=function(){return s},this.setNodePos=function(e){var a=this["a"+e];"vertical"===o?t.drag.y=a.y:t.drag.x=a.x},nb.MovieClip.ticker.add(e),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e};var p;this.setMomentsPause=function(e,a,n){!function(){clearTimeout(p),e&&!t.NOTafterStopPlay?(t.setAutoPlay(!1),clearTimeout(p),t.setAutoPlay(!1),p=setTimeout(function(){t.setAutoPlay(!0,n)},a)):t.setAutoPlay(!1)}()},this.resetTimeline=function(){if(this.drag.x=this.bgMask.x,t.bgMask){t.bgMask.getChildAt(0).scale.x=0}}},t.default=n}});