webpackJsonp([42],{169:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){for(var i=new PIXI.Container,r=new PIXI.filters.ColorMatrixFilter,o=a||!1,s=n||{addArrow:!1,type:"horizontal",scale:1},d=new PIXI.Container,l=0;l<3;++l){var c=l+1,h=PIXI.Sprite.fromFrame("TAP_1"+c);h.x=-h.width/2,h.y=-h.height/2;var u=new PIXI.Container;u.addChild(h),d.addChild(u)}var p=0;if(s.direction)switch(s.direction){case"top":p=-Math.PI/2;break;case"bottom":p=Math.PI/2;break;case"left":p=Math.PI;break;case"right":p=0;break;default:p=0}d.filters=[r];for(var v=0;v<d.children.length;v++){var f=d.children[v];f.scale.x=f.scale.y=2,v<2&&M(f,.75*v)}if(i.addChild(d),s.addArrow){var g,m;if(s.direction){g=PIXI.Sprite.fromFrame("oneArrow"),m=new PIXI.extras.MovieClip([g]);var x=s.scale?s.scale:1;m.scale.x=m.scale.y=x,m.pivot={x:0,y:m.height/2},m.rotation=p}else{g=PIXI.Sprite.fromFrame("NBarrow"),(m=new PIXI.extras.MovieClip([g])).pivot={x:m.width/2,y:m.height/2};var T=s.scale?s.scale:1;m.scale.x=m.scale.y=T,"horizontal"!==(s.type?s.type:"horizontal")&&(m.rotation=Math.PI/2)}i.addChild(m),i.arrow=m,i.addEventListener("hideArrow",function(){m.alpha=0,m.visible=!1}),i.addEventListener("showArrow",function(){m.alpha=1,m.visible=!0})}d.alpha=.4;var w=new PIXI.Graphics;function M(e,t){TweenMax.to(e,1.5,{delay:t,alpha:0,repeat:-1}),TweenMax.to(e.scale,1.5,{x:5,y:5,delay:t,repeat:-1})}return w.beginFill(16776960,0),w.drawRect(-50,-50,100,100),i.addChild(w),i.addEventListener(MouseEvent.MOUSE_OVER,function(){d.alpha=.6}),i.addEventListener(MouseEvent.MOUSE_OUT,function(){d.alpha=.4}),i.addEventListener(TouchEvent.TOUCH_BEGIN,function(){i.emit(i.event.TAP),!o&&i.parent&&i.parent.removeChild(i)}),i.x=e,i.y=t,i.setColor=function(e){var t=e>>16,a=e>>8&255,n=255&e;r._loadMatrix([t,0,0,0,0,0,a,0,0,0,0,0,n,0,0,0,0,0,255,0],!1),d.filters=[r]},i.setRotation=function(e){i.rotation=e},i.showAllDir=function(){if(s.direction)for(var e=0;e<3;e++){var t=new PIXI.Container;t.addChild(PIXI.Sprite.fromFrame("oneArrow")),i.addChild(t),t.pivot={x:0,y:m.height/2},t.rotation=Math.PI/2*(e+1)}else{var a=new PIXI.Container;a.addChild(PIXI.Sprite.fromFrame("NBarrow")),i.addChild(a),a.pivot={x:m.width/2,y:m.height/2},a.rotation=i.rotation+Math.PI/2}},i.event={TAP:"pointTap",HIDEARR:"hideArrow",SHOWARR:"showArrow"},instance.info&&instance.info.newLayOut&&i.scale.set(.6,.6),i}},404:function(e,t,a){"use strict";var n=o(a(169)),i=o(a(521)),r=o(a(522));function o(e){return e&&e.__esModule?e:{default:e}}nb.substance0577=extendsClass(ScienceMain,{frame0:function(){instance.viewStack.NBONOFF.visible=!1,r.default.apply(this.form),i.default.apply(this,[{offset:400,oldTm:.6,newTm:1,isFix:!0}]),instance.baseFrame0.apply(this.step0,[{form:this.form}]),instance.baseFrame1.apply(this.step1,[{form:this.form}]),instance.baseFrame2.apply(this.step2,[{form:this.form}])},baseFrame0:function(e){var t=this,a=e.form.dragForm,i=t.potato;NBDrag.addDrag(i),i.startX=i.x,i.startY=i.y;var r=(0,n.default)(0,-i.height/2);i.addChild(r),i.on(NBDrag.event.START_DRAG,function(){i.removeChild(r),instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.addChild(i),t.txt.alpha=0,this.x==o.x&&this.y==o.y&&function(e,a,n){h(),d=setInterval(function(){var i=Math.round(10*Math.random());i=i>e?e:i;var r=Math.round(10*Math.random());r=r>a?a:r;var o=Math.round(10*Math.random());o=o>n?n:r,t.arr0.gotoAndStop(i),t.arr1.gotoAndStop(r),t.arr2.gotoAndStop(o)},300),c=setTimeout(function(){clearInterval(d),t.arr0.gotoAndStop(0),t.arr1.gotoAndStop(0),t.arr2.gotoAndStop(0)},1e3)}(4,9,3)}),i.on(NBDrag.event.STOP_DRAG,function(){i.hitTest(o)?TweenMax.to(i,.5,{x:o.x,y:o.y,ease:Sine.easeInOut,onComplete:function(){t.complete=!0,function(e,a,n){h(),s=setInterval(function(){var a=Math.round(10*Math.random());a=a>e?e:a,t.arr0.gotoAndStop(a),t.arr1.gotoAndStop(Math.round(10*Math.random())),t.arr2.gotoAndStop(Math.round(10*Math.random()))},300),l=setTimeout(function(){clearInterval(s),t.arr0.gotoAndStop(e),t.arr1.gotoAndStop(a),t.arr2.gotoAndStop(n)},1e3)}(4,9,3),1!==a.a0.alpha?(a.a0.alpha=1,TweenMax.to(a.a0.scale,.4,{x:3,y:3,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(a.a0.scale,.4,{x:1,y:1,ease:Sine.easeInOut}),instance.NBDownTipsError.showTip("步骤一已完成")}})):instance.NBDownTipsError.showTip("步骤一已完成")}}):t.complete?(TweenMax.to(i,.5,{x:i.startX,y:i.startY,ease:Sine.easeInOut,onComplete:function(){t.txt.alpha=1}}),instance.NBDownTipsError.showTip("步骤一已完成")):TweenMax.to(i,.5,{x:i.startX,y:i.startY,ease:Sine.easeInOut,onComplete:function(){i.addChild(r),instance.NBDownTip.showTip("将马铃薯放置在电子秤上"),t.txt.alpha=1}})});var o=t.balance;a.a0.alpha=0,o.addEventListener(TouchEvent.TAP,function(){t.complete?instance.NBDownTipsError.showTip("步骤一已完成"):instance.NBDownTip.showTip("将马铃薯放置在电子秤上")});var s=null,d=null,l=null,c=null;function h(){[s,d,l,c].forEach(function(e){clearTimeout(e)})}},baseFrame1:function(e){var t=this,a=e.form.dragForm,i=t.potato;NBDrag.addDrag(i),i.startX=i.x,i.startY=i.y;var r=(0,n.default)(0,-i.height/2);i.addChild(r),i.on(NBDrag.event.START_DRAG,function(){i.removeChild(r),instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),t.txt.alpha=0,t.addChild(i),o.setCapacityTween("57.5%",1),TweenMax.to(t.line,.3,{y:instance.const.wLineStaticY,ease:Sine.easeInOut,delay:.2,onUpdate:function(){t.mlNum.y=t.line.y-64;var e={x1:instance.const.wLineTargetY,y1:192.5,x2:instance.const.wLineStaticY,y2:150},a=s(e),n=t.line.y*a.k+a.b;t.mlNum.text=n.toFixed(1)+"mL"}})}),i.on(NBDrag.event.STOP_DRAG,function(){if(i.hitTest(t.hit)){if(i.hitTest(t.left)||i.hitTest(t.right))return instance.NBDownTipsError.showTip("请从正上方放入马铃薯"),void TweenMax.to(i,.5,{x:i.startX,y:i.startY,ease:Sine.easeInOut,onComplete:function(){d(!0)}});t.complete=!0,t.setChildIndex(i,0),TweenMax.to(i,1,{y:t.targetY.y,ease:Sine.easeInOut,onComplete:function(){a.a1.alpha=1,TweenMax.to(a.a1.scale,.4,{x:3,y:3,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(a.a1.scale,.4,{x:1,y:1,ease:Sine.easeInOut}),instance.NBDownTipsError.showTip("步骤二已完成")}})}}),setTimeout(function(){o.setCapacityTween("70%",.3),TweenMax.to(t.line,.3,{y:instance.const.wLineTargetY,ease:Sine.easeInOut,delay:.2,onUpdate:function(){t.mlNum.y=t.line.y-64;var e={x1:instance.const.wLineStaticY,y1:150,x2:instance.const.wLineTargetY,y2:192.5},a=s(e),n=t.line.y*a.k+a.b;t.mlNum.text=n.toFixed(1)+"mL"}})},400)}else TweenMax.to(i,.5,{x:i.startX,y:i.startY,ease:Sine.easeInOut,onComplete:function(){d()}})});var o=t.waterBreak;function s(e){var t=e.x1,a=e.y1,n=(a-e.y2)/(t-e.x2);return{k:n,b:a-t*n}}function d(e){if(t.txt.alpha=1,t.complete)instance.NBDownTipsError.showTip("步骤二已完成");else{if(i.addChild(r),!0===e)return;instance.NBDownTip.showTip("请将马铃薯放入烧杯中")}}o.setCurrentCapacity("57.5%"),t.left.alpha=t.right.alpha=t.hit.alpha=0,t.line.y=instance.const.wLineStaticY,t.mlNum.y=t.line.y-64,a.a1.alpha=0,t.mlNum.text="150.0mL"},baseFrame2:function(e){var t=this,a=e.form.dragForm,i=t.waterBreak0,r=t.waterBreak1,o=t.balance;i.tip.visible=!1,i.cap.visible=!0,r.tip.visible=!1,r.cap.visible=!0,i.beaker.setCurrentCapacity("22%"),r.beaker.setCurrentCapacity("22%"),NBDrag.addDrag(i),NBDrag.addDrag(r),i.startX=i.x,i.startY=i.y,r.startX=r.x,r.startY=r.y,i.addEventListener(NBDrag.event.START_DRAG,p),i.addEventListener(NBDrag.event.STOP_DRAG,c),r.addEventListener(NBDrag.event.START_DRAG,p),r.addEventListener(NBDrag.event.STOP_DRAG,c),r.addEventListener(NBDrag.event.DRAG_MOVE,l),i.addEventListener(NBDrag.event.DRAG_MOVE,l),a.b0.alpha=0,a.b1.alpha=0;var s=(0,n.default)(0,-i.height/2),d=(0,n.default)(0,-r.height/2);function l(){this.removeChild(this.Point)}function c(e){var a=e.target,n=a.name.substr(-1,1),i="0"===n?1:0,r=t["waterBreak"+i],s=r.x==r.startX&&r.y==r.startY;if(a.hit.hitTest(o)&&!s)return h(r,i,!1),void u(a,n);a.hit.hitTest(o)?u(a,n):h(a,n,!0)}function h(e,a,n){TweenMax.to(e,.5,{x:e.startX,y:e.startY,ease:Sine.easeInOut,onComplete:function(){n&&v(),e.tip.visible=!1,e.cap.visible=!0,t["c"+a].alpha=1}})}function u(e,n){TweenMax.to(e,.5,{x:o.x,y:o.y,ease:Sine.easeInOut,onComplete:function(){!function(e,a,n){T(),f=setInterval(function(){var a=Math.round(10*Math.random());a=a>e?e:a,t.arr0.gotoAndStop(a),t.arr1.gotoAndStop(Math.round(10*Math.random())),t.arr2.gotoAndStop(Math.round(10*Math.random()))},300),m=setTimeout(function(){clearInterval(f),t.arr0.gotoAndStop(e),t.arr1.gotoAndStop(a),t.arr2.gotoAndStop(n)},1e3)}(e.weight[0],e.weight[1],e.weight[2]),e.tip.visible=!0,e.cap.visible=!1,e.isHit=!0;var i=a["b"+n];i.alpha?v():(i.alpha=1,TweenMax.to(i.scale,.4,{x:3,y:3,ease:Sine.easeInOut,onComplete:function(){TweenMax.to(i.scale,.4,{x:1,y:1,ease:Sine.easeInOut,onComplete:function(){t["waterBreak"+("0"===n?1:0)].isHit||v()}})}}))}})}function p(e){var a=e.target,n=a.name.substr(-1,1),i=t["waterBreak"+("0"===n?1:0)];instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),i.hit.hitTest(o)||0!==t.arr0.currentFrame&&0!==t.arr1.currentFrame&&0!==t.arr2.currentFrame&&function(e,a,n){T(),g=setInterval(function(){var i=Math.round(10*Math.random());i=i>e?e:i;var r=Math.round(10*Math.random());r=r>a?a:r;var o=Math.round(10*Math.random());o=o>n?n:r,t.arr0.gotoAndStop(i),t.arr1.gotoAndStop(r),t.arr2.gotoAndStop(o)},300),x=setTimeout(function(){clearInterval(g),t.arr0.gotoAndStop(0),t.arr1.gotoAndStop(0),t.arr2.gotoAndStop(0)},1e3)}(a.weight[0],a.weight[1],a.weight[2]),t["c"+n].alpha=0,e.target.removeChild(e.target.Point)}function v(){i.isHit?r.isHit||(instance.NBDownTip.showTip("请将浓盐水放入电子秤上"),r.addChild(d)):(instance.NBDownTip.showTip("请将清水放入电子秤上"),i.addChild(s))}i.Point=s,r.Point=d,i.addChild(s),i.weight=[4,2,5],r.weight=[5,2,5];var f=null,g=null,m=null,x=null;function T(){[f,g,m,x].forEach(function(e){clearTimeout(e)})}},start:function(){this.bindScriptToSprite(this.frame0,"frame0")},info:{experimentImport:"与同体积的马铃薯比较,它们的重量相同吗？怎么比较同体积的马铃薯、清水的浓盐水的轻重呢？",labName:"同体积物质轻重比较",CONCLUSION:"同体积不同物质重量: 浓盐水>马铃薯>清水。",newLayOut:!0,bgColor:"#F3E6CF"},const:{wLineStaticY:718,wLineTargetY:671},event:{}}),e.exports=nb.substance0577},520:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={event:{CLICK_NODE:"nodeTap",CLICK_NODE_REACHED:"nodeTapReached",ON_COMPLETE:"timelineComplete",ON_PLAY:"timelinePlaying",REACHED_NODE:"reachedNode",START_DRAG:"startDrag",DRAGING:"draging",STOP_DRAG:"stopDrag"},init:function(){var e,t,a=this;if(a.bgMask){var i=a.bgMask.getChildAt(0);a.progressBar.mask=i,i.scale.x=0}var r=this.a0.x===this.a1.x?"vertical":"horizontal",o=0,s=[];a.drag.lastPos={x:a.drag.x,y:a.drag.y};for(var d=0;d<int.MAX_VALUE;d++){var l=this["a"+d];if(void 0===l){t="vertical"===r?this["a"+(d-1)].y:this["a"+(d-1)].x,o=d;break}s.push(l),0===d&&(e="vertical"===r?l.y:l.x),l.addEventListener(TouchEvent.TAP,function(){var e=this;"vertical"===r?TweenMax.to(a.drag,.5,{y:this.y}):TweenMax.to(a.drag,.5,{x:this.x,onComplete:function(){a.emit(n.event.CLICK_NODE_REACHED,{index:e.name.substr(1,1)})}}),this.totalFrames&&(s.forEach(function(e){return e.currentFrame=0}),this.currentFrame=1),a.drag.lastPos={x:this.x,y:this.y},a.emit(n.event.CLICK_NODE,{index:this.name.substr(1,1)})})}this.setDrag=function(i){i?(NBDrag.addDrag(a.drag),a.drag.on(NBDrag.event.START_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.START_DRAG,{time:i})}),a.drag.on(NBDrag.event.DRAG_MOVE,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.DRAGING,{time:i})}),a.drag.on(NBDrag.event.STOP_DRAG,function(){var i=(a.drag.x-e)/(t-e);a.emit(n.event.STOP_DRAG,{time:i}),i>=1&&a.emit(n.event.ON_COMPLETE,{time:i})})):NBDrag.removeDrag(a.drag)},a.drag.addEventListener(NBDrag.event.STOP_DRAG,function(){if(!1!==a._align_){var n=o-1;if("vertical"===r){var i=Math.round((this.y-e)/(t-e)*n);i<0&&(i=0)}else{var s=Math.round((this.x-e)/(t-e)*n);s<0&&(s=0)}}}),a.drag.addEventListener(NBDrag.event.DRAG_MOVE,function(){u()});var c=!1;a.drag.constY=a.drag.y;var h,u=function(){a.drag.y=a.drag.constY,a.drag.x>=t&&(a.drag.x=t),a.drag.x<=e&&(a.drag.x=e);var i=(a.drag.x-e)/(t-e);if(i<1){c=!1,a.emit(n.event.ON_PLAY,{time:i});for(var r=0;r<s.length;r++)a.drag.lastPos.x<=s[r].x&&a.drag.x>s[r].x&&a.emit(n.event.REACHED_NODE,{index:r})}else c||(c=!0,a.emit(n.event.ON_COMPLETE,{time:i}));(a.drag.line0&&(a.drag.line0.rotation=1800*i*Math.PI/180,a.drag.line1.rotation=360*i*Math.PI/180),a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=i);a.drag.lastPos={x:a.drag.x,y:a.drag.y}};this.getNodeCount=function(){return o},this.setNodePos=function(e){var t=this["a"+e];"vertical"===r?a.drag.y=t.y:a.drag.x=t.x},nb.MovieClip.ticker.add(function(){a._auto_&&!a.drag.isDragging&&("vertical"===r?a.drag.y+=a._speed_:a.drag.x+=a._speed_,u())}),this.setAutoPlay=function(e,t){this._auto_=e,this._speed_=t||.1},this.setAutoAlign=function(e){this._align_=e},this.setMomentsPause=function(e,t,n){clearTimeout(h),e&&!a.NOTafterStopPlay?(a.setAutoPlay(!1),clearTimeout(h),a.setAutoPlay(!1),h=setTimeout(function(){a.setAutoPlay(!0,n)},t)):a.setAutoPlay(!1)},this.resetTimeline=function(){(this.drag.x=this.bgMask.x,a.bgMask)&&(a.bgMask.getChildAt(0).scale.x=0)}}};t.default=n},521:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=e||{};var t=this,a=[];n.default.init.apply(this.timeline);for(var i=0;i<this.timeline.getNodeCount();i++){var r=this["step"+i];a.push(r),r.alpha=0,r.visible=!1}var o=this.step0;o.visible=!0,o.alpha=1;var s=0;this.timeline.on(n.default.event.CLICK_NODE,function(n){if(void 0!==n.index&&n.index!=s){var i=e.offset||1200;i=n.index>s?$s(i):-$s(i);var r=void 0!==o.currentX?o.currentX:o.currentX=o.x;TweenMax.to(o,e.oldTm||.6,{x:r+i,alpha:0,onComplete:function(t){t.visible=!1,e.isFix||(t.y=0)},onCompleteParams:[o],ease:Expo.easeOut}),s=n.index,(o=a[s]).visible=!0,r=void 0!==o.currentX?o.currentX:o.currentX=o.x,o.x=r-i,TweenMax.to(o,e.newTm||1,{x:r,alpha:1,ease:Expo.easeOut,onComplete:function(){t.emit(t.boxSwitch_event.CHANGE_COM,{target:o,index:n.index})}})}}),this.addEventListener("render",function(){o.onUpdate&&o.onUpdate()}),t.boxSwitch_event={CHANGE_COM:"changeCom"}};var n=function(e){return e&&e.__esModule?e:{default:e}}(a(520))},522:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=e||this,n=a.parent,i=a.record,r=Object.assign({offsetX:-(a.width+10),offsetY:100,limitRect:!0},t),o=instance.stage.NBONOFF||instance.viewStack.NBONOFF,s=Sine.easeInOut;n.bgMask&&(a.mask=n.bgMask.children[0]);a.x=1280-a.record.width-2,a.y=60+o.height*o.scale.y+5;var d=a.x,l=a.y,c=a.x+r.offsetX,h=a.y+r.offsetY;i.addEventListener(TouchEvent.TAP,v);var u=i.x-a.dragForm.x,p=i.y-a.dragForm.y;function v(e){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),n.setChildIndex(a,n.children.length-1),a.x==d?(a.emit("showData",{goBack:!1}),TweenMax.to(a,.4,{y:h,onComplete:function(){TweenMax.to(a,.4,{x:c,onComplete:function(){var e=void 0;r.limitRect&&(e={x:0,y:0,width:1280-a.width/3,height:720-a.height}),NBDrag.addDrag(a,e),a.addEventListener(NBDrag.event.DRAG_MOVE,m),a.addEventListener(NBDrag.event.STOP_DRAG,f),i.icon&&TweenMax.to(i.icon,.2,{rotation:Math.PI,ease:s})}})}}),r.showModelMask&&(TweenMax.killTweensOf(n.recordGra),TweenMax.to(n.recordGra,.5,{alpha:1,onComplete:function(){n.setChildIndex(a,n.children.length-1),n.setChildIndex(n.recordGra,n.children.length-2)}}))):(a.emit("showData",{goBack:!0}),e&&g())}function f(){instance.NBDownTip.hideTip(),instance.NBDownTipsError.hideTip(),a.x>d-a.width/3&&g()}function g(){TweenMax.to(a,.5,{x:d,onComplete:function(){TweenMax.to(a,.4,{y:l,onComplete:function(){NBDrag.removeDrag(a),a.removeEventListener(NBDrag.event.DRAG_MOVE,m),a.removeEventListener(NBDrag.event.STOP_DRAG,f),i.icon&&TweenMax.to(i.icon,.2,{rotation:0,ease:s})}})}}),r.showModelMask&&(TweenMax.killTweensOf(n.recordGra),TweenMax.to(n.recordGra,.5,{alpha:0,onComplete:function(){n.setChildIndex(n.recordGra,0)}}))}function m(){a.record.x=u+a.dragForm.x,a.record.y=p+a.dragForm.y}a.showRecord=v,a.recordBack=g,function(){if(r.showModelMask){var e=new PIXI.Graphics;e.beginFill(0,.6),e.drawRect(0,0,1280,720),e.endFill(),n.addChild(e),n.recordGra=e,n.setChildIndex(n.recordGra,0),n.setChildIndex(a,n.children.length-1),n.recordGra.alpha=0,e.addEventListener(TouchEvent.TAP,function(){})}}()}}});